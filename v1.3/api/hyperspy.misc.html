

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>hyperspy.misc package &mdash; HyperSpy 1.3 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/hyperspy_logo.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="HyperSpy 1.3 documentation" href="../index.html"/>
        <link rel="up" title="hyperspy package" href="hyperspy.html"/>
        <link rel="next" title="hyperspy.misc.eds package" href="hyperspy.misc.eds.html"/>
        <link rel="prev" title="hyperspy.learn package" href="hyperspy.learn.html"/>
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25260850-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> HyperSpy
          

          
            
            <img src="../_static/hyperspy_logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user_guide/index.html">HyperSpy User Guide (DRAFT)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Full HyperSpy API Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="hyperspy.html">hyperspy package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="hyperspy.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="hyperspy._components.html">hyperspy._components package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy._signals.html">hyperspy._signals package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.datasets.html">hyperspy.datasets package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.docstrings.html">hyperspy.docstrings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.drawing.html">hyperspy.drawing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.external.html">hyperspy.external package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.io_plugins.html">hyperspy.io_plugins package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.learn.html">hyperspy.learn package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">hyperspy.misc package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.models.html">hyperspy.models package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.samfire_utils.html">hyperspy.samfire_utils package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.tests.html">hyperspy.tests package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.utils.html">hyperspy.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.Release">hyperspy.Release module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy._lazy_signals">hyperspy._lazy_signals module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.api">hyperspy.api module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.api_nogui">hyperspy.api_nogui module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.axes">hyperspy.axes module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.component">hyperspy.component module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.components1d">hyperspy.components1d module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.components2d">hyperspy.components2d module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.conftest">hyperspy.conftest module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.decorators">hyperspy.decorators module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.defaults_parser">hyperspy.defaults_parser module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.events">hyperspy.events module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.exceptions">hyperspy.exceptions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.interactive">hyperspy.interactive module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.io">hyperspy.io module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.logger">hyperspy.logger module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.model">hyperspy.model module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.roi">hyperspy.roi module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.samfire">hyperspy.samfire module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.signal">hyperspy.signal module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.signal_tools">hyperspy.signal_tools module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.signals">hyperspy.signals module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy.ui_registry">hyperspy.ui_registry module</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing HyperSpy</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HyperSpy</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">hyperspy</a> &raquo;</li>
        
          <li><a href="hyperspy.html">hyperspy package</a> &raquo;</li>
        
      <li>hyperspy.misc package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/hyperspy.misc.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="hyperspy-misc-package">
<h1>hyperspy.misc package<a class="headerlink" href="#hyperspy-misc-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="hyperspy.misc.eds.html">hyperspy.misc.eds package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.eds.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.eds.html#module-hyperspy.misc.eds.ffast_mac">hyperspy.misc.eds.ffast_mac module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.eds.html#module-hyperspy.misc.eds.utils">hyperspy.misc.eds.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.eds.html#module-hyperspy.misc.eds">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hyperspy.misc.eels.html">hyperspy.misc.eels package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.eels.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.eels.html#module-hyperspy.misc.eels.base_gos">hyperspy.misc.eels.base_gos module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.eels.html#module-hyperspy.misc.eels.eelsdb">hyperspy.misc.eels.eelsdb module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.eels.html#module-hyperspy.misc.eels.effective_angle">hyperspy.misc.eels.effective_angle module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.eels.html#module-hyperspy.misc.eels.hartree_slater_gos">hyperspy.misc.eels.hartree_slater_gos module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.eels.html#module-hyperspy.misc.eels.hydrogenic_gos">hyperspy.misc.eels.hydrogenic_gos module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.eels.html#module-hyperspy.misc.eels.tools">hyperspy.misc.eels.tools module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.eels.html#module-hyperspy.misc.eels">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hyperspy.misc.holography.html">hyperspy.misc.holography package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.holography.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.holography.html#module-hyperspy.misc.holography.reconstruct">hyperspy.misc.holography.reconstruct module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.holography.html#module-hyperspy.misc.holography">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hyperspy.misc.io.html">hyperspy.misc.io package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.io.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.io.html#module-hyperspy.misc.io.tools">hyperspy.misc.io.tools module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.io.html#module-hyperspy.misc.io.utils_readfile">hyperspy.misc.io.utils_readfile module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.io.html#module-hyperspy.misc.io">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hyperspy.misc.machine_learning.html">hyperspy.misc.machine_learning package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.machine_learning.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.machine_learning.html#module-hyperspy.misc.machine_learning.import_sklearn">hyperspy.misc.machine_learning.import_sklearn module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.machine_learning.html#module-hyperspy.misc.machine_learning.orthomax">hyperspy.misc.machine_learning.orthomax module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.machine_learning.html#module-hyperspy.misc.machine_learning.tools">hyperspy.misc.machine_learning.tools module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperspy.misc.machine_learning.html#module-hyperspy.misc.machine_learning">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-hyperspy.misc.array_tools">
<span id="hyperspy-misc-array-tools-module"></span><h2>hyperspy.misc.array_tools module<a class="headerlink" href="#module-hyperspy.misc.array_tools" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="hyperspy.misc.array_tools.are_aligned">
<code class="descclassname">hyperspy.misc.array_tools.</code><code class="descname">are_aligned</code><span class="sig-paren">(</span><em>shape1</em>, <em>shape2</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.array_tools.are_aligned" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if two numpy arrays are aligned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>shape2</strong> (<em>shape1</em><em>,</em>) &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>isaligned</strong></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.array_tools.dict2sarray">
<code class="descclassname">hyperspy.misc.array_tools.</code><code class="descname">dict2sarray</code><span class="sig-paren">(</span><em>dictionary</em>, <em>sarray=None</em>, <em>dtype=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.array_tools.dict2sarray" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates a struct array from a dictionary</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dictionary</strong> (<em>dict</em>) &#8211; </li>
<li><strong>sarray</strong> (<em>struct array</em><em> or </em><em>None</em>) &#8211; Either sarray or dtype must be given. If sarray is given, it is
populated from the dictionary.</li>
<li><strong>dtype</strong> (<em>None</em><em>, </em><em>numpy dtype</em><em> or </em><em>dtype list</em>) &#8211; If sarray is None, dtype must be given. If so, a new struct array
is created according to the dtype, which is then populated.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Structure array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.array_tools.get_array_memory_size_in_GiB">
<code class="descclassname">hyperspy.misc.array_tools.</code><code class="descname">get_array_memory_size_in_GiB</code><span class="sig-paren">(</span><em>shape</em>, <em>dtype</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.array_tools.get_array_memory_size_in_GiB" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the size and dtype returns the amount of memory that such
an array needs to allocate</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>shape</strong> (<em>tuple</em>) &#8211; </li>
<li><strong>dtype</strong> (<em>data-type</em>) &#8211; The desired data-type for the array.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.array_tools.homogenize_ndim">
<code class="descclassname">hyperspy.misc.array_tools.</code><code class="descname">homogenize_ndim</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.array_tools.homogenize_ndim" title="Permalink to this definition">¶</a></dt>
<dd><p>Given any number of arrays returns the same arrays
reshaped by adding facing dimensions of size 1.</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.array_tools.jit_ifnumba">
<code class="descclassname">hyperspy.misc.array_tools.</code><code class="descname">jit_ifnumba</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.array_tools.jit_ifnumba" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.array_tools.rebin">
<code class="descclassname">hyperspy.misc.array_tools.</code><code class="descname">rebin</code><span class="sig-paren">(</span><em>a</em>, <em>new_shape=None</em>, <em>scale=None</em>, <em>crop=True</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.array_tools.rebin" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebin array.</p>
<p>rebin ndarray data into a smaller or larger array based on a linear
interpolation. Specify either a new_shape or a scale. Scale of 1== no
binning. Scale less than one results in up-sampling.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>a</strong> (<em>numpy array</em>) &#8211; </li>
<li><strong>new_shape</strong> (<em>a list of floats</em><em> or </em><em>integer</em><em>, </em><em>default None</em>) &#8211; For each dimension specify the new_shape of the np.array. This will
then be converted into a scale.</li>
<li><strong>scale</strong> (<em>a list of floats</em><em> or </em><em>integer</em><em>, </em><em>default None</em>) &#8211; For each dimension specify the new:old pixel ratio, e.g. a ratio of 1
is no binning and a ratio of 2 means that each pixel in the new
spectrum is twice the size of the pixels in the old spectrum.
The length of the list should match the dimension of the numpy array.
<strong>*Note : Only one of scale or new_shape should be specified otherwise
the function will not run*</strong></li>
<li><strong>crop</strong> (<em>bool</em><em>, </em><em>default True</em>) &#8211; <p>When binning by a non-integer number of pixels it is likely that
the final row in each dimension contains less than the full quota to
fill one pixel.</p>
<p>e.g. 5*5 array binned by 2.1 will produce two rows containing 2.1
pixels and one row containing only 0.8 pixels worth. Selection of
crop=&#8217;True&#8217; or crop=&#8217;False&#8217; determines whether or not this
&#8216;black&#8217; line is cropped from the final binned array or not.</p>
<p><em>Please note that if crop=False is used, the final row in each
dimension may appear black, if a fractional number of pixels are left
over. It can be removed but has been left to preserve total counts
before and after binning.</em></p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy array</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">=</span><span class="n">rand</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span> <span class="n">b</span><span class="o">=</span><span class="n">rebin</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">scale</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">=</span><span class="n">rand</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span> <span class="n">b</span><span class="o">=</span><span class="n">rebin</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">scale</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,))</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>Fast re_bin function Adapted from scipy cookbook</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.array_tools.sarray2dict">
<code class="descclassname">hyperspy.misc.array_tools.</code><code class="descname">sarray2dict</code><span class="sig-paren">(</span><em>sarray</em>, <em>dictionary=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.array_tools.sarray2dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a struct array to an ordered dictionary</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sarray</strong> (<em>struct array</em>) &#8211; </li>
<li><strong>dictionary</strong> (<em>None</em><em> or </em><em>dict</em>) &#8211; If dictionary is not None the content of sarray will be appended to the
given dictonary</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Ordered dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-hyperspy.misc.config_dir">
<span id="hyperspy-misc-config-dir-module"></span><h2>hyperspy.misc.config_dir module<a class="headerlink" href="#module-hyperspy.misc.config_dir" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-hyperspy.misc.date_time_tools">
<span id="hyperspy-misc-date-time-tools-module"></span><h2>hyperspy.misc.date_time_tools module<a class="headerlink" href="#module-hyperspy.misc.date_time_tools" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="hyperspy.misc.date_time_tools.ISO_format_to_serial_date">
<code class="descclassname">hyperspy.misc.date_time_tools.</code><code class="descname">ISO_format_to_serial_date</code><span class="sig-paren">(</span><em>date</em>, <em>time</em>, <em>timezone='UTC'</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.date_time_tools.ISO_format_to_serial_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert ISO format to a serial date.</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.date_time_tools.datetime_to_serial_date">
<code class="descclassname">hyperspy.misc.date_time_tools.</code><code class="descname">datetime_to_serial_date</code><span class="sig-paren">(</span><em>dt</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.date_time_tools.datetime_to_serial_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert datetime.datetime object to a serial date.</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.date_time_tools.get_date_time_from_metadata">
<code class="descclassname">hyperspy.misc.date_time_tools.</code><code class="descname">get_date_time_from_metadata</code><span class="sig-paren">(</span><em>metadata</em>, <em>formatting='ISO'</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.date_time_tools.get_date_time_from_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the date and time from a metadata tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>metadata</strong> (<em>metadata object</em>) &#8211; </li>
<li><strong>formatting</strong> (<a class="reference internal" href="hyperspy.drawing._widgets.html#hyperspy.drawing._widgets.label.LabelWidget.string" title="hyperspy.drawing._widgets.label.LabelWidget.string"><em>string</em></a><em>, </em><em>(</em><em>'ISO'</em><em>, </em><em>'datetime'</em><em>, </em><em>'datetime64'</em><em>)</em>) &#8211; Default: &#8216;ISO&#8217;. This parameter set the formatting of the date,
and the time, it can be ISO 8601 string, datetime.datetime
or a numpy.datetime64 object. In the later case, the time zone
is not supported.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="hyperspy.drawing._widgets.html#hyperspy.drawing._widgets.label.LabelWidget.string" title="hyperspy.drawing._widgets.label.LabelWidget.string">string</a>, datetime.datetime or numpy.datetime64 object</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;example1.msa&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span>
<span class="go">    ├── General</span>
<span class="go">    │   ├── date = 1991-10-01</span>
<span class="go">    │   ├── original_filename = example1.msa</span>
<span class="go">    │   ├── time = 12:00:00</span>
<span class="go">    │   └── title = NIO EELS OK SHELL</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">get_date_time_from_metadata</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>
<span class="go">&#39;1991-10-01T12:00:00&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">get_date_time_from_metadata</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="p">,</span> <span class="n">formatting</span><span class="o">=</span><span class="s1">&#39;ISO&#39;</span><span class="p">)</span>
<span class="go">&#39;1991-10-01T12:00:00&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">get_date_time_from_metadata</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="p">,</span> <span class="n">formatting</span><span class="o">=</span><span class="s1">&#39;datetime&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">get_date_time_from_metadata</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="p">,</span> <span class="n">formatting</span><span class="o">=</span><span class="s1">&#39;datetime64&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.date_time_tools.serial_date_to_ISO_format">
<code class="descclassname">hyperspy.misc.date_time_tools.</code><code class="descname">serial_date_to_ISO_format</code><span class="sig-paren">(</span><em>serial</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.date_time_tools.serial_date_to_ISO_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert serial_date to a tuple of string (date, time, time_zone) in ISO
format. By default, the serial date is converted in local time zone.</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.date_time_tools.serial_date_to_datetime">
<code class="descclassname">hyperspy.misc.date_time_tools.</code><code class="descname">serial_date_to_datetime</code><span class="sig-paren">(</span><em>serial</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.date_time_tools.serial_date_to_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert serial date to a datetime.datetime object.</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.date_time_tools.update_date_time_in_metadata">
<code class="descclassname">hyperspy.misc.date_time_tools.</code><code class="descname">update_date_time_in_metadata</code><span class="sig-paren">(</span><em>dt</em>, <em>metadata</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.date_time_tools.update_date_time_in_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the date and time in a metadata tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dt</strong> (<em>date and time information: it can be a ISO 8601 string</em><em>,</em>) &#8211; a datetime.datetime or a numpy.datetime64 object</li>
<li><strong>metadata</strong> (<em>metadata object to update</em>) &#8211; </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">metadata object</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;example1.msa&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt</span> <span class="o">=</span> <span class="s1">&#39;2016-12-12T12:12:12-05:00&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="n">update_date_time_in_metadata</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span>
<span class="go">    ├── General</span>
<span class="go">    │   ├── date = 2016-12-12</span>
<span class="go">    │   ├── original_filename = example1.msa</span>
<span class="go">    │   ├── time = 12:12:12</span>
<span class="go">    │   ├── time_zone = &#39;EST&#39;</span>
<span class="go">    │   └── title = NIO EELS OK SHELL</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-hyperspy.misc.elements">
<span id="hyperspy-misc-elements-module"></span><h2>hyperspy.misc.elements module<a class="headerlink" href="#module-hyperspy.misc.elements" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-hyperspy.misc.example_signals_loading">
<span id="hyperspy-misc-example-signals-loading-module"></span><h2>hyperspy.misc.example_signals_loading module<a class="headerlink" href="#module-hyperspy.misc.example_signals_loading" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="hyperspy.misc.example_signals_loading.load_1D_EDS_SEM_spectrum">
<code class="descclassname">hyperspy.misc.example_signals_loading.</code><code class="descname">load_1D_EDS_SEM_spectrum</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.example_signals_loading.load_1D_EDS_SEM_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Load an EDS-SEM spectrum</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li>Sample: EDS-TM002 provided by BAM (www.webshop.bam.de)</li>
<li>SEM Microscope: Nvision40 Carl Zeiss</li>
<li>EDS Detector: X-max 80 from Oxford Instrument</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.example_signals_loading.load_1D_EDS_TEM_spectrum">
<code class="descclassname">hyperspy.misc.example_signals_loading.</code><code class="descname">load_1D_EDS_TEM_spectrum</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.example_signals_loading.load_1D_EDS_TEM_spectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Load an EDS-TEM spectrum</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li>Sample: FePt bimetallic nanoparticles</li>
<li>SEM Microscope: Tecnai Osiris 200 kV D658 AnalyticalTwin</li>
<li>EDS Detector: Super-X 4 detectors Brucker</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.example_signals_loading.load_object_hologram">
<code class="descclassname">hyperspy.misc.example_signals_loading.</code><code class="descname">load_object_hologram</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.example_signals_loading.load_object_hologram" title="Permalink to this definition">¶</a></dt>
<dd><p>Load an object hologram image</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li>Sample: Fe needle with YOx nanoparticle inclusions [Migunov, V. et al.</li>
</ul>
<p>Model-independent measurement of the charge density distribution along an Fe atom probe needle using
off-axis electron holography without mean inner potential effects. Journal of Applied Physics 117, 134301 (2015).
<a class="reference external" href="https://doi.org/10.1063/1.4916609">https://doi.org/10.1063/1.4916609</a>]
- TEM Microscope: FEI Titan G2 60-300 HOLO [Boothroyd, C. et al. FEI Titan G2 60-300 HOLO.
Journal of large-scale research facilities JLSRF 2, 44 (2016).
<a class="reference external" href="https://doi.org/10.17815/jlsrf-2-70">https://doi.org/10.17815/jlsrf-2-70</a>]</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.example_signals_loading.load_reference_hologram">
<code class="descclassname">hyperspy.misc.example_signals_loading.</code><code class="descname">load_reference_hologram</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.example_signals_loading.load_reference_hologram" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a reference hologram image</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li>Sample: Fe needle with YOx nanoparticle inclusions [Migunov, V. et al.</li>
</ul>
<p>Model-independent measurement of the charge density distribution along an Fe atom probe needle using
off-axis electron holography without mean inner potential effects. Journal of Applied Physics 117, 134301 (2015).
<a class="reference external" href="https://doi.org/10.1063/1.4916609">https://doi.org/10.1063/1.4916609</a>]
- TEM Microscope: FEI Titan G2 60-300 HOLO [Boothroyd, C. et al. FEI Titan G2 60-300 HOLO.
Journal of large-scale research facilities JLSRF 2, 44 (2016).
<a class="reference external" href="https://doi.org/10.17815/jlsrf-2-70">https://doi.org/10.17815/jlsrf-2-70</a>]</p>
</dd></dl>

</div>
<div class="section" id="module-hyperspy.misc.export_dictionary">
<span id="hyperspy-misc-export-dictionary-module"></span><h2>hyperspy.misc.export_dictionary module<a class="headerlink" href="#module-hyperspy.misc.export_dictionary" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="hyperspy.misc.export_dictionary.check_that_flags_make_sense">
<code class="descclassname">hyperspy.misc.export_dictionary.</code><code class="descname">check_that_flags_make_sense</code><span class="sig-paren">(</span><em>flags</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.export_dictionary.check_that_flags_make_sense" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.export_dictionary.export_to_dictionary">
<code class="descclassname">hyperspy.misc.export_dictionary.</code><code class="descname">export_to_dictionary</code><span class="sig-paren">(</span><em>target</em>, <em>whitelist</em>, <em>dic</em>, <em>fullcopy=True</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.export_dictionary.export_to_dictionary" title="Permalink to this definition">¶</a></dt>
<dd><p>Exports attributes of target from whitelist.keys() to dictionary dic
All values are references only by default.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>target</strong> (<em>object</em>) &#8211; must contain the (nested) attributes of the whitelist.keys()</li>
<li><strong>whitelist</strong> (<em>dictionary</em>) &#8211; <p>A dictionary, keys of which are used as attributes for exporting.
Key &#8216;self&#8217; is only available with tag &#8216;id&#8217;, when the id of the
target is saved. The values are either None, or a tuple, where:</p>
<blockquote>
<div><ul>
<li>the first item a string, which containts flags, separated by</li>
</ul>
<p>commas.
- the second item is None if no &#8216;init&#8217; flag is given, otherwise
the object required for the initialization.</p>
</div></blockquote>
<p>The flag conventions are as follows:
* &#8216;init&#8217;:</p>
<blockquote>
<div>object used for initialization of the target. The object is
saved in the tuple in whitelist</div></blockquote>
<ul>
<li><dl class="first docutils">
<dt>&#8216;fn&#8217;:</dt>
<dd>the targeted attribute is a function, and may be pickled. A
tuple of (thing, value) will be exported to the dictionary,
where thing is None if function is passed as-is, and True if
dill package is used to pickle the function, with the value as
the result of the pickle.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>&#8216;id&#8217;:</dt>
<dd>the id of the targeted attribute is exported (e.g.
id(target.name))</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>&#8216;sig&#8217;:</dt>
<dd>The targeted attribute is a signal, and will be converted to a
dictionary if fullcopy=True</dd>
</dl>
</li>
</ul>
</li>
<li><strong>dic</strong> (<em>dictionary</em>) &#8211; A dictionary where the object will be exported</li>
<li><strong>fullcopy</strong> (<em>bool</em>) &#8211; Copies of objects are stored, not references. If any found,
functions will be pickled and signals converted to dictionaries</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.export_dictionary.load_from_dictionary">
<code class="descclassname">hyperspy.misc.export_dictionary.</code><code class="descname">load_from_dictionary</code><span class="sig-paren">(</span><em>target</em>, <em>dic</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.export_dictionary.load_from_dictionary" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads attributes of target to dictionary dic
The attribute list is read from dic[&#8216;_whitelist&#8217;].keys()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>target</strong> (<em>object</em>) &#8211; must contain the (nested) attributes of the whitelist.keys()</li>
<li><strong>dic</strong> (<em>dictionary</em>) &#8211; <p>A dictionary, containing field &#8216;_whitelist&#8217;, which is a dictionary
with all keys that were exported, with values being flag strings.
The convention of the flags is as follows:
* &#8216;init&#8217;:</p>
<blockquote>
<div>object used for initialization of the target. Will be copied to
the _whitelist after loading</div></blockquote>
<ul>
<li><dl class="first docutils">
<dt>&#8216;fn&#8217;:</dt>
<dd>the targeted attribute is a function, and may have been pickled
(preferably with dill package).</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>&#8216;id&#8217;:</dt>
<dd>the id of the original object was exported and the attribute
will not be set. The key has to be &#8216;_id_&#8217;</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>&#8216;sig&#8217;:</dt>
<dd>The targeted attribute was a signal, and may have been converted
to a dictionary if fullcopy=True</dd>
</dl>
</li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.export_dictionary.parse_flag_string">
<code class="descclassname">hyperspy.misc.export_dictionary.</code><code class="descname">parse_flag_string</code><span class="sig-paren">(</span><em>flags</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.export_dictionary.parse_flag_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.export_dictionary.reconstruct_object">
<code class="descclassname">hyperspy.misc.export_dictionary.</code><code class="descname">reconstruct_object</code><span class="sig-paren">(</span><em>flags</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.export_dictionary.reconstruct_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstructs the value (if necessary) after having saved it in a
dictionary</p>
</dd></dl>

</div>
<div class="section" id="module-hyperspy.misc.ipython_tools">
<span id="hyperspy-misc-ipython-tools-module"></span><h2>hyperspy.misc.ipython_tools module<a class="headerlink" href="#module-hyperspy.misc.ipython_tools" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="hyperspy.misc.ipython_tools.get_interactive_ns">
<code class="descclassname">hyperspy.misc.ipython_tools.</code><code class="descname">get_interactive_ns</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.ipython_tools.get_interactive_ns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.ipython_tools.get_ipython">
<code class="descclassname">hyperspy.misc.ipython_tools.</code><code class="descname">get_ipython</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.ipython_tools.get_ipython" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the global InteractiveShell instance.</p>
<p>Returns None if no InteractiveShell instance is registered.</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.ipython_tools.is_it_running_from_ipython">
<code class="descclassname">hyperspy.misc.ipython_tools.</code><code class="descname">is_it_running_from_ipython</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.ipython_tools.is_it_running_from_ipython" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.ipython_tools.turn_logging_off">
<code class="descclassname">hyperspy.misc.ipython_tools.</code><code class="descname">turn_logging_off</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.ipython_tools.turn_logging_off" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.ipython_tools.turn_logging_on">
<code class="descclassname">hyperspy.misc.ipython_tools.</code><code class="descname">turn_logging_on</code><span class="sig-paren">(</span><em>verbose=1</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.ipython_tools.turn_logging_on" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-hyperspy.misc.material">
<span id="hyperspy-misc-material-module"></span><h2>hyperspy.misc.material module<a class="headerlink" href="#module-hyperspy.misc.material" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="hyperspy.misc.material.atomic_to_weight">
<code class="descclassname">hyperspy.misc.material.</code><code class="descname">atomic_to_weight</code><span class="sig-paren">(</span><em>atomic_percent</em>, <em>elements='auto'</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.material.atomic_to_weight" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert atomic percent to weight percent.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>atomic_percent</strong> (<em>list of float</em><em> or </em><em>list of signals</em>) &#8211; The atomic fractions (composition) of the sample.</li>
<li><strong>elements</strong> (<em>list of str</em>) &#8211; A list of element abbreviations, e.g. [&#8216;Al&#8217;,&#8217;Zn&#8217;]. If elements is
&#8216;auto&#8217;, take the elements in en each signal metadata of the
atomic_percent list.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>weight_percent</strong> &#8211; composition in weight percent.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">as atomic_percent</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Calculate the weight percent of modern bronze given its atomic percent:
&gt;&gt;&gt; hs.material.atomic_to_weight([93.2, 6.8], (&#8220;Cu&#8221;, &#8220;Sn&#8221;))
array([ 88.00501989,  11.99498011])</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.material.density_of_mixture">
<code class="descclassname">hyperspy.misc.material.</code><code class="descname">density_of_mixture</code><span class="sig-paren">(</span><em>weight_percent</em>, <em>elements='auto'</em>, <em>mean='harmonic'</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.material.density_of_mixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the density of a mixture of elements.</p>
<p>The density of the elements is retrieved from an internal database. The
calculation is only valid if there is no interaction between the
components.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>weight_percent</strong> (<em>list of float</em><em> or </em><em>list of signals</em>) &#8211; A list of weight percent for the different elements. If the total
is not equal to 100, each weight percent is divided by the sum
of the list (normalization).</li>
<li><strong>elements</strong> (<em>list of str</em>) &#8211; A list of element symbols, e.g. [&#8216;Al&#8217;, &#8216;Zn&#8217;]. If elements is &#8216;auto&#8217;,
take the elements in en each signal metadata of the weight_percent
list.</li>
<li><strong>mean</strong> (<em>'harmonic'</em><em> or </em><em>'weighted'</em>) &#8211; The type of mean use to estimate the density</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>density</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">The density in g/cm3.</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Calculate the density of modern bronze given its weight percent:
&gt;&gt;&gt; hs.material.density_of_mixture([88, 12],[&#8216;Cu&#8217;, &#8216;Sn&#8217;])
8.6903187973131466</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.material.mass_absorption_coefficient">
<code class="descclassname">hyperspy.misc.material.</code><code class="descname">mass_absorption_coefficient</code><span class="sig-paren">(</span><em>element</em>, <em>energies</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.material.mass_absorption_coefficient" title="Permalink to this definition">¶</a></dt>
<dd><p>Mass absorption coefficient (mu/rho) of a X-ray absorbed in a pure
material.</p>
<p>The mass absorption is retrieved from the database of Chantler2005</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>element</strong> (<em>str</em>) &#8211; The element symbol of the absorber, e.g. &#8216;Al&#8217;.</li>
<li><strong>energies</strong> (<em>float</em><em> or </em><em>list of float</em><em> or </em><em>str</em><em> or </em><em>list of str</em>) &#8211; The energy or energies of the X-ray in keV, or the name of the X-rays,
e.g. &#8216;Al_Ka&#8217;.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">mass absorption coefficient(<a class="reference internal" href="hyperspy.tests.drawing.html#hyperspy.tests.drawing.test_plot_signal1d.TestPlotSpectra.s" title="hyperspy.tests.drawing.test_plot_signal1d.TestPlotSpectra.s">s</a>) in cm^2/g</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">mass_absorption_coefficient</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">element</span><span class="o">=</span><span class="s1">&#39;Al&#39;</span><span class="p">,</span> <span class="n">energies</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;C_Ka&#39;</span><span class="p">,</span><span class="s1">&#39;Al_Ka&#39;</span><span class="p">])</span>
<span class="go">array([ 26330.38933818,    372.02616732])</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-func docutils literal"><span class="pre">hs.material.mass_absorption_mixture()</span></code></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">See <a class="reference external" href="http://physics.nist.gov/ffast">http://physics.nist.gov/ffast</a>
Chantler, C.T., Olsen, K., Dragoset, R.A., Kishore, A.R., Kotochigova,
S.A., and Zucker, D.S. (2005), X-Ray Form Factor, Attenuation and
Scattering Tables (version 2.1).</p>
</div>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.material.mass_absorption_mixture">
<code class="descclassname">hyperspy.misc.material.</code><code class="descname">mass_absorption_mixture</code><span class="sig-paren">(</span><em>weight_percent</em>, <em>elements='auto'</em>, <em>energies='auto'</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.material.mass_absorption_mixture" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the mass absorption coefficient for X-ray absorbed in a
mixture of elements.</p>
<p>The mass absorption coefficient is calculated as a weighted mean of the
weight percent and is retrieved from the database of Chantler2005.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>weight_percent</strong> (<em>list of float</em><em> or </em><em>list of signals</em>) &#8211; The composition of the absorber(s) in weight percent. The first
dimension of the matrix corresponds to the elements.</li>
<li><strong>elements</strong> (<em>list of str</em><em> or </em><em>'auto'</em>) &#8211; The list of element symbol of the absorber, e.g. [&#8216;Al&#8217;,&#8217;Zn&#8217;]. If
elements is &#8216;auto&#8217;, take the elements in each signal metadata of the
weight_percent list.</li>
<li><strong>energies</strong> (<em>list of float</em><em> or </em><em>list of str</em><em> or </em><em>'auto'</em>) &#8211; The energy or energies of the X-ray in keV, or the name of the X-rays,
e.g. &#8216;Al_Ka&#8217;. If &#8216;auto&#8217;, take the lines in each signal metadata of the
weight_percent list.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">mass_absorption_mixture</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Al&#39;</span><span class="p">,</span><span class="s1">&#39;Zn&#39;</span><span class="p">],</span> <span class="n">weight_percent</span><span class="o">=</span><span class="p">[</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">],</span> <span class="n">energies</span><span class="o">=</span><span class="s1">&#39;Al_Ka&#39;</span><span class="p">)</span>
<span class="go">2587.41616439</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><em>float or array of float</em></li>
<li><em>mass absorption coefficient(s) in cm^2/g</em></li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-func docutils literal"><span class="pre">hs.material.mass_absorption_coefficient()</span></code></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">See <a class="reference external" href="http://physics.nist.gov/ffast">http://physics.nist.gov/ffast</a>
Chantler, C.T., Olsen, K., Dragoset, R.A., Kishore, A.R., Kotochigova,
S.A., and Zucker, D.S. (2005), X-Ray Form Factor, Attenuation and
Scattering Tables (version 2.1).</p>
</div>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.material.weight_to_atomic">
<code class="descclassname">hyperspy.misc.material.</code><code class="descname">weight_to_atomic</code><span class="sig-paren">(</span><em>weight_percent</em>, <em>elements='auto'</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.material.weight_to_atomic" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert weight percent (wt%) to atomic percent (at.%).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>weight_percent</strong> (<em>list of float</em><em> or </em><em>list of signals</em>) &#8211; The weight fractions (composition) of the sample.</li>
<li><strong>elements</strong> (<em>list of str</em>) &#8211; A list of element abbreviations, e.g. [&#8216;Al&#8217;,&#8217;Zn&#8217;]. If elements is
&#8216;auto&#8217;, take the elements in en each signal metadata of th
weight_percent list.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>atomic_percent</strong> &#8211; Composition in atomic percent.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">as weight_percent</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Calculate the atomic percent of modern bronze given its weight percent:
&gt;&gt;&gt; hs.material.weight_to_atomic((88, 12), (&#8220;Cu&#8221;, &#8220;Sn&#8221;))
array([ 93.19698614,   6.80301386])</p>
</dd></dl>

</div>
<div class="section" id="module-hyperspy.misc.math_tools">
<span id="hyperspy-misc-math-tools-module"></span><h2>hyperspy.misc.math_tools module<a class="headerlink" href="#module-hyperspy.misc.math_tools" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="hyperspy.misc.math_tools.antisymmetrize">
<code class="descclassname">hyperspy.misc.math_tools.</code><code class="descname">antisymmetrize</code><span class="sig-paren">(</span><em>a</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.math_tools.antisymmetrize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.math_tools.anyfloatin">
<code class="descclassname">hyperspy.misc.math_tools.</code><code class="descname">anyfloatin</code><span class="sig-paren">(</span><em>things</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.math_tools.anyfloatin" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if iterable contains any non integer.</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.math_tools.closest_nice_number">
<code class="descclassname">hyperspy.misc.math_tools.</code><code class="descname">closest_nice_number</code><span class="sig-paren">(</span><em>number</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.math_tools.closest_nice_number" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.math_tools.get_linear_interpolation">
<code class="descclassname">hyperspy.misc.math_tools.</code><code class="descname">get_linear_interpolation</code><span class="sig-paren">(</span><em>p1</em>, <em>p2</em>, <em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.math_tools.get_linear_interpolation" title="Permalink to this definition">¶</a></dt>
<dd><p>Given two points in 2D returns y for a given x for y = ax + b</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>p1</strong><strong>,</strong><strong>p2</strong> (<em>(</em><a class="reference internal" href="hyperspy.html#hyperspy.roi.RectangularROI.x" title="hyperspy.roi.RectangularROI.x"><em>x</em></a><em>, </em><a class="reference internal" href="hyperspy.html#hyperspy.roi.RectangularROI.y" title="hyperspy.roi.RectangularROI.y"><em>y</em></a><em>)</em>) &#8211; </li>
<li><strong>x</strong> (<em>float</em>) &#8211; </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>y</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.math_tools.isfloat">
<code class="descclassname">hyperspy.misc.math_tools.</code><code class="descname">isfloat</code><span class="sig-paren">(</span><em>number</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.math_tools.isfloat" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a number or array is of float type.</p>
<p>This is necessary because e.g. isinstance(np.float32(2), float) is False.</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.math_tools.order_of_magnitude">
<code class="descclassname">hyperspy.misc.math_tools.</code><code class="descname">order_of_magnitude</code><span class="sig-paren">(</span><em>number</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.math_tools.order_of_magnitude" title="Permalink to this definition">¶</a></dt>
<dd><p>Order of magnitude of the given number</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>number</strong> (<em>float</em>) &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.math_tools.symmetrize">
<code class="descclassname">hyperspy.misc.math_tools.</code><code class="descname">symmetrize</code><span class="sig-paren">(</span><em>a</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.math_tools.symmetrize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-hyperspy.misc.physical_constants">
<span id="hyperspy-misc-physical-constants-module"></span><h2>hyperspy.misc.physical_constants module<a class="headerlink" href="#module-hyperspy.misc.physical_constants" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-hyperspy.misc.physics_tools">
<span id="hyperspy-misc-physics-tools-module"></span><h2>hyperspy.misc.physics_tools module<a class="headerlink" href="#module-hyperspy.misc.physics_tools" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="hyperspy.misc.physics_tools.bragg_scattering_angle">
<code class="descclassname">hyperspy.misc.physics_tools.</code><code class="descname">bragg_scattering_angle</code><span class="sig-paren">(</span><em>d</em>, <em>E0=100</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.physics_tools.bragg_scattering_angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the first order bragg diffraction semiangle.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>d</strong> (<em>float</em>) &#8211; interplanar distance in m.</li>
<li><strong>E0</strong> (<em>float</em>) &#8211; Incident energy in keV</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>float</strong> (<em>Semiangle of scattering of the first order difracted beam. This is</em>)</li>
<li><em>two times the bragg angle.</em></li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.physics_tools.effective_Z">
<code class="descclassname">hyperspy.misc.physics_tools.</code><code class="descname">effective_Z</code><span class="sig-paren">(</span><em>Z_list</em>, <em>exponent=2.94</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.physics_tools.effective_Z" title="Permalink to this definition">¶</a></dt>
<dd><p>Effective atomic number of a compound or mixture.</p>
<p>Exponent = 2.94 for X-ray absorption.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>Z_list</strong> (<em>list of tuples</em>) &#8211; A list of tuples (f,Z) where f is the number of atoms of the element in
the molecule and Z its atomic number</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-hyperspy.misc.rgb_tools">
<span id="hyperspy-misc-rgb-tools-module"></span><h2>hyperspy.misc.rgb_tools module<a class="headerlink" href="#module-hyperspy.misc.rgb_tools" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="hyperspy.misc.rgb_tools.is_rgb">
<code class="descclassname">hyperspy.misc.rgb_tools.</code><code class="descname">is_rgb</code><span class="sig-paren">(</span><em>array</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.rgb_tools.is_rgb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.rgb_tools.is_rgba">
<code class="descclassname">hyperspy.misc.rgb_tools.</code><code class="descname">is_rgba</code><span class="sig-paren">(</span><em>array</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.rgb_tools.is_rgba" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.rgb_tools.is_rgbx">
<code class="descclassname">hyperspy.misc.rgb_tools.</code><code class="descname">is_rgbx</code><span class="sig-paren">(</span><em>array</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.rgb_tools.is_rgbx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.rgb_tools.regular_array2rgbx">
<code class="descclassname">hyperspy.misc.rgb_tools.</code><code class="descname">regular_array2rgbx</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.rgb_tools.regular_array2rgbx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.rgb_tools.rgbx2regular_array">
<code class="descclassname">hyperspy.misc.rgb_tools.</code><code class="descname">rgbx2regular_array</code><span class="sig-paren">(</span><em>data</em>, <em>plot_friendly=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.rgb_tools.rgbx2regular_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms a RGBx array into a standard one</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<em>numpy array of RGBx dtype</em>) &#8211; </li>
<li><strong>plot_friendly</strong> (<em>bool</em>) &#8211; If True change the dtype to float when dtype is not uint8 and
normalize the array so that it is ready to be plotted by matplotlib.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-hyperspy.misc.signal_tools">
<span id="hyperspy-misc-signal-tools-module"></span><h2>hyperspy.misc.signal_tools module<a class="headerlink" href="#module-hyperspy.misc.signal_tools" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="hyperspy.misc.signal_tools.are_signals_aligned">
<code class="descclassname">hyperspy.misc.signal_tools.</code><code class="descname">are_signals_aligned</code><span class="sig-paren">(</span><em>*args</em>, <em>ignore_axis=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.signal_tools.are_signals_aligned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.signal_tools.broadcast_signals">
<code class="descclassname">hyperspy.misc.signal_tools.</code><code class="descname">broadcast_signals</code><span class="sig-paren">(</span><em>*args</em>, <em>ignore_axis=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.signal_tools.broadcast_signals" title="Permalink to this definition">¶</a></dt>
<dd><p>Broadcasts all passed signals according to the HyperSpy broadcasting
rules: signal and navigation spaces are each separately broadcasted
according to the numpy broadcasting rules. One axis can be ignored and
left untouched (or set to be size 1) across all signals.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>*args</strong> (<a class="reference internal" href="hyperspy.html#hyperspy.signal.BaseSignal" title="hyperspy.signal.BaseSignal"><em>BaseSignal</em></a>) &#8211; Signals to broadcast together</li>
<li><strong>ignore_axis</strong> (<em>{None</em><em>, </em><em>str</em><em>, </em><em>int</em><em>, </em><em>Axis}</em>) &#8211; The axis to be ignored when broadcasting</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of signals</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-hyperspy.misc.slicing">
<span id="hyperspy-misc-slicing-module"></span><h2>hyperspy.misc.slicing module<a class="headerlink" href="#module-hyperspy.misc.slicing" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="hyperspy.misc.slicing.FancySlicing">
<em class="property">class </em><code class="descclassname">hyperspy.misc.slicing.</code><code class="descname">FancySlicing</code><a class="headerlink" href="#hyperspy.misc.slicing.FancySlicing" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="class">
<dt id="hyperspy.misc.slicing.SpecialSlicers">
<em class="property">class </em><code class="descclassname">hyperspy.misc.slicing.</code><code class="descname">SpecialSlicers</code><span class="sig-paren">(</span><em>obj</em>, <em>isNavigation</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.slicing.SpecialSlicers" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.slicing.copy_slice_from_whitelist">
<code class="descclassname">hyperspy.misc.slicing.</code><code class="descname">copy_slice_from_whitelist</code><span class="sig-paren">(</span><em>_from</em>, <em>_to</em>, <em>dims</em>, <em>both_slices</em>, <em>isNav</em>, <em>order=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.slicing.copy_slice_from_whitelist" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies things from one object to another, according to whitelist, slicing
where required.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>_from</strong> (<em>object</em>) &#8211; Original object</li>
<li><strong>_to</strong> (<em>object</em>) &#8211; Target object</li>
<li><strong>dims</strong> (<em>tuple</em>) &#8211; (navigation_dimensions, signal_dimensions) of the original object that
is sliced</li>
<li><strong>both_slices</strong> (<em>tuple</em>) &#8211; (original_slices, array_slices) of the operation that is performed</li>
<li><strong>isNav</strong> (<em>bool</em>) &#8211; if the slicing operation is performed on navigation dimensions of the
object</li>
<li><strong>order</strong> (<em>tuple</em><em>, </em><em>None</em>) &#8211; if given, performs the copying in the order given. If not all attributes
given, the rest is random (the order a whitelist.keys() returns them).
If given in the object, _slicing_order is looked up.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-hyperspy.misc.test_utils">
<span id="hyperspy-misc-test-utils-module"></span><h2>hyperspy.misc.test_utils module<a class="headerlink" href="#module-hyperspy.misc.test_utils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="hyperspy.misc.test_utils.all_warnings">
<code class="descclassname">hyperspy.misc.test_utils.</code><code class="descname">all_warnings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.test_utils.all_warnings" title="Permalink to this definition">¶</a></dt>
<dd><p>Context for use in testing to ensure that all warnings are raised.
.. rubric:: Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">foo</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="ne">RuntimeWarning</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">))</span>
<span class="go">We raise the warning once, while the warning filter is set to &quot;once&quot;.</span>
<span class="go">Hereafter, the warning is invisible, even with custom filters:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s1">&#39;once&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">foo</span><span class="p">()</span>
<span class="go">We can now run ``foo()`` without a warning being raised:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy.testing</span> <span class="k">import</span> <span class="n">assert_warns</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span><span class="p">()</span>
<span class="go">To catch the warning, we call in the help of ``all_warnings``:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">all_warnings</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">assert_warns</span><span class="p">(</span><span class="ne">RuntimeWarning</span><span class="p">,</span> <span class="n">foo</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.test_utils.assert_deep_almost_equal">
<code class="descclassname">hyperspy.misc.test_utils.</code><code class="descname">assert_deep_almost_equal</code><span class="sig-paren">(</span><em>actual</em>, <em>expected</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.test_utils.assert_deep_almost_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert that two complex structures have almost equal contents.
Compares lists, dicts and tuples recursively. Checks numeric values
using <code class="xref py py-meth docutils literal"><span class="pre">assert_allclose()</span></code> and
checks all other values with <code class="xref py py-meth docutils literal"><span class="pre">assert_equal()</span></code>.
Accepts additional positional and keyword arguments and pass those
intact to assert_allclose() (that&#8217;s how you specify comparison
precision).
:param actual:
:type actual: lists, dicts or tuples
:param expected:
:type expected: lists, dicts or tuples</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.test_utils.assert_warns">
<code class="descclassname">hyperspy.misc.test_utils.</code><code class="descname">assert_warns</code><span class="sig-paren">(</span><em>message=None</em>, <em>category=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.test_utils.assert_warns" title="Permalink to this definition">¶</a></dt>
<dd><p>Context for use in testing to catch known warnings matching regexes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>message</strong> (<em>(</em><em>list of</em><em>) </em><em>strings</em><em> or </em><em>compiled regexes</em>) &#8211; Regexes for the desired warning to catch</li>
<li><strong>category</strong> (<a class="reference internal" href="hyperspy.drawing.html#hyperspy.drawing.signal1d.Signal1DLine.type" title="hyperspy.drawing.signal1d.Signal1DLine.type"><em>type</em></a><em> or </em><em>list of types</em>) &#8211; Warning categories for the desired warning to catch</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skimage</span> <span class="k">import</span> <span class="n">data</span><span class="p">,</span> <span class="n">img_as_ubyte</span><span class="p">,</span> <span class="n">img_as_float</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">assert_warns</span><span class="p">([</span><span class="s1">&#39;precision loss&#39;</span><span class="p">]):</span>
<span class="gp">... </span>    <span class="n">d</span> <span class="o">=</span> <span class="n">img_as_ubyte</span><span class="p">(</span><span class="n">img_as_float</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">coins</span><span class="p">()))</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>Upon exiting, it checks the recorded warnings for the desired matching
pattern(s).
Raises a ValueError if any match was not found or an unexpected
warning was raised.
Allows for three types of behaviors: &#8220;and&#8221;, &#8220;or&#8221;, and &#8220;optional&#8221; matches.
This is done to accomodate different build enviroments or loop conditions
that may produce different warnings.  The behaviors can be combined.
If you pass multiple patterns, you get an orderless &#8220;and&#8221;, where all of the
warnings must be raised.
If you use the &#8220;|&#8221; operator in a pattern, you can catch one of several warnings.
Finally, you can use &#8220;<a href="#id1"><span class="problematic" id="id2">|</span></a>AZ&#8221; in a pattern to signify it as optional.</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.test_utils.check_running_tests_in_CI">
<code class="descclassname">hyperspy.misc.test_utils.</code><code class="descname">check_running_tests_in_CI</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.test_utils.check_running_tests_in_CI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.test_utils.ignore_warning">
<code class="descclassname">hyperspy.misc.test_utils.</code><code class="descname">ignore_warning</code><span class="sig-paren">(</span><em>message=''</em>, <em>category=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.test_utils.ignore_warning" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.test_utils.sanitize_dict">
<code class="descclassname">hyperspy.misc.test_utils.</code><code class="descname">sanitize_dict</code><span class="sig-paren">(</span><em>dictionary</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.test_utils.sanitize_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-hyperspy.misc.tv_denoise">
<span id="hyperspy-misc-tv-denoise-module"></span><h2>hyperspy.misc.tv_denoise module<a class="headerlink" href="#module-hyperspy.misc.tv_denoise" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="hyperspy.misc.tv_denoise.tv_denoise">
<code class="descclassname">hyperspy.misc.tv_denoise.</code><code class="descname">tv_denoise</code><span class="sig-paren">(</span><em>im</em>, <em>weight=50</em>, <em>eps=0.0002</em>, <em>keep_type=False</em>, <em>n_iter_max=200</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.tv_denoise.tv_denoise" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform total-variation denoising on 2-d and 3-d images</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>im</strong> (<em>ndarray</em><em> (</em><em>2d</em><em> or </em><em>3d</em><em>) </em><em>of ints</em><em>, </em><em>uints</em><em> or </em><em>floats</em>) &#8211; input data to be denoised. <cite>im</cite> can be of any numeric type,
but it is cast into an ndarray of floats for the computation
of the denoised image.</li>
<li><strong>weight</strong> (<em>float</em><em>, </em><em>optional</em>) &#8211; denoising weight. The greater <code class="docutils literal"><span class="pre">weight</span></code>, the more denoising (at
the expense of fidelity to <code class="docutils literal"><span class="pre">input</span></code>)</li>
<li><strong>eps</strong> (<em>float</em><em>, </em><em>optional</em>) &#8211; <p>relative difference of the value of the cost function that
determines the stop criterion. The algorithm stops when:</p>
<blockquote>
<div>(E_(n-1) - E_n) &lt; eps * E_0</div></blockquote>
</li>
<li><strong>keep_type</strong> (<em>bool</em><em>, </em><em>optional</em><em> (</em><em>False</em><em>)</em>) &#8211; whether the output has the same dtype as the input array.
keep_type is False by default, and the dtype of the output
is np.float</li>
<li><strong>n_iter_max</strong> (<em>int</em><em>, </em><em>optional</em>) &#8211; maximal number of iterations used for the optimization.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>out</strong> &#8211; denoised array</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The principle of total variation denoising is explained in
<a class="reference external" href="http://en.wikipedia.org/wiki/Total_variation_denoising">http://en.wikipedia.org/wiki/Total_variation_denoising</a></p>
<p>The principle of total variation denoising is to minimize the
total variation of the image, which can be roughly described as
the integral of the norm of the image gradient. Total variation
denoising tends to produce &#8220;cartoon-like&#8221; images, that is,
piecewise-constant images.</p>
<p>This code is an implementation of the algorithm of Rudin, Fatemi and Osher
that was proposed by Chambolle in <a class="footnote-reference" href="#id4" id="id3">[1]</a>.</p>
<p class="rubric">References</p>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[1]</a></td><td>A. Chambolle, An algorithm for total variation minimization and
applications, Journal of Mathematical Imaging and Vision,
Springer, 2004, 20, 89-97.</td></tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># 2D example using lena</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lena</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">ascent</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lena</span> <span class="o">+=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">lena</span><span class="o">.</span><span class="n">std</span><span class="p">()</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="o">*</span><span class="n">lena</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">denoised_lena</span> <span class="o">=</span> <span class="n">tv_denoise</span><span class="p">(</span><span class="n">lena</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 3D example on synthetic data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ogrid</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">40</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">40</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">40</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span><span class="mi">22</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="mi">20</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">z</span> <span class="o">-</span> <span class="mi">17</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="o">**</span><span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mask</span> <span class="o">=</span> <span class="n">mask</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mask</span> <span class="o">+=</span> <span class="mf">0.2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="o">*</span><span class="n">mask</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">tv_denoise_3d</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-hyperspy.misc.utils">
<span id="hyperspy-misc-utils-module"></span><h2>hyperspy.misc.utils module<a class="headerlink" href="#module-hyperspy.misc.utils" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="hyperspy.misc.utils.DictionaryTreeBrowser">
<em class="property">class </em><code class="descclassname">hyperspy.misc.utils.</code><code class="descname">DictionaryTreeBrowser</code><span class="sig-paren">(</span><em>dictionary=None</em>, <em>double_lines=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.DictionaryTreeBrowser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A class to comfortably browse a dictionary using a CLI.</p>
<p>In addition to accessing the values using dictionary syntax
the class enables navigating  a dictionary that constains
nested dictionaries as attribures of nested classes.
Also it is an iterator over the (key, value) items. The
<cite>__repr__</cite> method provides pretty tree printing. Private
keys, i.e. keys that starts with an underscore, are not
printed, counted when calling len nor iterated.</p>
<dl class="method">
<dt>
<code class="descname">export : saves the dictionary in pretty tree printing format in a text</code></dt>
<dd><p>file.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">keys : returns a list of non-private keys.</code></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">as_dictionary : returns a dictionary representation of the object.</code></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">set_item : easily set items, creating any necessary node on the way.</code></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">add_node : adds a node.</code></dt>
<dd></dd></dl>

<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span> <span class="o">=</span> <span class="n">DictionaryTreeBrowser</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span><span class="o">.</span><span class="n">set_item</span><span class="p">(</span><span class="s2">&quot;Branch.Leaf1.color&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span><span class="o">.</span><span class="n">set_item</span><span class="p">(</span><span class="s2">&quot;Branch.Leaf2.color&quot;</span><span class="p">,</span> <span class="s2">&quot;brown&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span><span class="o">.</span><span class="n">set_item</span><span class="p">(</span><span class="s2">&quot;Branch.Leaf2.caterpillar&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span><span class="o">.</span><span class="n">set_item</span><span class="p">(</span><span class="s2">&quot;Branch.Leaf1.caterpillar&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span>
<span class="go">└── Branch</span>
<span class="go">    ├── Leaf1</span>
<span class="go">    │   ├── caterpillar = False</span>
<span class="go">    │   └── color = green</span>
<span class="go">    └── Leaf2</span>
<span class="go">        ├── caterpillar = True</span>
<span class="go">        └── color = brown</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span><span class="o">.</span><span class="n">Branch</span>
<span class="go">├── Leaf1</span>
<span class="go">│   ├── caterpillar = False</span>
<span class="go">│   └── color = green</span>
<span class="go">└── Leaf2</span>
<span class="go">    ├── caterpillar = True</span>
<span class="go">    └── color = brown</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">leaf</span> <span class="ow">in</span> <span class="n">tree</span><span class="o">.</span><span class="n">Branch</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> is </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">leaf</span><span class="o">.</span><span class="n">color</span><span class="p">))</span>
<span class="go">Leaf1 is green</span>
<span class="go">Leaf2 is brown</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span><span class="o">.</span><span class="n">Branch</span><span class="o">.</span><span class="n">Leaf2</span><span class="o">.</span><span class="n">caterpillar</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;Leaf1&quot;</span> <span class="ow">in</span> <span class="n">tree</span><span class="o">.</span><span class="n">Branch</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;Leaf3&quot;</span> <span class="ow">in</span> <span class="n">tree</span><span class="o">.</span><span class="n">Branch</span>
<span class="go">False</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<dl class="method">
<dt id="hyperspy.misc.utils.DictionaryTreeBrowser.add_dictionary">
<code class="descname">add_dictionary</code><span class="sig-paren">(</span><em>dictionary</em>, <em>double_lines=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.DictionaryTreeBrowser.add_dictionary" title="Permalink to this definition">¶</a></dt>
<dd><p>Add new items from dictionary.</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.misc.utils.DictionaryTreeBrowser.add_node">
<code class="descname">add_node</code><span class="sig-paren">(</span><em>node_path</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.DictionaryTreeBrowser.add_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds all the nodes in the given path if they don&#8217;t exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>node_path</strong> (<em>str</em>) &#8211; The nodes must be separated by full stops (periods).</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dict_browser</span> <span class="o">=</span> <span class="n">DictionaryTreeBrowser</span><span class="p">({})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_browser</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;First.Second&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_browser</span><span class="o">.</span><span class="n">First</span><span class="o">.</span><span class="n">Second</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_browser</span>
<span class="go">└── First</span>
<span class="go">    └── Second = 3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy.misc.utils.DictionaryTreeBrowser.as_dictionary">
<code class="descname">as_dictionary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.DictionaryTreeBrowser.as_dictionary" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns its dictionary representation.</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.misc.utils.DictionaryTreeBrowser.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.DictionaryTreeBrowser.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.misc.utils.DictionaryTreeBrowser.deepcopy">
<code class="descname">deepcopy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.DictionaryTreeBrowser.deepcopy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hyperspy.misc.utils.DictionaryTreeBrowser.export">
<code class="descname">export</code><span class="sig-paren">(</span><em>filename</em>, <em>encoding='utf8'</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.DictionaryTreeBrowser.export" title="Permalink to this definition">¶</a></dt>
<dd><p>Export the dictionary to a text file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> (<em>str</em>) &#8211; The name of the file without the extension that is
txt by default</li>
<li><strong>encoding</strong> (<em>valid encoding str</em>) &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="hyperspy.misc.utils.DictionaryTreeBrowser.get_item">
<code class="descname">get_item</code><span class="sig-paren">(</span><em>item_path</em>, <em>default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.DictionaryTreeBrowser.get_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a path, return it&#8217;s value if it exists, or default
value if missing.</p>
<p>The nodes of the path are separated using periods.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>item_path</strong> (<em>Str</em>) &#8211; A string describing the path with each item separated by
full stops (periods)</li>
<li><strong>default</strong> &#8211; The value to return if the path does not exist.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;To&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="s1">&#39;be&#39;</span> <span class="p">:</span> <span class="kc">True</span><span class="p">}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_browser</span> <span class="o">=</span> <span class="n">DictionaryTreeBrowser</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_browser</span><span class="o">.</span><span class="n">has_item</span><span class="p">(</span><span class="s1">&#39;To&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_browser</span><span class="o">.</span><span class="n">has_item</span><span class="p">(</span><span class="s1">&#39;To.be&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_browser</span><span class="o">.</span><span class="n">has_item</span><span class="p">(</span><span class="s1">&#39;To.be.or&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy.misc.utils.DictionaryTreeBrowser.has_item">
<code class="descname">has_item</code><span class="sig-paren">(</span><em>item_path</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.DictionaryTreeBrowser.has_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a path, return True if it exists.</p>
<p>The nodes of the path are separated using periods.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>item_path</strong> (<em>Str</em>) &#8211; A string describing the path with each item separated by
full stops (periods)</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;To&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="s1">&#39;be&#39;</span> <span class="p">:</span> <span class="kc">True</span><span class="p">}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_browser</span> <span class="o">=</span> <span class="n">DictionaryTreeBrowser</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_browser</span><span class="o">.</span><span class="n">has_item</span><span class="p">(</span><span class="s1">&#39;To&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_browser</span><span class="o">.</span><span class="n">has_item</span><span class="p">(</span><span class="s1">&#39;To.be&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_browser</span><span class="o">.</span><span class="n">has_item</span><span class="p">(</span><span class="s1">&#39;To.be.or&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="hyperspy.misc.utils.DictionaryTreeBrowser.keys">
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.DictionaryTreeBrowser.keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of non-private keys.</p>
</dd></dl>

<dl class="method">
<dt id="hyperspy.misc.utils.DictionaryTreeBrowser.set_item">
<code class="descname">set_item</code><span class="sig-paren">(</span><em>item_path</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.DictionaryTreeBrowser.set_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the path and value, create the missing nodes in
the path and assign to the last one the value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>item_path</strong> (<em>Str</em>) &#8211; A string describing the path with each item separated by a
full stops (periods)</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dict_browser</span> <span class="o">=</span> <span class="n">DictionaryTreeBrowser</span><span class="p">({})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_browser</span><span class="o">.</span><span class="n">set_item</span><span class="p">(</span><span class="s1">&#39;First.Second.Third&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_browser</span>
<span class="go">└── First</span>
<span class="go">   └── Second</span>
<span class="go">        └── Third = 3</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.add_scalar_axis">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">add_scalar_axis</code><span class="sig-paren">(</span><em>signal</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.add_scalar_axis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.attrsetter">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">attrsetter</code><span class="sig-paren">(</span><em>target</em>, <em>attrs</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.attrsetter" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets attribute of the target to specified value, supports nested
attributes. Only creates a new attribute if the object supports such
behaviour (e.g. DictionaryTreeBrowser does)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>target</strong> (<em>object</em>) &#8211; </li>
<li><strong>attrs</strong> (<a class="reference internal" href="hyperspy.drawing._widgets.html#hyperspy.drawing._widgets.label.LabelWidget.string" title="hyperspy.drawing._widgets.label.LabelWidget.string"><em>string</em></a>) &#8211; attributes, separated by periods (e.g.
&#8216;metadata.Signal.Noise_parameters.variance&#8217; )</li>
<li><strong>value</strong> (<em>object</em>) &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<p>First create a signal and model pair:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">create_model</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">signal</span><span class="o">.</span><span class="n">data</span>
<span class="go">array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span>
</pre></div>
</div>
<p>Now set the data of the model with attrsetter
&gt;&gt;&gt; attrsetter(m, &#8216;signal1D.data&#8217;, np.arange(10)+2)
&gt;&gt;&gt; self.signal.data
array([2, 3, 4, 5, 6, 7, 8, 9, 10, 10])</p>
<p>The behaviour is identical to
&gt;&gt;&gt; self.signal.data = np.arange(10) + 2</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.closest_power_of_two">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">closest_power_of_two</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.closest_power_of_two" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.create_map_objects">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">create_map_objects</code><span class="sig-paren">(</span><em>function</em>, <em>nav_size</em>, <em>iterating_kwargs</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.create_map_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>To be used in _map_iterate of BaseSignal and LazySignal.</p>
<p>Moved to a separate method to reduce code duplication.</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.deprecation_warning">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">deprecation_warning</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.deprecation_warning" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.dummy_context_manager">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">dummy_context_manager</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.dummy_context_manager" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.ensure_unicode">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">ensure_unicode</code><span class="sig-paren">(</span><em>stuff</em>, <em>encoding='utf8'</em>, <em>encoding2='latin-1'</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.ensure_unicode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.find_subclasses">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">find_subclasses</code><span class="sig-paren">(</span><em>mod</em>, <em>cls</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.find_subclasses" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all the subclasses in a module.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mod</strong> (<em>module</em>) &#8211; </li>
<li><strong>cls</strong> (<em>class</em>) &#8211; </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictonary in which key, item = subclass name, subclass</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.fsdict">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">fsdict</code><span class="sig-paren">(</span><em>nodes</em>, <em>value</em>, <em>dictionary</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.fsdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates the dictionary &#8216;dic&#8217; in a file system-like
fashion creating a dictionary of dictionaries from the
items present in the list &#8216;nodes&#8217; and assigning the value
&#8216;value&#8217; to the innermost dictionary.</p>
<p>&#8216;dic&#8217; will be of the type:
dic[&#8216;node1&#8217;][&#8216;node2&#8217;][&#8216;node3&#8217;]...[&#8216;nodeN&#8217;] = value
where each node is like a directory that contains other
directories (nodes) or files (values)</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.generate_axis">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">generate_axis</code><span class="sig-paren">(</span><em>origin</em>, <em>step</em>, <em>N</em>, <em>index=0</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.generate_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an axis given the origin, step and number of channels</p>
<p>Alternatively, the index of the origin channel can be specified.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>origin</strong> (<em>float</em>) &#8211; </li>
<li><strong>step</strong> (<em>float</em>) &#8211; </li>
<li><strong>N</strong> (<em>number of channels</em>) &#8211; </li>
<li><strong>index</strong> (<em>int</em>) &#8211; index of origin</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Numpy array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.isiterable">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">isiterable</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.isiterable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.iterable_not_string">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">iterable_not_string</code><span class="sig-paren">(</span><em>thing</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.iterable_not_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.map_result_construction">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">map_result_construction</code><span class="sig-paren">(</span><em>signal</em>, <em>inplace</em>, <em>result</em>, <em>ragged</em>, <em>sig_shape=None</em>, <em>lazy=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.map_result_construction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.multiply">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">multiply</code><span class="sig-paren">(</span><em>iterable</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.multiply" title="Permalink to this definition">¶</a></dt>
<dd><p>Return product of sequence of numbers.</p>
<p>Equivalent of functools.reduce(operator.mul, iterable, 1).</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">product</span><span class="p">([</span><span class="mi">2</span><span class="o">**</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="o">**</span><span class="mi">30</span><span class="p">])</span>
<span class="go">274877906944</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">product</span><span class="p">([])</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.ordinal">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">ordinal</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.ordinal" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts zero or a <em>postive</em> integer (or their string
representations) to an ordinal value.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">13</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">ordinal</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">&#39;1st&#39;</span>
<span class="go">&#39;2nd&#39;</span>
<span class="go">&#39;3rd&#39;</span>
<span class="go">&#39;4th&#39;</span>
<span class="go">&#39;5th&#39;</span>
<span class="go">&#39;6th&#39;</span>
<span class="go">&#39;7th&#39;</span>
<span class="go">&#39;8th&#39;</span>
<span class="go">&#39;9th&#39;</span>
<span class="go">&#39;10th&#39;</span>
<span class="go">&#39;11th&#39;</span>
<span class="go">&#39;12th&#39;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;111&#39;</span><span class="p">,</span> <span class="s1">&#39;112&#39;</span><span class="p">,</span><span class="mi">1011</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">ordinal</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">&#39;100th&#39;</span>
<span class="go">&#39;111th&#39;</span>
<span class="go">&#39;112th&#39;</span>
<span class="go">&#39;1011th&#39;</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>Author:  Serdar Tumgoren
<a class="reference external" href="http://code.activestate.com/recipes/576888-format-a-number-as-an-ordinal/">http://code.activestate.com/recipes/576888-format-a-number-as-an-ordinal/</a>
MIT license</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.rollelem">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">rollelem</code><span class="sig-paren">(</span><em>a</em>, <em>index</em>, <em>to_index=0</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.rollelem" title="Permalink to this definition">¶</a></dt>
<dd><p>Roll the specified axis backwards, until it lies in a given position.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>a</strong> (<em>list</em>) &#8211; Input list.</li>
<li><strong>index</strong> (<em>int</em>) &#8211; The index of the item to roll backwards.  The positions of the items
do not change relative to one another.</li>
<li><strong>to_index</strong> (<em>int</em><em>, </em><em>optional</em>) &#8211; The item is rolled until it lies before this position.  The default,
0, results in a &#8220;complete&#8221; roll.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>res</strong> &#8211; Output list.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.shorten_name">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">shorten_name</code><span class="sig-paren">(</span><em>name</em>, <em>req_l</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.shorten_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.signal_range_from_roi">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">signal_range_from_roi</code><span class="sig-paren">(</span><em>signal_range</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.signal_range_from_roi" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.slugify">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">slugify</code><span class="sig-paren">(</span><em>value</em>, <em>valid_variable_name=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.slugify" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalizes string, converts to lowercase, removes non-alpha characters,
and converts spaces to hyphens.</p>
<p>Adapted from Django&#8217;s &#8220;django/template/defaultfilters.py&#8221;.</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.stack">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">stack</code><span class="sig-paren">(</span><em>signal_list</em>, <em>axis=None</em>, <em>new_axis_name='stack_element'</em>, <em>lazy=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.stack" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenate the signals in the list over a given axis or a new axis.</p>
<p>The title is set to that of the first signal in the list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>signal_list</strong> (<em>list of BaseSignal instances</em>) &#8211; </li>
<li><strong>axis</strong> (<em>{None</em><em>, </em><em>int</em><em>, </em><em>str}</em>) &#8211; If None, the signals are stacked over a new axis. The data must
have the same dimensions. Otherwise the
signals are stacked over the axis given by its integer index or
its name. The data must have the same shape, except in the dimension
corresponding to <cite>axis</cite>.</li>
<li><strong>new_axis_name</strong> (<a class="reference internal" href="hyperspy.drawing._widgets.html#hyperspy.drawing._widgets.label.LabelWidget.string" title="hyperspy.drawing._widgets.label.LabelWidget.string"><em>string</em></a>) &#8211; The name of the new axis when <cite>axis</cite> is None.
If an axis with this name already
exists it automatically append &#8216;-i&#8217;, where <cite>i</cite> are integers,
until it finds a name that is not yet in use.</li>
<li><strong>lazy</strong> (<em>{bool</em><em>, </em><em>None}</em>) &#8211; Returns a LazySignal if True. If None, only returns lazy rezult if at
least one is lazy.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>signal</strong> &#8211; signal list)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">BaseSignal instance (or subclass, determined by the objects in</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">data</span><span class="p">[:</span><span class="mi">10</span><span class="p">]),</span>
<span class="gp">... </span>              <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">:])])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">&lt;Signal1D, title: Stack of , dimensions: (2, 10)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">data</span>
<span class="go">array([[ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9],</span>
<span class="go">       [10, 11, 12, 13, 14, 15, 16, 17, 18, 19]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.stash_active_state">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">stash_active_state</code><span class="sig-paren">(</span><em>model</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.stash_active_state" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.str2num">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">str2num</code><span class="sig-paren">(</span><em>string</em>, <em>**kargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.str2num" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform a a table in string form into a numpy array</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>string</strong> (<a class="reference internal" href="hyperspy.drawing._widgets.html#hyperspy.drawing._widgets.label.LabelWidget.string" title="hyperspy.drawing._widgets.label.LabelWidget.string"><em>string</em></a>) &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">numpy array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.strlist2enumeration">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">strlist2enumeration</code><span class="sig-paren">(</span><em>lst</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.strlist2enumeration" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.swapelem">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">swapelem</code><span class="sig-paren">(</span><em>obj</em>, <em>i</em>, <em>j</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.swapelem" title="Permalink to this definition">¶</a></dt>
<dd><p>Swaps element having index i with
element having index j in object obj IN PLACE.</p>
<p>E.g.
&gt;&gt;&gt; L = [&#8216;a&#8217;, &#8216;b&#8217;, &#8216;c&#8217;]
&gt;&gt;&gt; spwapelem(L, 1, 2)
&gt;&gt;&gt; print(L)</p>
<blockquote>
<div>[&#8216;a&#8217;, &#8216;c&#8217;, &#8216;b&#8217;]</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.transpose">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">transpose</code><span class="sig-paren">(</span><em>*args</em>, <em>signal_axes=None</em>, <em>navigation_axes=None</em>, <em>optimize=False</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.transpose" title="Permalink to this definition">¶</a></dt>
<dd><p>Transposes all passed signals according to the specified options.</p>
<p>For parameters see <code class="docutils literal"><span class="pre">BaseSignal.transpose</span></code>.</p>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">signal_iterable</span> <span class="o">=</span> <span class="p">[</span><span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">BaseSignal</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">2</span><span class="p">,)</span><span class="o">*</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span>
<span class="go">                       for i in range(3)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">signal_iterable</span>
<span class="go">[&lt;BaseSignal, title: , dimensions: (|2)&gt;,</span>
<span class="go"> &lt;BaseSignal, title: , dimensions: (|2, 2)&gt;,</span>
<span class="go"> &lt;BaseSignal, title: , dimensions: (|2, 2, 2)&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="o">*</span><span class="n">signal_iterable</span><span class="p">,</span> <span class="n">signal_axes</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[&lt;BaseSignal, title: , dimensions: (|2)&gt;,</span>
<span class="go"> &lt;BaseSignal, title: , dimensions: (2|2)&gt;,</span>
<span class="go"> &lt;BaseSignal, title: , dimensions: (2, 2|2)&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">signal1</span><span class="p">,</span> <span class="n">signal2</span><span class="p">,</span> <span class="n">signal3</span><span class="p">,</span> <span class="n">signal_axes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Energy&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.underline">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">underline</code><span class="sig-paren">(</span><em>line</em>, <em>character='-'</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.underline" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the line underlined.</p>
</dd></dl>

<dl class="function">
<dt id="hyperspy.misc.utils.without_nans">
<code class="descclassname">hyperspy.misc.utils.</code><code class="descname">without_nans</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.misc.utils.without_nans" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-hyperspy.misc">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-hyperspy.misc" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="hyperspy.misc.eds.html" class="btn btn-neutral float-right" title="hyperspy.misc.eds package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="hyperspy.learn.html" class="btn btn-neutral" title="hyperspy.learn package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2011-2016, The HyperSpy development team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/copybutton.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>
