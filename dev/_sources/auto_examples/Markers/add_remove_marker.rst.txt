
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples\Markers\add_remove_marker.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_auto_examples_Markers_add_remove_marker.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_Markers_add_remove_marker.py:


Add/Remove items from existing Markers
======================================

This example shows how to add or remove marker from an existing collection.
This is done by setting the parameters (offsets, sizes, etc.) of the collection.

.. GENERATED FROM PYTHON SOURCE LINES 10-11

Create a signal

.. GENERATED FROM PYTHON SOURCE LINES 11-19

.. code-block:: default

    import hyperspy.api as hs
    import numpy as np

    # Create a Signal2D with 2 navigation dimensions
    rng = np.random.default_rng(0)
    data = np.arange(15*100*100).reshape((15, 100, 100))
    s = hs.signals.Signal2D(data)








.. GENERATED FROM PYTHON SOURCE LINES 20-21

Create text marker

.. GENERATED FROM PYTHON SOURCE LINES 21-37

.. code-block:: default


    # Define the position of the texts
    offsets = np.stack([np.arange(0, 100, 10)]*2).T + np.array([5,]*2)
    texts = np.array(['a', 'b', 'c', 'd', 'e', 'f', 'g', 'f', 'h', 'i'])

    m = hs.plot.markers.Texts(
        offsets=offsets,
        texts=texts,
        sizes=3,
        )

    print(f'Number of markers is {len(m)}.')

    s.plot()
    s.add_marker(m)




.. rst-class:: sphx-glr-horizontal


    *

      .. image-sg:: /auto_examples/Markers/images/sphx_glr_add_remove_marker_001.png
         :alt: add remove marker
         :srcset: /auto_examples/Markers/images/sphx_glr_add_remove_marker_001.png
         :class: sphx-glr-multi-img

    *

      .. image-sg:: /auto_examples/Markers/images/sphx_glr_add_remove_marker_002.png
         :alt:  Signal
         :srcset: /auto_examples/Markers/images/sphx_glr_add_remove_marker_002.png
         :class: sphx-glr-multi-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Number of markers is 10.




.. GENERATED FROM PYTHON SOURCE LINES 38-40

Remove the last text of the collection
######################################

.. GENERATED FROM PYTHON SOURCE LINES 40-51

.. code-block:: default




    # Set new texts and offsets parameters with one less item
    m.remove_items(indices=-1)

    print(f'Number of markers is {len(m)} after removing one marker.')

    s.plot()
    s.add_marker(m)




.. rst-class:: sphx-glr-horizontal


    *

      .. image-sg:: /auto_examples/Markers/images/sphx_glr_add_remove_marker_003.png
         :alt: add remove marker
         :srcset: /auto_examples/Markers/images/sphx_glr_add_remove_marker_003.png
         :class: sphx-glr-multi-img

    *

      .. image-sg:: /auto_examples/Markers/images/sphx_glr_add_remove_marker_004.png
         :alt:  Signal
         :srcset: /auto_examples/Markers/images/sphx_glr_add_remove_marker_004.png
         :class: sphx-glr-multi-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Number of markers is 9 after removing one marker.




.. GENERATED FROM PYTHON SOURCE LINES 52-54

Add another text of the collection
##################################

.. GENERATED FROM PYTHON SOURCE LINES 54-64

.. code-block:: default


    # Define the position in the middle of the axes

    m.add_items(offsets=np.array([[50, 50]]), texts=np.array(["new text"]))

    print(f'Number of markers is {len(m)} after adding the text {texts[-1]}.')

    s.plot()
    s.add_marker(m)




.. rst-class:: sphx-glr-horizontal


    *

      .. image-sg:: /auto_examples/Markers/images/sphx_glr_add_remove_marker_005.png
         :alt: add remove marker
         :srcset: /auto_examples/Markers/images/sphx_glr_add_remove_marker_005.png
         :class: sphx-glr-multi-img

    *

      .. image-sg:: /auto_examples/Markers/images/sphx_glr_add_remove_marker_006.png
         :alt:  Signal
         :srcset: /auto_examples/Markers/images/sphx_glr_add_remove_marker_006.png
         :class: sphx-glr-multi-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Number of markers is 10 after adding the text i.




.. GENERATED FROM PYTHON SOURCE LINES 65-66

sphinx_gallery_thumbnail_number = 2


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 1.449 seconds)


.. _sphx_glr_download_auto_examples_Markers_add_remove_marker.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example




    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: add_remove_marker.py <add_remove_marker.py>`

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: add_remove_marker.ipynb <add_remove_marker.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
