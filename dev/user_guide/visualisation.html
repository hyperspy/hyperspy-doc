
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="../_static/hyperspy.ico" rel="icon" type="image/x-icon">
    <title>Data visualization &#8212; HyperSpy 2.1.1.dev126+g7e45574ec documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/custom-styles.css?v=eff58afb" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=87e54e7c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=1aef2030"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=ccdb6887"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-B0XD0GTW1M"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-B0XD0GTW1M');
            </script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-B0XD0GTW1M');
            </script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user_guide/visualisation';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.4';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://hyperspy.org/hyperspy-doc/dev/_static/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'dev';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = true;
        </script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Machine learning" href="mva/index.html" />
    <link rel="prev" title="Signal2D Tools" href="signal2d.html" />

  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25260850-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>
<aside class="bd-header-announcement" aria-label="Announcement">
  <div class="bd-header-announcement__content">HyperSpy API has changed in version 2.0, see the <a href='https://hyperspy.org/hyperspy-doc/current/changes.html#changes-2-0'>release notes!</a></div>
</aside>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/hyperspy_logo.png" class="logo__image only-light" alt=""/>
    <script>document.write(`<img src="../_static/hyperspy_logo.png" class="logo__image only-dark" alt=""/>`);</script>
  
  
    <p class="title logo__title">HyperSpy</p>
  
</a></div>
    
      <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../auto_examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../reference/index.html">
    Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../help.html">
    Get Help
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../changes.html">
    Release Notes
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../dev_guide/index.html">
    Contribute
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://github.com/hyperspy/hyperspy-demos">
    Tutorial
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/hyperspy/hyperspy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://gitter.im/hyperspy/hyperspy" title="Gitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-gitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Gitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://hyperspy.org" title="HyperSpy" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../_static/hyperspy.ico" class="icon-link-image" alt="HyperSpy"/></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../auto_examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../reference/index.html">
    Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../help.html">
    Get Help
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../changes.html">
    Release Notes
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../dev_guide/index.html">
    Contribute
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://github.com/hyperspy/hyperspy-demos">
    Tutorial
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/hyperspy/hyperspy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://gitter.im/hyperspy/hyperspy" title="Gitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-gitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Gitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://hyperspy.org" title="HyperSpy" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../_static/hyperspy.ico" class="icon-link-image" alt="HyperSpy"/></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing HyperSpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_usage.html">Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">Loading and saving data</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Fundamentals and Usage</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="signal/index.html">The Signal class</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="signal/signal_basics.html">Basics of signals</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal/ragged.html">Ragged signals</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal/binned_signals.html">Binned and unbinned signals</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal/indexing.html">Indexing</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal/generic_tools.html">Generic tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal/basic_statistical_analysis.html">Basic statistical analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal/setting_noise_properties.html">Setting the noise properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal/speeding_up_operation.html">Speeding up operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal/complex_datatype.html">Complex datatype</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal/gpu.html">GPU support</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="axes.html">Axes handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="signal1d.html">Signal1D Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="signal2d.html">Signal2D Tools</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Data visualization</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="mva/index.html">Machine learning</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="mva/decomposition.html">Decomposition</a></li>
<li class="toctree-l2"><a class="reference internal" href="mva/bss.html">Blind Source Separation</a></li>
<li class="toctree-l2"><a class="reference internal" href="mva/clustering.html">Cluster analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="mva/visualize_results.html">Visualizing results</a></li>
<li class="toctree-l2"><a class="reference internal" href="mva/export_results.html">Export results</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="model/index.html">Model fitting</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="model/creating_model.html">Creating a model</a></li>
<li class="toctree-l2"><a class="reference internal" href="model/model_components.html">Model components</a></li>
<li class="toctree-l2"><a class="reference internal" href="model/adding_components.html">Adding components to the model</a></li>
<li class="toctree-l2"><a class="reference internal" href="model/indexing_model.html">Indexing the model</a></li>
<li class="toctree-l2"><a class="reference internal" href="model/model_parameters.html">Getting and setting parameter values and attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="model/fitting_model.html">Fitting the model to the data</a></li>
<li class="toctree-l2"><a class="reference internal" href="model/storing_models.html">Storing models</a></li>
<li class="toctree-l2"><a class="reference internal" href="model/fitting_big_data.html">Fitting big data</a></li>
<li class="toctree-l2"><a class="reference internal" href="model/SAMFire.html">Smart Adaptive Multi-dimensional Fitting (SAMFire)</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="big_data.html">Working with big data</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Advanced Usage</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="region_of_interest.html">Region Of Interest (ROI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="events.html">Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive_operations.html">Interactive Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="pint_unit_registry.html">Unit Handling with Pint Quantity</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Bibliography</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">User guide</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Data visualization</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="data-visualization">
<span id="visualization-label"></span><h1>Data visualization<a class="headerlink" href="#data-visualization" title="Link to this heading">#</a></h1>
<p>The object returned by <a class="reference internal" href="../reference/api.html#hyperspy.api.load" title="hyperspy.api.load"><code class="xref py py-func docutils literal notranslate"><span class="pre">load()</span></code></a>, a <a class="reference internal" href="../reference/api.signals/BaseSignal.html#hyperspy.api.signals.BaseSignal" title="hyperspy.api.signals.BaseSignal"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseSignal</span></code></a>
instance, has a <a class="reference internal" href="../reference/api.signals/BaseSignal.html#hyperspy.api.signals.BaseSignal.plot" title="hyperspy.api.signals.BaseSignal.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plot()</span></code></a> method that is powerful and
flexible to visualize n-dimensional data. In this chapter, the
visualisation of multidimensional data is exemplified with two experimental
datasets: an EELS spectrum image and an EDX dataset consisting of a secondary
electron emission image stack and a 3D hyperspectral image, both simultaneously
acquired by recording two signals in parallel in a FIB/SEM.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;YourDataFilenameHere&#39;</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span> 
</pre></div>
</div>
<p>if the object is single spectrum or an image one window will appear when
calling the plot method.</p>
<section id="multidimensional-spectral-data">
<span id="visualization-md"></span><h2>Multidimensional spectral data<a class="headerlink" href="#multidimensional-spectral-data" title="Link to this heading">#</a></h2>
<p>If the object is a 1D or 2D spectrum-image (i.e. with 2 or 3 dimensions when
including energy) two figures will appear, one containing a plot of the
spectrum at the current coordinates and the other an image of the data summed
over its spectral dimension if 2D or an image with the spectral dimension in
the x-axis if 1D:</p>
<figure class="align-center" id="id5">
<span id="d-si"></span><a class="reference internal image-reference" href="../_images/2D_SI.png"><img alt="../_images/2D_SI.png" src="../_images/2D_SI.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Visualisation of a 2D spectrum image.</span><a class="headerlink" href="#id5" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id6">
<span id="id1"></span><a class="reference internal image-reference" href="../_images/1D_SI.png"><img alt="../_images/1D_SI.png" src="../_images/1D_SI.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Visualisation of a 1D spectrum image.</span><a class="headerlink" href="#id6" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.4: </span>Customizable keyboard shortcuts to navigate multi-dimensional datasets.</p>
</div>
<p>To change the current coordinates, click on the pointer (which will be a line
or a square depending on the dimensions of the data) and drag it around. It is
also possible to move the pointer by using the numpad arrows <strong>when numlock is
on and the spectrum or navigator figure is selected</strong>. When using the numpad
arrows the PageUp and PageDown keys change the size of the step.</p>
<p>The current coordinates can be either set by navigating the
<a class="reference internal" href="../reference/api.signals/BaseSignal.html#hyperspy.api.signals.BaseSignal.plot" title="hyperspy.api.signals.BaseSignal.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plot()</span></code></a>, or specified by pixel indices
in <code class="docutils literal notranslate"><span class="pre">s.axes_manager.indices</span></code> or as calibrated coordinates in
<code class="docutils literal notranslate"><span class="pre">s.axes_manager.coordinates</span></code>.</p>
<p>An extra cursor can be added by pressing the <code class="docutils literal notranslate"><span class="pre">e</span></code> key. Pressing <code class="docutils literal notranslate"><span class="pre">e</span></code> once
more will disable the extra cursor:</p>
<p>In matplotlib, left and right arrow keys are by default set to navigate the
“zoom” history. To avoid the problem of changing zoom while navigating,
<code class="docutils literal notranslate"><span class="pre">Ctrl</span></code> + arrows can be used instead. Navigating without using the modifier keys
will be deprecated in version 2.0.</p>
<p>To navigate navigation dimensions larger than 2, modifier keys can be used.
The defaults are <code class="docutils literal notranslate"><span class="pre">Shift</span></code> + <code class="docutils literal notranslate"><span class="pre">left</span></code>/<code class="docutils literal notranslate"><span class="pre">right</span></code> and <code class="docutils literal notranslate"><span class="pre">Shift</span></code> + <code class="docutils literal notranslate"><span class="pre">up</span></code>/<code class="docutils literal notranslate"><span class="pre">down</span></code>,
(<code class="docutils literal notranslate"><span class="pre">Alt</span></code> + <code class="docutils literal notranslate"><span class="pre">left</span></code>/<code class="docutils literal notranslate"><span class="pre">right</span></code> and <code class="docutils literal notranslate"><span class="pre">Alt</span></code> + <code class="docutils literal notranslate"><span class="pre">up</span></code>/<code class="docutils literal notranslate"><span class="pre">down</span></code>)
for navigating dimensions 2 and 3 (4 and 5) respectively. Modifier keys do not work with the numpad.</p>
<p>Hotkeys and modifier keys for navigating the plot can be set in the
<a class="reference internal" href="basic_usage.html#configuring-hyperspy-label"><span class="std std-ref">HyperSpy plot preferences</span></a>.
Note that some combinations will not work for all platforms, as some systems reserve them for
other purposes.</p>
<p>If you want to jump to some point in the dataset.  In that case you can hold the <code class="docutils literal notranslate"><span class="pre">Shift</span></code> key
and click the point you are interested in.  That will automatically take you to that point in the
data.  This also helps with lazy data as you don’t have to load every chunk in between.</p>
<figure class="align-center" id="id7">
<a class="reference internal image-reference" href="../_images/second_pointer.png"><img alt="../_images/second_pointer.png" src="../_images/second_pointer.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Visualisation of a 2D spectrum image using two pointers.</span><a class="headerlink" href="#id7" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Sometimes the default size of the rectangular cursors used to navigate images
can be too small to be dragged or even seen. It
is possible to change the size of the cursors by pressing the <code class="docutils literal notranslate"><span class="pre">+</span></code> and <code class="docutils literal notranslate"><span class="pre">-</span></code>
keys  <strong>when the navigator window is selected</strong>.</p>
<p>The following keyboard shortcuts are available when the 1D signal figure is in focus:</p>
<div class="pst-scrollable-table-container"><table class="table" id="id8">
<caption><span class="caption-text">Keyboard shortcuts available on the signal figure of 1D signal data</span><a class="headerlink" href="#id8" title="Link to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>key</p></th>
<th class="head"><p>function</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>e</p></td>
<td><p>Switch second pointer on/off</p></td>
</tr>
<tr class="row-odd"><td><p>Ctrl + Arrows</p></td>
<td><p>Change coordinates for dimensions 0 and 1 (typically x and y)</p></td>
</tr>
<tr class="row-even"><td><p>Shift + Arrows</p></td>
<td><p>Change coordinates for dimensions 2 and 3</p></td>
</tr>
<tr class="row-odd"><td><p>Alt + Arrows</p></td>
<td><p>Change coordinates for dimensions 4 and 5</p></td>
</tr>
<tr class="row-even"><td><p>PageUp</p></td>
<td><p>Increase step size</p></td>
</tr>
<tr class="row-odd"><td><p>PageDown</p></td>
<td><p>Decrease step size</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">+</span></code></p></td>
<td><p>Increase pointer size when the navigator is an image</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Decrease pointer size when the navigator is an image</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">l</span></code></p></td>
<td><p>switch the scale of the y-axis between logarithmic and linear</p></td>
</tr>
</tbody>
</table>
</div>
<p>To close all the figures run the following command:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">plt.close('all')</span></code> is a <a class="reference external" href="https://matplotlib.org/">matplotlib</a> command.
Matplotlib is the library that HyperSpy uses to produce the plots. You can
learn how to pan/zoom and more  <a class="reference external" href="https://matplotlib.org/stable/users/explain/interactive.html">in the matplotlib documentation</a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Plotting <code class="docutils literal notranslate"><span class="pre">float16</span></code> images is currently not supported by matplotlib; however, it is
possible to convert the type of the data by using the
<a class="reference internal" href="../reference/api.signals/BaseSignal.html#hyperspy.api.signals.BaseSignal.change_dtype" title="hyperspy.api.signals.BaseSignal.change_dtype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">change_dtype()</span></code></a> method, e.g. <code class="docutils literal notranslate"><span class="pre">s.change_dtype('float32')</span></code>.</p>
</div>
</section>
<section id="multidimensional-image-data">
<h2>Multidimensional image data<a class="headerlink" href="#multidimensional-image-data" title="Link to this heading">#</a></h2>
<p>Equivalently, if the object is a 1D or 2D image stack two figures will appear,
one containing a plot of the image at the current coordinates and the other
a spectrum or an image obtained by summing over the image dimensions:</p>
<figure class="align-center" id="id9">
<span id="d-image-stack-png"></span><a class="reference internal image-reference" href="../_images/1D_image_stack.png"><img alt="../_images/1D_image_stack.png" src="../_images/1D_image_stack.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Visualisation of a 1D image stack.</span><a class="headerlink" href="#id9" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id10">
<span id="id2"></span><a class="reference internal image-reference" href="../_images/2D_image_stack.png"><img alt="../_images/2D_image_stack.png" src="../_images/2D_image_stack.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Visualisation of a 2D image stack.</span><a class="headerlink" href="#id10" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.4: </span><code class="docutils literal notranslate"><span class="pre">l</span></code> keyboard shortcut</p>
</div>
<p>The following keyboard shortcuts are availalbe when the 2D signal figure is in focus:</p>
<div class="pst-scrollable-table-container"><table class="table" id="id11">
<caption><span class="caption-text">Keyboard shortcuts available on the signal figure of 2D signal data</span><a class="headerlink" href="#id11" title="Link to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>key</p></th>
<th class="head"><p>function</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Ctrl + Arrows</p></td>
<td><p>Change coordinates for dimensions 0 and 1 (typically x and y)</p></td>
</tr>
<tr class="row-odd"><td><p>Shift + Arrows</p></td>
<td><p>Change coordinates for dimensions 2 and 3</p></td>
</tr>
<tr class="row-even"><td><p>Alt + Arrows</p></td>
<td><p>Change coordinates for dimensions 4 and 5</p></td>
</tr>
<tr class="row-odd"><td><p>PageUp</p></td>
<td><p>Increase step size</p></td>
</tr>
<tr class="row-even"><td><p>PageDown</p></td>
<td><p>Decrease step size</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">+</span></code></p></td>
<td><p>Increase pointer size when the navigator is an image</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Decrease pointer size when the navigator is an image</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">h</span></code></p></td>
<td><p>Launch the contrast adjustment tool</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">l</span></code></p></td>
<td><p>switch the norm of the intensity between logarithmic and linear</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="customising-image-plot">
<span id="plot-customize-images"></span><h2>Customising image plot<a class="headerlink" href="#customising-image-plot" title="Link to this heading">#</a></h2>
<p>The image plot can be customised by passing additional arguments when plotting.
Colorbar, scalebar and contrast controls are HyperSpy-specific, however
<a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.imshow.html#matplotlib.axes.Axes.imshow" title="(in Matplotlib v3.9.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.imshow()</span></code></a> arguments are supported as well:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">ascent</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">colorbar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">scalebar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">axes_ticks</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;RdYlBu_r&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id12">
<a class="reference internal image-reference" href="../_images/custom_cmap.png"><img alt="../_images/custom_cmap.png" src="../_images/custom_cmap.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Custom colormap and switched off scalebar in an image.</span><a class="headerlink" href="#id12" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.4: </span><code class="docutils literal notranslate"><span class="pre">norm</span></code> keyword argument</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">norm</span></code> keyword argument can be used to select between linear, logarithmic
or custom (using a matplotlib norm) intensity scale. The default, “auto”,
automatically selects a logarithmic scale when plotting a power spectrum.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.6: </span><code class="docutils literal notranslate"><span class="pre">autoscale</span></code> keyword argument</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">autoscale</span></code> keyword argument can be used to specify which axis limits are
reset when the data or navigation indices change. It can take any combinations
of the following characters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'x'</span></code>: to reset the horizontal axes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'y'</span></code>: to reset the vertical axes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'v'</span></code>: to reset the contrast of the image  according to <code class="docutils literal notranslate"><span class="pre">vmin</span></code> and <code class="docutils literal notranslate"><span class="pre">vmax</span></code></p></li>
</ul>
<p>By default (<code class="docutils literal notranslate"><span class="pre">autoscale='v'</span></code>), only the contrast of the image will be reset
automatically. For example, to reset the extent of the image (x and y) to their
maxima but not the contrast, use <code class="docutils literal notranslate"><span class="pre">autoscale='xy'</span></code>; To reset all limits,
including the contrast of the image, use <code class="docutils literal notranslate"><span class="pre">autoscale='xyv'</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="mi">10</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">autoscale</span><span class="o">=</span><span class="s1">&#39;xyv&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p id="plot-divergent-colormaps-label">When plotting using divergent colormaps, if <code class="docutils literal notranslate"><span class="pre">centre_colormap</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>
(default) the contrast is automatically adjusted so that zero corresponds to
the center of the colormap (usually white). This can be useful e.g. when
displaying images that contain pixels with both positive and negative values.</p>
<p>The following example shows the effect of centring the color map:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xx</span><span class="p">,</span> <span class="n">yy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">xx</span> <span class="o">*</span> <span class="n">yy</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span> <span class="o">=</span> <span class="n">data1</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span><span class="p">[</span><span class="n">data2</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span> <span class="o">/=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">([</span><span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_images</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;RdBu&quot;</span><span class="p">,</span> <span class="n">tight_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">[&lt;Axes: title={&#39;center&#39;: &#39; (0,)&#39;}&gt;, &lt;Axes: title={&#39;center&#39;: &#39; (1,)&#39;}&gt;]</span>
</pre></div>
</div>
<figure class="align-center" id="id13">
<a class="reference internal image-reference" href="../_images/divergent_cmap.png"><img alt="../_images/divergent_cmap.png" src="../_images/divergent_cmap.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Divergent color map with <code class="docutils literal notranslate"><span class="pre">Centre</span> <span class="pre">colormap</span></code> enabled (default).</span><a class="headerlink" href="#id13" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>The same example with the feature disabled:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xx</span><span class="p">,</span> <span class="n">yy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">xx</span> <span class="o">*</span> <span class="n">yy</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span> <span class="o">=</span> <span class="n">data1</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span><span class="p">[</span><span class="n">data2</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span> <span class="o">/=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">([</span><span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_images</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="n">centre_colormap</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;RdBu&quot;</span><span class="p">,</span> <span class="n">tight_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">[&lt;Axes: title={&#39;center&#39;: &#39; (0,)&#39;}&gt;, &lt;Axes: title={&#39;center&#39;: &#39; (1,)&#39;}&gt;]</span>
</pre></div>
</div>
<figure class="align-center" id="id14">
<a class="reference internal image-reference" href="../_images/divergent_cmap_no_centre.png"><img alt="../_images/divergent_cmap_no_centre.png" src="../_images/divergent_cmap_no_centre.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Divergent color map with <code class="docutils literal notranslate"><span class="pre">centre_colormap</span></code> disabled.</span><a class="headerlink" href="#id14" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="versionadded" id="plot-customize-navigator">
<p><span class="versionmodified added">Added in version 2.0.0: </span><code class="docutils literal notranslate"><span class="pre">plot_style</span></code> keyword argument to allow for “horizontal” or “vertical” alignment of subplots (e.g. navigator
and signal) when using the <cite>ipympl</cite> or <cite>widget</cite> backends. A default value can also be set using the
<a class="reference internal" href="basic_usage.html#configuring-hyperspy-label"><span class="std std-ref">HyperSpy plot preferences</span></a>.</p>
</div>
</section>
<section id="customizing-the-navigator">
<h2>Customizing the “navigator”<a class="headerlink" href="#customizing-the-navigator" title="Link to this heading">#</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.1.2: </span>Passing keyword arguments to the navigator plot.</p>
</div>
<p>The navigator can be customised by using the <code class="docutils literal notranslate"><span class="pre">navigator_kwds</span></code> argument. For
example, in case of a image navigator, all image plot arguments mentioned in
the section <a class="reference internal" href="#plot-customize-images"><span class="std std-ref">Customising image plot</span></a> can be passed as a dictionary to the
<code class="docutils literal notranslate"><span class="pre">navigator_kwds</span></code> argument:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">ascent</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ims</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">BaseSignal</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">13</span><span class="p">))</span><span class="o">.</span><span class="n">T</span> <span class="o">*</span> <span class="n">im</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ims</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">General</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;My Images&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ims</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">colorbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>         <span class="n">scalebar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>         <span class="n">axes_ticks</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>         <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="n">navigator_kwds</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">colorbar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                             <span class="n">scalebar_color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>
<span class="gp">... </span>                             <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Blues&#39;</span><span class="p">,</span>
<span class="gp">... </span>                             <span class="n">axes_ticks</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">... </span>         <span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id15">
<a class="reference internal image-reference" href="../_images/custom_nav_opts.png"><img alt="../_images/custom_nav_opts.png" src="../_images/custom_nav_opts.png" style="height: 250px;" />
</a>
<figcaption>
<p><span class="caption-text">Custom different options for both signal and navigator image plots</span><a class="headerlink" href="#id15" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Data files used in the following examples can be downloaded using</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">#Download the data (130MB)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">urlretrieve</span><span class="p">,</span> <span class="n">urlopen</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">zipfile</span> <span class="kn">import</span> <span class="n">ZipFile</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">files</span> <span class="o">=</span> <span class="n">urlretrieve</span><span class="p">(</span><span class="s2">&quot;https://www.dropbox.com/s/s7cx92mfh2zvt3x/&quot;</span>
<span class="gp">... </span>                    <span class="s2">&quot;HyperSpy_demos_EDX_SEM_files.zip?raw=1&quot;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="s2">&quot;./HyperSpy_demos_EDX_SEM_files.zip&quot;</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ZipFile</span><span class="p">(</span><span class="s2">&quot;HyperSpy_demos_EDX_SEM_files.zip&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">z</span><span class="p">:</span> 
<span class="gp">... </span>    <span class="n">z</span><span class="o">.</span><span class="n">extractall</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See also the
<a class="reference external" href="https://nbviewer.org/github/hyperspy/exspy-demos/tree/main/EDS">SEM EDS tutorials</a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The sample and the data used in this chapter are described in
<a class="reference internal" href="bibliography.html#burdet2013"><span class="std std-ref">[Burdet2013]</span></a>.</p>
</div>
<p>Stack of 2D images can be imported as an 3D image and plotted with a slider
instead of the 2D navigator as in the previous example.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;Ni_superalloy_0*.tif&#39;</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">navigator</span><span class="o">=</span><span class="s1">&#39;slider&#39;</span><span class="p">)</span> 
</pre></div>
</div>
<figure class="align-center" id="id16">
<a class="reference internal image-reference" href="../_images/3D_image.png"><img alt="../_images/3D_image.png" src="../_images/3D_image.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Visualisation of a 3D image with a slider.</span><a class="headerlink" href="#id16" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>A stack of 2D spectrum images can be imported as a 3D spectrum image and
plotted with sliders.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;Ni_superalloy_0*.rpl&#39;</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">as_signal1D</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span> 
</pre></div>
</div>
<figure class="align-center" id="id17">
<a class="reference internal image-reference" href="../_images/3D_spectrum.png"><img alt="../_images/3D_spectrum.png" src="../_images/3D_spectrum.png" style="width: 650px;" />
</a>
<figcaption>
<p><span class="caption-text">Visualisation of a 3D spectrum image with sliders.</span><a class="headerlink" href="#id17" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>If the 3D images has the same spatial dimension as the 3D spectrum image, it
can be used as an external signal for the navigator.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;Ni_superalloy_0*.tif&#39;</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;Ni_superalloy_0*.rpl&#39;</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">as_signal1D</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">dim</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">navigation_shape</span> 

<span class="go">Rebin the image</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">rebin</span><span class="p">([</span><span class="n">dim</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">dim</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">dim</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">navigator</span><span class="o">=</span><span class="n">im</span><span class="p">)</span> 
</pre></div>
</div>
<figure class="align-center" id="id18">
<a class="reference internal image-reference" href="../_images/3D_spectrum_external.png"><img alt="../_images/3D_spectrum_external.png" src="../_images/3D_spectrum_external.png" style="width: 650px;" />
</a>
<figcaption>
<p><span class="caption-text">Visualisation of a 3D spectrum image. The navigator is an external signal.</span><a class="headerlink" href="#id18" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>The 3D spectrum image can be transformed in a stack of spectral images for an
alternative display.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">imgSpec</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;Ni_superalloy_0*.rpl&#39;</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">imgSpec</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">navigator</span><span class="o">=</span><span class="s1">&#39;spectrum&#39;</span><span class="p">)</span> 
</pre></div>
</div>
<figure class="align-center" id="id19">
<a class="reference internal image-reference" href="../_images/3D_image_spectrum.png"><img alt="../_images/3D_image_spectrum.png" src="../_images/3D_image_spectrum.png" style="width: 650px;" />
</a>
<figcaption>
<p><span class="caption-text">Visualisation of a stack of 2D spectral images.</span><a class="headerlink" href="#id19" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>An external signal (e.g. a spectrum) can be used as a navigator, for example
the “maximum spectrum” for which each channel is the maximum of all pixels.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">imgSpec</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;Ni_superalloy_0*.rpl&#39;</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">specMax</span> <span class="o">=</span> <span class="n">imgSpec</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">as_signal1D</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">imgSpec</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">navigator</span><span class="o">=</span><span class="n">specMax</span><span class="p">)</span> 
</pre></div>
</div>
<figure class="align-center" id="id20">
<a class="reference internal image-reference" href="../_images/3D_image_spectrum_external.png"><img alt="../_images/3D_image_spectrum_external.png" src="../_images/3D_image_spectrum_external.png" style="width: 650px;" />
</a>
<figcaption>
<p><span class="caption-text">Visualisation of a stack of 2D spectral images.
The navigator is the “maximum spectrum”.</span><a class="headerlink" href="#id20" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Lastly, if no navigator is needed, “navigator=None” can be used.</p>
</section>
<section id="using-mayavi-to-visualize-3d-data">
<span id="visualization-3d-eds-label"></span><h2>Using Mayavi to visualize 3D data<a class="headerlink" href="#using-mayavi-to-visualize-3d-data" title="Link to this heading">#</a></h2>
<p>Data files used in the following examples can be downloaded using</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">urlretrieve</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://cook.msm.cam.ac.uk/~hyperspy/EDS_tutorial/&#39;</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span> <span class="o">+</span> <span class="s1">&#39;Ni_La_intensity.hdf5&#39;</span><span class="p">,</span> <span class="s1">&#39;Ni_La_intensity.hdf5&#39;</span><span class="p">)</span> 
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See also the <a class="reference external" href="https://nbviewer.org/github/hyperspy/exspy-demos/tree/main/EDS">EDS tutorials</a>.</p>
</div>
<p>Although HyperSpy does not currently support plotting when signal_dimension is
greater than 2, <a class="reference external" href="https://docs.enthought.com/mayavi/mayavi/">Mayavi</a> can be
used for this purpose.</p>
<p>In the following example we also use <a class="reference external" href="https://scikit-image.org/">scikit-image</a>
for noise reduction. More details about
<a class="reference external" href="https://exspy.readthedocs.io/en/latest/reference/signals.html#exspy.signals.EDSSpectrum.get_lines_intensity" title="(in eXSpy)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">exspy.signals.EDSSpectrum.get_lines_intensity()</span></code></a> method can be
found in <a class="reference external" href="https://exspy.readthedocs.io/en/latest/user_guide/eds.html#get-lines-intensity" title="(in eXSpy)"><span class="xref std std-ref">EDS lines intensity</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mayavi</span> <span class="kn">import</span> <span class="n">mlab</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">ni</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;Ni_La_intensity.hdf5&#39;</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">mlab</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">mlab</span><span class="o">.</span><span class="n">contour3d</span><span class="p">(</span><span class="n">ni</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">contours</span><span class="o">=</span><span class="p">[</span><span class="mi">85</span><span class="p">])</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">mlab</span><span class="o">.</span><span class="n">outline</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span> 
</pre></div>
</div>
<figure class="align-center" id="id21">
<a class="reference internal image-reference" href="../_images/plot_3D_mayavi.png"><img alt="../_images/plot_3D_mayavi.png" src="../_images/plot_3D_mayavi.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-text">Visualisation of isosurfaces with mayavi.</span><a class="headerlink" href="#id21" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See also the
<a class="reference external" href="https://nbviewer.org/github/hyperspy/exspy-demos/tree/main/EDS">SEM EDS tutorials</a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The sample and the data used in this chapter are described in
P. Burdet, <cite>et al.</cite>, Ultramicroscopy, 148, p. 158-167 (2015).</p>
</div>
</section>
<section id="plotting-multiple-signals">
<span id="plot-spectra"></span><h2>Plotting multiple signals<a class="headerlink" href="#plotting-multiple-signals" title="Link to this heading">#</a></h2>
<p>HyperSpy provides three functions to plot multiple signals (spectra, images or
other signals): <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_images" title="hyperspy.api.plot.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a>,
<a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_spectra" title="hyperspy.api.plot.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a>, and
<a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_signals" title="hyperspy.api.plot.plot_signals"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_signals()</span></code></a> in the <a class="reference internal" href="../reference/api.plot/index.html#module-hyperspy.api.plot" title="hyperspy.api.plot"><code class="xref py py-mod docutils literal notranslate"><span class="pre">plot</span></code></a> package.</p>
<section id="plotting-several-images">
<span id="plot-images"></span><h3>Plotting several images<a class="headerlink" href="#plotting-several-images" title="Link to this heading">#</a></h3>
<p><a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_images" title="hyperspy.api.plot.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> is used to plot several images in the
same figure. It supports many configurations and has many options available
to customize the resulting output. The function returns a list of
<a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.html#matplotlib.axes.Axes" title="(in Matplotlib v3.9.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.axes.Axes</span></code></a>,
which can be used to further customize the figure. Some examples are given
below. Plots generated from another installation may look slightly different
due to <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> GUI backends and default font sizes. To change the
font size globally, use the command <code class="docutils literal notranslate"><span class="pre">matplotlib.rcParams.update({'font</span>
<span class="pre">.size':</span> <span class="pre">8})</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.5: </span>Add support for plotting <a class="reference internal" href="../reference/api.signals/BaseSignal.html#hyperspy.api.signals.BaseSignal" title="hyperspy.api.signals.BaseSignal"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseSignal</span></code></a> with navigation
dimension 2 and signal dimension 0.</p>
</div>
<p>A common usage for <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_images" title="hyperspy.api.plot.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> is to view the
different slices of a multidimensional image (a <em>hyperimage</em>):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">([</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">ascent</span><span class="p">()]</span><span class="o">*</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">angles</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">BaseSignal</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">ndimage</span><span class="o">.</span><span class="n">rotate</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="n">angles</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">reshape</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_images</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">tight_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
</pre></div>
</div>
<figure class="align-center" id="id22">
<a class="reference internal image-reference" href="../_images/plot_images_defaults.png"><img alt="../_images/plot_images_defaults.png" src="../_images/plot_images_defaults.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Figure generated with <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_images" title="hyperspy.api.plot.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> using the
default values.</span><a class="headerlink" href="#id22" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>This example is explained in <a class="reference internal" href="signal/generic_tools.html#signal-iterator"><span class="std std-ref">Signal iterator</span></a>.</p>
<p>By default, <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_images" title="hyperspy.api.plot.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> will attempt to auto-label
the images based on the Signal titles. The labels (and title) can be
customized with the <cite>suptitle</cite> and <cite>label</cite> arguments. In this example, the
axes labels and the ticks are also disabled with <cite>axes_decor</cite>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">([</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">ascent</span><span class="p">()]</span><span class="o">*</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">angles</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">BaseSignal</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">ndimage</span><span class="o">.</span><span class="n">rotate</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="n">angles</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">reshape</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_images</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">image</span><span class="p">,</span> <span class="n">suptitle</span><span class="o">=</span><span class="s1">&#39;Turning Ascent&#39;</span><span class="p">,</span> <span class="n">axes_decor</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">label</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Rotation </span><span class="si">{}</span><span class="s1">$^\degree$&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">angles</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span>
<span class="gp">... </span>           <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">angles</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])],</span> <span class="n">colorbar</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> 
</pre></div>
</div>
<figure class="align-center" id="id23">
<a class="reference internal image-reference" href="../_images/plot_images_custom-labels.png"><img alt="../_images/plot_images_custom-labels.png" src="../_images/plot_images_custom-labels.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Figure generated with <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_images" title="hyperspy.api.plot.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> with customised
labels.</span><a class="headerlink" href="#id23" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p><a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_images" title="hyperspy.api.plot.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> can also be used to easily plot a list
of <cite>Images</cite>, comparing different <cite>Signals</cite>, including RGB images. This
example also demonstrates how to wrap labels using <cite>labelwrap</cite> (for preventing
overlap) and using a single <cite>colorbar</cite> for all the Images, as opposed to
multiple individual ones:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt;</span>

<span class="go">Load red channel of raccoon as an image</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">image0</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">face</span><span class="p">()[:,:,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image0</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">General</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Rocky Raccoon - R&#39;</span>

<span class="go">Load ascent into a length 6 hyper-image</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">image1</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">([</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">ascent</span><span class="p">()]</span><span class="o">*</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">angles</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">BaseSignal</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image1</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">ndimage</span><span class="o">.</span><span class="n">rotate</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="n">angles</span><span class="p">,</span> <span class="n">reshape</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image1</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">image1</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>  <span class="c1"># clip data to int range</span>

<span class="go">Load green channel of raccoon as an image</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">image2</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">face</span><span class="p">()[:,:,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image2</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">General</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Rocky Raccoon - G&#39;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="go">Load rgb image of the raccoon</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">rgb</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">face</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rgb</span><span class="o">.</span><span class="n">change_dtype</span><span class="p">(</span><span class="s2">&quot;rgb8&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rgb</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">General</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Raccoon - RGB&#39;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span> <span class="o">=</span> <span class="p">[</span><span class="n">image0</span><span class="p">,</span> <span class="n">image1</span><span class="p">,</span> <span class="n">image2</span><span class="p">,</span> <span class="n">rgb</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">im</span> <span class="ow">in</span> <span class="n">images</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">ax</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">signal_axes</span>
<span class="gp">... </span>    <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span>
<span class="gp">... </span>    <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">units</span><span class="p">,</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;mm&#39;</span><span class="p">,</span> <span class="s1">&#39;mm&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_images</span><span class="p">(</span><span class="n">images</span><span class="p">,</span> <span class="n">tight_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">colorbar</span><span class="o">=</span><span class="s1">&#39;single&#39;</span><span class="p">,</span> <span class="n">labelwrap</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span> 
</pre></div>
</div>
<figure class="align-center" id="id24">
<a class="reference internal image-reference" href="../_images/plot_images_image-list.png"><img alt="../_images/plot_images_image-list.png" src="../_images/plot_images_image-list.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Figure generated with <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_images" title="hyperspy.api.plot.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> from a list of
images.</span><a class="headerlink" href="#id24" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Data files used in the following example can be downloaded using (These data
are described in <a class="reference internal" href="bibliography.html#rossouw2015"><span class="std std-ref">[Rossouw2015]</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">#Download the data (1MB)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">urlretrieve</span><span class="p">,</span> <span class="n">urlopen</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">zipfile</span> <span class="kn">import</span> <span class="n">ZipFile</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">files</span> <span class="o">=</span> <span class="n">urlretrieve</span><span class="p">(</span><span class="s2">&quot;https://www.dropbox.com/s/ecdlgwxjq04m5mx/&quot;</span>
<span class="gp">... </span>                    <span class="s2">&quot;HyperSpy_demos_EDS_TEM_files.zip?raw=1&quot;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="s2">&quot;./HyperSpy_demos_EDX_TEM_files.zip&quot;</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ZipFile</span><span class="p">(</span><span class="s2">&quot;HyperSpy_demos_EDX_TEM_files.zip&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">z</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">z</span><span class="o">.</span><span class="n">extractall</span><span class="p">()</span> 
</pre></div>
</div>
<p>Another example for this function is plotting EDS line intensities see
<a class="reference external" href="https://exspy.readthedocs.io/en/latest/user_guide/eds.html#get-lines-intensity" title="(in eXSpy)"><span class="xref std std-ref">EDS chapter</span></a>. One can use the following commands
to get a representative figure of the X-ray line intensities of an EDS
spectrum image. This example also demonstrates changing the colormap (with
<cite>cmap</cite>), adding scalebars to the plots (with <cite>scalebar</cite>), and changing the
<cite>padding</cite> between the images. The padding is specified as a dictionary,
which is passed to <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.figure.Figure.subplots_adjust.html#matplotlib.figure.Figure.subplots_adjust" title="(in Matplotlib v3.9.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.figure.Figure.subplots_adjust()</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">si_EDS</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;core_shell.hdf5&quot;</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">si_EDS</span><span class="o">.</span><span class="n">get_lines_intensity</span><span class="p">()</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_images</span><span class="p">(</span><span class="n">im</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">tight_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;RdYlBu_r&#39;</span><span class="p">,</span> <span class="n">axes_decor</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">colorbar</span><span class="o">=</span><span class="s1">&#39;single&#39;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="s1">&#39;1th&#39;</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="s1">&#39;99th&#39;</span><span class="p">,</span> <span class="n">scalebar</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">scalebar_color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">suptitle_fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">padding</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;top&#39;</span><span class="p">:</span><span class="mf">0.8</span><span class="p">,</span> <span class="s1">&#39;bottom&#39;</span><span class="p">:</span><span class="mf">0.10</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span><span class="mf">0.05</span><span class="p">,</span>
<span class="gp">... </span>             <span class="s1">&#39;right&#39;</span><span class="p">:</span><span class="mf">0.85</span><span class="p">,</span> <span class="s1">&#39;wspace&#39;</span><span class="p">:</span><span class="mf">0.20</span><span class="p">,</span> <span class="s1">&#39;hspace&#39;</span><span class="p">:</span><span class="mf">0.10</span><span class="p">})</span> 
</pre></div>
</div>
<figure class="align-center" id="id25">
<a class="reference internal image-reference" href="../_images/plot_images_eds.png"><img alt="../_images/plot_images_eds.png" src="../_images/plot_images_eds.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Using <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_images" title="hyperspy.api.plot.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> to plot the output of
<a class="reference external" href="https://exspy.readthedocs.io/en/latest/reference/signals.html#exspy.signals.EDSSpectrum.get_lines_intensity" title="(in eXSpy)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_lines_intensity()</span></code></a>.</span><a class="headerlink" href="#id25" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This padding can also be changed interactively by clicking on the
<img alt="subplots_adjust" src="../_images/plot_images_subplots.png" /> button in the GUI (button may be different when using
different graphical backends).</p>
</div>
<p>Finally, the <code class="docutils literal notranslate"><span class="pre">cmap</span></code> option of <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_images" title="hyperspy.api.plot.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a>
supports iterable types, allowing the user to specify different colormaps
for the different images that are plotted by providing a list or other
generator:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">si_EDS</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;core_shell.hdf5&quot;</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">si_EDS</span><span class="o">.</span><span class="n">get_lines_intensity</span><span class="p">()</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_images</span><span class="p">(</span><span class="n">im</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">tight_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="s1">&#39;plasma&#39;</span><span class="p">],</span> <span class="n">axes_decor</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">colorbar</span><span class="o">=</span><span class="s1">&#39;multi&#39;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="s1">&#39;1th&#39;</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="s1">&#39;99th&#39;</span><span class="p">,</span> <span class="n">scalebar</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>   <span class="n">scalebar_color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">suptitle_fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span> 
</pre></div>
</div>
<figure class="align-center" id="id26">
<a class="reference internal image-reference" href="../_images/plot_images_eds_cmap_list.png"><img alt="../_images/plot_images_eds_cmap_list.png" src="../_images/plot_images_eds_cmap_list.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Using <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_images" title="hyperspy.api.plot.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> to plot the output of
<a class="reference external" href="https://exspy.readthedocs.io/en/latest/reference/signals.html#exspy.signals.EDSSpectrum.get_lines_intensity" title="(in eXSpy)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_lines_intensity()</span></code></a> using a unique
colormap for each image.</span><a class="headerlink" href="#id26" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>The <code class="docutils literal notranslate"><span class="pre">cmap</span></code> argument can also be given as <code class="docutils literal notranslate"><span class="pre">'mpl_colors'</span></code>, and as a result,
the images will be plotted with colormaps generated from the default
<code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> colors, which is very helpful when plotting multiple spectral
signals and their relative intensities (such as the results of a
<a class="reference internal" href="../reference/api.signals/BaseSignal.html#hyperspy.api.signals.BaseSignal.decomposition" title="hyperspy.api.signals.BaseSignal.decomposition"><code class="xref py py-meth docutils literal notranslate"><span class="pre">decomposition()</span></code></a> analysis). This example uses
<a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_spectra" title="hyperspy.api.plot.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a>, which is explained in the
<a class="reference internal" href="#id4">next section</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">si_EDS</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;core_shell.hdf5&quot;</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">si_EDS</span><span class="o">.</span><span class="n">change_dtype</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">si_EDS</span><span class="o">.</span><span class="n">decomposition</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;NMF&#39;</span><span class="p">,</span> <span class="n">output_dimension</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">factors</span> <span class="o">=</span> <span class="n">si_EDS</span><span class="o">.</span><span class="n">get_decomposition_factors</span><span class="p">()</span> 
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the first factor is a very strong carbon background component, so we</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># normalize factor intensities for easier qualitative comparison</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">factors</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">f</span><span class="o">.</span><span class="n">data</span> <span class="o">/=</span> <span class="n">f</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> 
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loadings</span> <span class="o">=</span> <span class="n">si_EDS</span><span class="o">.</span><span class="n">get_decomposition_loadings</span><span class="p">()</span> 
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">factors</span><span class="o">.</span><span class="n">isig</span><span class="p">[:</span><span class="mf">14.0</span><span class="p">],</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;cascade&#39;</span><span class="p">,</span> <span class="n">padding</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># add some lines to nicely label the peak positions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mf">6.403</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;C2&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">6.503</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="s1">&#39;Fe-K$_</span><span class="se">\\</span><span class="s1">alpha$&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;C2&#39;</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mf">9.441</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">9.541</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="s1">&#39;Pt-L$_</span><span class="se">\\</span><span class="s1">alpha$&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;C1&#39;</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mf">2.046</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">2.146</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="s1">&#39;Pt-M&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;C1&#39;</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mf">8.040</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">8.14</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.35</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="s1">&#39;Cu-K$_</span><span class="se">\\</span><span class="s1">alpha$&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_images</span><span class="p">(</span><span class="n">loadings</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;mpl_colors&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">axes_decor</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">,</span> <span class="n">per_row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">label</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Background&#39;</span><span class="p">,</span> <span class="s1">&#39;Pt core&#39;</span><span class="p">,</span> <span class="s1">&#39;Fe shell&#39;</span><span class="p">],</span>
<span class="gp">... </span>            <span class="n">scalebar</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">scalebar_color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">padding</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;top&#39;</span><span class="p">:</span> <span class="mf">0.95</span><span class="p">,</span> <span class="s1">&#39;bottom&#39;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span>
<span class="gp">... </span>                     <span class="s1">&#39;left&#39;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span><span class="mf">0.78</span><span class="p">})</span> 
</pre></div>
</div>
<figure class="align-center" id="id27">
<a class="reference internal image-reference" href="../_images/plot_images_eds_cmap_factors_side_by_side.png"><img alt="../_images/plot_images_eds_cmap_factors_side_by_side.png" src="../_images/plot_images_eds_cmap_factors_side_by_side.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Using <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_images" title="hyperspy.api.plot.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> with <code class="docutils literal notranslate"><span class="pre">cmap='mpl_colors'</span></code>
together with <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_spectra" title="hyperspy.api.plot.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a> to visualize the
output of a non-negative matrix factorization of the EDS data.</span><a class="headerlink" href="#id27" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Because it does not make sense, it is not allowed to use a list or
other iterable type for the <code class="docutils literal notranslate"><span class="pre">cmap</span></code> argument together with <code class="docutils literal notranslate"><span class="pre">'single'</span></code>
for the <code class="docutils literal notranslate"><span class="pre">colorbar</span></code> argument. Such an input will cause a warning and
instead set the <code class="docutils literal notranslate"><span class="pre">colorbar</span></code> argument to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</div>
<p>It is also possible to plot multiple images overlayed on the same figure by
passing the argument <code class="docutils literal notranslate"><span class="pre">overlay=True</span></code> to the
<a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_images" title="hyperspy.api.plot.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> function. This should only be done when
images have the same scale (eg. for elemental maps from the same dataset).
Using the same data as above, the Fe and Pt signals can be plotted using
different colours. Any color can be input via matplotlib color characters or
hex values.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">si_EDS</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;core_shell.hdf5&quot;</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">si_EDS</span><span class="o">.</span><span class="n">get_lines_intensity</span><span class="p">()</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_images</span><span class="p">(</span><span class="n">im</span><span class="p">,</span><span class="n">scalebar</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">overlay</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">suptitle</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">axes_decor</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">)</span> 
</pre></div>
</div>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/plot_images_overlay.png"><img alt="../_images/plot_images_overlay.png" src="../_images/plot_images_overlay.png" style="width: 500px;" />
</a>
</figure>
</section>
<section id="plotting-several-spectra">
<span id="id4"></span><h3>Plotting several spectra<a class="headerlink" href="#plotting-several-spectra" title="Link to this heading">#</a></h3>
<p><a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_spectra" title="hyperspy.api.plot.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a> is used to plot several spectra in the
same figure. It supports different styles, the default
being “overlap”.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.5: </span>Add support for plotting <a class="reference internal" href="../reference/api.signals/BaseSignal.html#hyperspy.api.signals.BaseSignal" title="hyperspy.api.signals.BaseSignal"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseSignal</span></code></a> with navigation
dimension 1 and signal dimension 0.</p>
</div>
<p>In the following example we create a list of 9 single spectra (gaussian
functions with different sigma values) and plot them in the same figure using
<a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_spectra" title="hyperspy.api.plot.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a>. Note that, in this case, the legend
labels are taken from the individual spectrum titles. By clicking on the
legended line, a spectrum can be toggled on and off.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">200</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scale</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">create_model</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">components1D</span><span class="o">.</span><span class="n">Gaussian</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gaussians</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">sigma</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">g</span><span class="o">.</span><span class="n">sigma</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">sigma</span>
<span class="gp">... </span>        <span class="n">gs</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">as_signal</span><span class="p">()</span>
<span class="gp">... </span>        <span class="n">gs</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">General</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;sigma=</span><span class="si">%i</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">sigma</span>
<span class="gp">... </span>        <span class="n">gaussians</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gs</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">gaussians</span><span class="p">,</span><span class="n">legend</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">)</span>
<span class="go">&lt;Axes: xlabel=&#39;&lt;undefined&gt; (&lt;undefined&gt;)&#39;, ylabel=&#39;Intensity&#39;&gt;</span>
</pre></div>
</div>
<figure class="align-center" id="id28">
<a class="reference internal image-reference" href="../_images/plot_spectra_overlap.png"><img alt="../_images/plot_spectra_overlap.png" src="../_images/plot_spectra_overlap.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Figure generated by <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_spectra" title="hyperspy.api.plot.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a> using the
<cite>overlap</cite> style.</span><a class="headerlink" href="#id28" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Another style, “cascade”, can be useful when “overlap” results in a plot that
is too cluttered e.g. to visualize
changes in EELS fine structure over a line scan. The following example
shows how to plot a cascade style figure from a spectrum, and save it in
a file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">100</span><span class="p">:</span><span class="mi">160</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;cascade&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;cascade_plot.png&quot;</span><span class="p">)</span> 
</pre></div>
</div>
<figure class="align-center" id="id29">
<a class="reference internal image-reference" href="../_images/plot_spectra_cascade.png"><img alt="../_images/plot_spectra_cascade.png" src="../_images/plot_spectra_cascade.png" style="width: 350px;" />
</a>
<figcaption>
<p><span class="caption-text">Figure generated by <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_spectra" title="hyperspy.api.plot.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a> using the
<cite>cascade</cite> style.</span><a class="headerlink" href="#id29" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>The “cascade” <cite>style</cite> has a <cite>padding</cite> option. The default value, 1, keeps the
individual plots from overlapping. However in most cases a lower
padding value can be used, to get tighter plots.</p>
<p>Using the color argument one can assign a color to all the spectra, or specific
colors for each spectrum. In the same way, one can also assign the line style
and provide the legend labels:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">100</span><span class="p">:</span><span class="mi">160</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">color_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linestyle_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="s1">&#39;-.&#39;</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;cascade&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color_list</span><span class="p">,</span>
<span class="gp">... </span>                     <span class="n">linestyle</span><span class="o">=</span><span class="n">linestyle_list</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">)</span>
<span class="go">&lt;Axes: xlabel=&#39;&lt;undefined&gt; (&lt;undefined&gt;)&#39;&gt;</span>
</pre></div>
</div>
<figure class="align-center" id="id30">
<a class="reference internal image-reference" href="../_images/plot_spectra_color.png"><img alt="../_images/plot_spectra_color.png" src="../_images/plot_spectra_color.png" style="width: 350px;" />
</a>
<figcaption>
<p><span class="caption-text">Customising the line colors in <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_spectra" title="hyperspy.api.plot.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a>.</span><a class="headerlink" href="#id30" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>A simple extension of this functionality is to customize the colormap that
is used to generate the list of colors. Using a list comprehension, one can
generate a list of colors that follows a certain colormap:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span> <span class="n">axarr</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">100</span><span class="p">:</span><span class="mi">160</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">200</span><span class="p">:</span><span class="mi">260</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="n">style</span><span class="o">=</span><span class="s1">&#39;cascade&#39;</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">RdBu</span><span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">... </span>                               <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">))],</span>
<span class="gp">... </span>                        <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                        <span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span>
<span class="go">&lt;Axes: xlabel=&#39;&lt;undefined&gt; (&lt;undefined&gt;)&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s2</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="n">style</span><span class="o">=</span><span class="s1">&#39;cascade&#39;</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">summer</span><span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">... </span>                               <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">))],</span>
<span class="gp">... </span>                        <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>                        <span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span>
<span class="go">&lt;Axes: xlabel=&#39;&lt;undefined&gt; (&lt;undefined&gt;)&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;RdBu (colormap)&#39;</span><span class="p">)</span>
<span class="go">Text(0.5, 0, &#39;RdBu (colormap)&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axarr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;summer (colormap)&#39;</span><span class="p">)</span>
<span class="go">Text(0.5, 0, &#39;summer (colormap)&#39;)</span>
</pre></div>
</div>
<figure class="align-center" id="id31">
<a class="reference internal image-reference" href="../_images/plot_spectra_colormap.png"><img alt="../_images/plot_spectra_colormap.png" src="../_images/plot_spectra_colormap.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Customising the line colors in <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_spectra" title="hyperspy.api.plot.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a> using
a colormap.</span><a class="headerlink" href="#id31" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>There are also two other styles, “heatmap” and “mosaic”:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">100</span><span class="p">:</span><span class="mi">160</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;heatmap&#39;</span><span class="p">)</span>
<span class="go">&lt;Axes: title={&#39;center&#39;: &#39; Signal&#39;}, xlabel=&#39;Unnamed 0th axis&#39;, ylabel=&#39;Spectra&#39;&gt;</span>
</pre></div>
</div>
<figure class="align-center" id="id32">
<a class="reference internal image-reference" href="../_images/plot_spectra_heatmap.png"><img alt="../_images/plot_spectra_heatmap.png" src="../_images/plot_spectra_heatmap.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Figure generated by <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_spectra" title="hyperspy.api.plot.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a> using the
<cite>heatmap</cite> style.</span><a class="headerlink" href="#id32" title="Link to this image">#</a></p>
</figcaption>
</figure>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">100</span><span class="p">:</span><span class="mi">120</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;mosaic&#39;</span><span class="p">)</span>
<span class="go">array([&lt;Axes: ylabel=&#39;Intensity&#39;&gt;,</span>
<span class="go">       &lt;Axes: xlabel=&#39;&lt;undefined&gt; (&lt;undefined&gt;)&#39;, ylabel=&#39;Intensity&#39;&gt;],</span>
<span class="go">      dtype=object)</span>
</pre></div>
</div>
<figure class="align-center" id="id33">
<a class="reference internal image-reference" href="../_images/plot_spectra_mosaic.png"><img alt="../_images/plot_spectra_mosaic.png" src="../_images/plot_spectra_mosaic.png" style="width: 350px;" />
</a>
<figcaption>
<p><span class="caption-text">Figure generated by <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_spectra" title="hyperspy.api.plot.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a> using the
<cite>mosaic</cite> style.</span><a class="headerlink" href="#id33" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>For the “heatmap” style, different
<a class="reference external" href="https://matplotlib.org/stable/gallery/color/colormap_reference.html">matplotlib color schemes</a>
can be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.cm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">100</span><span class="p">:</span><span class="mi">120</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;heatmap&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">images</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_cmap</span><span class="p">(</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">plasma</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id34">
<a class="reference internal image-reference" href="../_images/plot_spectra_heatmap_plasma.png"><img alt="../_images/plot_spectra_heatmap_plasma.png" src="../_images/plot_spectra_heatmap_plasma.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Figure generated by <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_spectra" title="hyperspy.api.plot.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a> using the
<cite>heatmap</cite> style showing how to customise the color map.</span><a class="headerlink" href="#id34" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Any parameter that can be passed to matplotlib.pyplot.figure can also be used
with plot_spectra() to allow further customization  (when using the
“overlap”, “cascade”, or “mosaic” styles). In the following example, <cite>dpi</cite>,
<cite>facecolor</cite>, <cite>frameon</cite>, and <cite>num</cite> are all parameters that are passed
directly to matplotlib.pyplot.figure as keyword arguments:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">100</span><span class="p">:</span><span class="mi">160</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">legendtext</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Plot 0&#39;</span><span class="p">,</span> <span class="s1">&#39;Plot 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Plot 2&#39;</span><span class="p">,</span> <span class="s1">&#39;Plot 3&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="s1">&#39;Plot 4&#39;</span><span class="p">,</span> <span class="s1">&#39;Plot 5&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">s</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;cascade&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="n">legendtext</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;lightblue&#39;</span><span class="p">,</span> <span class="n">frameon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;X-axis&quot;</span><span class="p">)</span>
<span class="go">Text(0.5, 0, &#39;X-axis&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Y-axis&quot;</span><span class="p">)</span>
<span class="go">Text(0, 0.5, &#39;Y-axis&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Cascade plot&quot;</span><span class="p">)</span>
<span class="go">Text(0.5, 1.0, &#39;Cascade plot&#39;)</span>
</pre></div>
</div>
<figure class="align-center" id="id35">
<a class="reference internal image-reference" href="../_images/plot_spectra_kwargs.png"><img alt="../_images/plot_spectra_kwargs.png" src="../_images/plot_spectra_kwargs.png" style="width: 350px;" />
</a>
<figcaption>
<p><span class="caption-text">Customising the figure with keyword arguments.</span><a class="headerlink" href="#id35" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>The function returns a matplotlib ax object, which can be used to customize
the figure:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">100</span><span class="p">:</span><span class="mi">160</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;An axis&quot;</span><span class="p">)</span>
<span class="go">Text(0.5, 0, &#39;An axis&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Another axis&quot;</span><span class="p">)</span>
<span class="go">Text(0, 0.5, &#39;Another axis&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;A title!&quot;</span><span class="p">)</span>
<span class="go">Text(0.5, 1.0, &#39;A title!&#39;)</span>
</pre></div>
</div>
<figure class="align-center" id="id36">
<a class="reference internal image-reference" href="../_images/plot_spectra_customize.png"><img alt="../_images/plot_spectra_customize.png" src="../_images/plot_spectra_customize.png" style="width: 350px;" />
</a>
<figcaption>
<p><span class="caption-text">Customising the figure by setting the matplotlib axes properties.</span><a class="headerlink" href="#id36" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>A matplotlib ax and fig object can also be specified, which can be used to
put several subplots in the same figure. This will only work for “cascade”
and “overlap” styles:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span> <span class="n">axarr</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">100</span><span class="p">:</span><span class="mi">160</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">200</span><span class="p">:</span><span class="mi">260</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;cascade&#39;</span><span class="p">,</span>
<span class="gp">... </span>                     <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span>
<span class="go">&lt;Axes: xlabel=&#39;&lt;undefined&gt; (&lt;undefined&gt;)&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s2</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;cascade&#39;</span><span class="p">,</span>
<span class="gp">... </span>                     <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span>
<span class="go">&lt;Axes: xlabel=&#39;&lt;undefined&gt; (&lt;undefined&gt;)&#39;&gt;</span>
</pre></div>
</div>
<figure class="align-center" id="id37">
<a class="reference internal image-reference" href="../_images/plot_spectra_ax_argument.png"><img alt="../_images/plot_spectra_ax_argument.png" src="../_images/plot_spectra_ax_argument.png" style="width: 350px;" />
</a>
<figcaption>
<p><span class="caption-text">Plotting on existing matplotlib axes.</span><a class="headerlink" href="#id37" title="Link to this image">#</a></p>
</figcaption>
</figure>
<section id="plotting-several-signals">
<span id="plot-signals"></span><h4>Plotting several signals<a class="headerlink" href="#plotting-several-signals" title="Link to this heading">#</a></h4>
<p><a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_signals" title="hyperspy.api.plot.plot_signals"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_signals()</span></code></a> is used to plot several signals at the
same time. By default the navigation position of the signals will be synced,
and the signals must have the same dimensions. To plot two spectra at the
same time:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">face</span><span class="p">())</span><span class="o">.</span><span class="n">as_signal1D</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">inav</span><span class="p">[:,:</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">()</span><span class="o">*-</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_signals</span><span class="p">([</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">])</span>
</pre></div>
</div>
<figure class="align-center" id="id38">
<a class="reference internal image-reference" href="../_images/plot_signals.png"><img alt="../_images/plot_signals.png" src="../_images/plot_signals.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">The <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_signals" title="hyperspy.api.plot.plot_signals"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_signals()</span></code></a> plots several signals with
optional synchronized navigation.</span><a class="headerlink" href="#id38" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>The navigator can be specified by using the navigator argument, where the
different options are “auto”, None, “spectrum”, “slider” or Signal.
For more details about the different navigators,
see <a class="reference internal" href="#plot-customize-navigator"><span class="std std-ref">the navigator options</span></a>.
To specify the navigator:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">face</span><span class="p">())</span><span class="o">.</span><span class="n">as_signal1D</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">inav</span><span class="p">[:,:</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">()</span><span class="o">*-</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_signals</span><span class="p">([</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="n">navigator</span><span class="o">=</span><span class="s2">&quot;slider&quot;</span><span class="p">)</span> 
</pre></div>
</div>
<figure class="align-center" id="id39">
<a class="reference internal image-reference" href="../_images/plot_signals_slider.png"><img alt="../_images/plot_signals_slider.png" src="../_images/plot_signals_slider.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Customising the navigator in <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_signals" title="hyperspy.api.plot.plot_signals"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_signals()</span></code></a>.</span><a class="headerlink" href="#id39" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Navigators can also be set differently for different plots using the
navigator_list argument. Where the navigator_list be the same length
as the number of signals plotted, and only contain valid navigator options.
For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">face</span><span class="p">())</span><span class="o">.</span><span class="n">as_signal1D</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">inav</span><span class="p">[:,:</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">()</span><span class="o">*-</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s3</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_signals</span><span class="p">([</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="n">navigator_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;slider&quot;</span><span class="p">,</span> <span class="n">s3</span><span class="p">])</span> 
</pre></div>
</div>
<figure class="align-center" id="id40">
<a class="reference internal image-reference" href="../_images/plot_signals_navigator_list.png"><img alt="../_images/plot_signals_navigator_list.png" src="../_images/plot_signals_navigator_list.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Customising the navigator in <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_signals" title="hyperspy.api.plot.plot_signals"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_signals()</span></code></a> by
providing a navigator list.</span><a class="headerlink" href="#id40" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Several signals can also be plotted without syncing the navigation by using
sync=False. The navigator_list can still be used to specify a navigator for
each plot:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">face</span><span class="p">())</span><span class="o">.</span><span class="n">as_signal1D</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">inav</span><span class="p">[:,:</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">()</span><span class="o">*-</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_signals</span><span class="p">([</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="n">sync</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">navigator_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;slider&quot;</span><span class="p">,</span> <span class="s2">&quot;slider&quot;</span><span class="p">])</span> 
</pre></div>
</div>
<figure class="align-center" id="id41">
<a class="reference internal image-reference" href="../_images/plot_signals_sync.png"><img alt="../_images/plot_signals_sync.png" src="../_images/plot_signals_sync.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text">Disabling syncronised navigation in <a class="reference internal" href="../reference/api.plot/index.html#hyperspy.api.plot.plot_signals" title="hyperspy.api.plot.plot_signals"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_signals()</span></code></a>.</span><a class="headerlink" href="#id41" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
</section>
</section>
<section id="markers">
<span id="plot-markers"></span><h2>Markers<a class="headerlink" href="#markers" title="Link to this heading">#</a></h2>
<p>HyperSpy provides an easy access the collections classes of matplotlib. These markers provide
powerful ways to annotate high dimensional datasets easily.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">ascent</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">Rectangles</span><span class="p">(</span>
<span class="gp">... </span>   <span class="n">offsets</span><span class="o">=</span><span class="p">[[</span><span class="mi">275</span><span class="p">,</span> <span class="mi">250</span><span class="p">],],</span> <span class="n">widths</span><span class="o">=</span> <span class="p">[</span><span class="mi">250</span><span class="p">,],</span>
<span class="gp">... </span>   <span class="n">heights</span><span class="o">=</span><span class="p">[</span><span class="mi">300</span><span class="p">],</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id42">
<a class="reference internal image-reference" href="../_images/plot_markers_std.png"><img alt="../_images/plot_markers_std.png" src="../_images/plot_markers_std.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-text">Rectangle static marker.</span><a class="headerlink" href="#id42" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>By providing an array of positions, the marker can also change position when
navigating the signal. In the following example, the local maxima are displayed
for each R, G and B channel of a colour image.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skimage.feature</span> <span class="kn">import</span> <span class="n">peak_local_max</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ims</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">BaseSignal</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">face</span><span class="p">())</span><span class="o">.</span><span class="n">as_signal2D</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index</span> <span class="o">=</span> <span class="n">ims</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">peak_local_max</span><span class="p">,</span><span class="n">min_distance</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">num_peaks</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ragged</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">Points</span><span class="o">.</span><span class="n">from_signal</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ims</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id43">
<a class="reference internal image-reference" href="../_images/plot_markers_im.gif"><img alt="../_images/plot_markers_im.gif" src="../_images/plot_markers_im.gif" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Point markers in image.</span><a class="headerlink" href="#id43" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Markers can be added to the navigator as well. In the following example,
each slice of a 2D spectrum is tagged with a text marker on the signal plot.
Each slice is indicated with the same text on the navigator.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">navigator</span><span class="o">=</span><span class="s1">&#39;spectrum&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">offsets</span> <span class="o">=</span> <span class="p">[[</span><span class="n">i</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mi">5</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;abcdefghij&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">Texts</span><span class="p">(</span><span class="n">offsets</span><span class="o">=</span><span class="n">offsets</span><span class="p">,</span> <span class="n">texts</span><span class="o">=</span><span class="p">[</span><span class="o">*</span><span class="n">text</span><span class="p">],</span> <span class="n">verticalalignment</span><span class="o">=</span><span class="s2">&quot;bottom&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">plot_on_signal</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">offsets</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">navigation_shape</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">texts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">navigation_shape</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
<span class="gp">... </span>   <span class="n">offsets</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[</span><span class="n">x</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">inav</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">isig</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="p">)],]</span>
<span class="gp">... </span>   <span class="n">texts</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">text</span><span class="p">[</span><span class="n">i</span><span class="p">],])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m_sig</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">Texts</span><span class="p">(</span><span class="n">offsets</span><span class="o">=</span><span class="n">offsets</span><span class="p">,</span> <span class="n">texts</span><span class="o">=</span><span class="n">texts</span><span class="p">,</span> <span class="n">verticalalignment</span><span class="o">=</span><span class="s2">&quot;bottom&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">m_sig</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id44">
<a class="reference internal image-reference" href="../_images/plot_markers_nav.gif"><img alt="../_images/plot_markers_nav.gif" src="../_images/plot_markers_nav.gif" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Multi-dimensional markers.</span><a class="headerlink" href="#id44" title="Link to this image">#</a></p>
</figcaption>
</figure>
<section id="permanent-markers">
<h3>Permanent markers<a class="headerlink" href="#permanent-markers" title="Link to this heading">#</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.2: </span>Permanent markers.</p>
</div>
<p>These markers can also be permanently added to a signal, which is saved in
<code class="docutils literal notranslate"><span class="pre">metadata.Markers</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">marker</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">Points</span><span class="p">(</span><span class="n">offsets</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">]],</span> <span class="n">sizes</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s2">&quot;xy&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">marker</span><span class="p">,</span> <span class="n">permanent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Markers</span>
<span class="go">└── Points = &lt;Points (Points), length: 1&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-center" id="id45">
<a class="reference internal image-reference" href="../_images/permanent_marker_one.png"><img alt="../_images/permanent_marker_one.png" src="../_images/permanent_marker_one.png" style="width: 400px;" />
</a>
<figcaption>
<p><span class="caption-text">Plotting with permanent markers.</span><a class="headerlink" href="#id45" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Markers can be removed by deleting them from the metadata</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">marker</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">Points</span><span class="p">(</span><span class="n">offsets</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">]],</span> <span class="n">sizes</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">marker</span><span class="p">,</span> <span class="n">permanent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Markers</span>
<span class="go">└── Points = &lt;Points (Points), length: 1&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Markers</span><span class="o">.</span><span class="n">Points</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Markers</span> <span class="c1"># Returns nothing</span>
</pre></div>
</div>
<p>To suppress plotting of permanent markers, use <cite>plot_markers=False</cite> when
calling <cite>s.plot</cite>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">marker</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">Points</span><span class="p">(</span><span class="n">offsets</span><span class="o">=</span><span class="p">[[</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">]],</span> <span class="n">sizes</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s2">&quot;xy&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">marker</span><span class="p">,</span> <span class="n">permanent</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">plot_marker</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">plot_markers</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>If the signal has a navigation dimension, the markers can be made to change
as a function of the navigation index by passing in kwargs with <code class="docutils literal notranslate"><span class="pre">dtype=object</span></code>.
For a signal with 1 navigation axis:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">300</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">offsets</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">navigation_shape</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">marker_pos</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">m</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ndindex</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">marker_pos</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">offsets</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">marker</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">Points</span><span class="p">(</span><span class="n">offsets</span><span class="o">=</span><span class="n">offsets</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">sizes</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">marker</span><span class="p">,</span> <span class="n">permanent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/plot_markers_nav_index.gif"><img alt="../_images/plot_markers_nav_index.gif" src="../_images/plot_markers_nav_index.gif" style="width: 100%;" />
</a>
</figure>
<p>Plotting with markers that change with the navigation index.</p>
<p>Or for a signal with 2 navigation axes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">400</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">marker_pos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[[</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]],[[</span><span class="mi">2</span><span class="p">,</span><span class="mi">9</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">]]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">offsets</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">navigation_shape</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">ndindex</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">navigation_shape</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">offsets</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">marker_pos</span><span class="p">[</span><span class="n">i</span><span class="p">],]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">marker</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">Points</span><span class="p">(</span><span class="n">offsets</span><span class="o">=</span><span class="n">offsets</span><span class="p">,</span> <span class="n">sizes</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">marker</span><span class="p">,</span> <span class="n">permanent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id46">
<a class="reference internal image-reference" href="../_images/plot_markers_2dnav_index.gif"><img alt="../_images/plot_markers_2dnav_index.gif" src="../_images/plot_markers_2dnav_index.gif" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Plotting with markers that change with the two-dimensional navigation index.</span><a class="headerlink" href="#id46" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>This can be extended to 4 (or more) navigation dimensions:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1600</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">offsets</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">navigation_shape</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">ndindex</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">navigation_shape</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">offsets</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]],]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">marker</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">Points</span><span class="p">(</span><span class="n">offsets</span><span class="o">=</span><span class="n">offsets</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">sizes</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">marker</span><span class="p">,</span> <span class="n">permanent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
</pre></div>
</div>
<p>You can add a couple of different types of markers at the same time.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">hyperspy.api</span> <span class="k">as</span> <span class="nn">hs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">300</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">markers</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v_line_pos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">point_offsets</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text_offsets</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h_line_pos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random_colors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span><span class="o">=</span><span class="mi">200</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">v_line_pos</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span>
<span class="gp">... </span>    <span class="n">h_line_pos</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span>
<span class="gp">... </span>    <span class="n">point_offsets</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">num</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span>
<span class="gp">... </span>    <span class="n">text_offsets</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">num</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span>
<span class="gp">... </span>    <span class="n">random_colors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">num</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v_marker</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">VerticalLines</span><span class="p">(</span><span class="n">offsets</span><span class="o">=</span><span class="n">v_line_pos</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">random_colors</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h_marker</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">HorizontalLines</span><span class="p">(</span><span class="n">offsets</span><span class="o">=</span><span class="n">h_line_pos</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">random_colors</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p_marker</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">Points</span><span class="p">(</span><span class="n">offsets</span><span class="o">=</span><span class="n">point_offsets</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">random_colors</span><span class="p">,</span> <span class="n">sizes</span><span class="o">=</span><span class="p">(</span><span class="mf">.1</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t_marker</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">Texts</span><span class="p">(</span><span class="n">offsets</span><span class="o">=</span><span class="n">text_offsets</span><span class="p">,</span> <span class="n">texts</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;sometext&quot;</span><span class="p">,</span> <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">([</span><span class="n">v_marker</span><span class="p">,</span><span class="n">h_marker</span><span class="p">,</span> <span class="n">p_marker</span><span class="p">,</span> <span class="n">t_marker</span><span class="p">],</span> <span class="n">permanent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id47">
<a class="reference internal image-reference" href="../_images/plot_markers_2dnav_random_iter_many_types.gif"><img alt="../_images/plot_markers_2dnav_random_iter_many_types.gif" src="../_images/plot_markers_2dnav_random_iter_many_types.gif" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Plotting many types of markers with an iterable so they change with the
navigation index.</span><a class="headerlink" href="#id47" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>Permanent markers are stored in the HDF5 file if the signal is saved:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">marker</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">Points</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">marker</span><span class="p">,</span> <span class="n">plot_marker</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">permanent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Markers</span>
<span class="go">└── Points = &lt;Points (Points), length: 1&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;storing_marker.hspy&quot;</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;storing_marker.hspy&quot;</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Markers</span> 
<span class="go">└── Points = &lt;Points (Points), length: 1&gt;</span>
</pre></div>
</div>
</section>
<section id="supported-markers">
<h3>Supported markers<a class="headerlink" href="#supported-markers" title="Link to this heading">#</a></h3>
<p>The markers currently supported in HyperSpy are:</p>
<div class="pst-scrollable-table-container"><table class="table" id="id48">
<caption><span class="caption-text">List of supported markers, their signature and their corresponding matplotlib objects.</span><a class="headerlink" href="#id48" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 20.0%" />
<col style="width: 40.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>HyperSpy Markers</p></th>
<th class="head"><p>Signature</p></th>
<th class="head"><p>Matplotlib Collection</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="../reference/api.plot/markers.html#hyperspy.api.plot.markers.Arrows" title="hyperspy.drawing._markers.arrows.Arrows"><code class="xref py py-class docutils literal notranslate"><span class="pre">Arrows</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">offsets</span></code>, <code class="docutils literal notranslate"><span class="pre">U</span></code>, <code class="docutils literal notranslate"><span class="pre">V</span></code>, <code class="docutils literal notranslate"><span class="pre">C</span></code>, <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code></p></td>
<td><p><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.quiver.Quiver.html#matplotlib.quiver.Quiver" title="(in Matplotlib v3.9.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.quiver.Quiver</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../reference/api.plot/markers.html#hyperspy.api.plot.markers.Circles" title="hyperspy.drawing._markers.circles.Circles"><code class="xref py py-class docutils literal notranslate"><span class="pre">Circles</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">offsets</span></code>, <code class="docutils literal notranslate"><span class="pre">sizes</span></code>, <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code></p></td>
<td><p><a class="reference external" href="https://matplotlib.org/stable/api/collections_api.html#matplotlib.collections.CircleCollection" title="(in Matplotlib v3.9.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.collections.CircleCollection</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../reference/api.plot/markers.html#hyperspy.api.plot.markers.Ellipses" title="hyperspy.drawing._markers.ellipses.Ellipses"><code class="xref py py-class docutils literal notranslate"><span class="pre">Ellipses</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">offsets</span></code>, <code class="docutils literal notranslate"><span class="pre">widths</span></code>, <code class="docutils literal notranslate"><span class="pre">heights</span></code>, <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code></p></td>
<td><p><a class="reference external" href="https://matplotlib.org/stable/api/collections_api.html#matplotlib.collections.EllipseCollection" title="(in Matplotlib v3.9.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.collections.EllipseCollection</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../reference/api.plot/markers.html#hyperspy.api.plot.markers.HorizontalLines" title="hyperspy.drawing._markers.horizontal_lines.HorizontalLines"><code class="xref py py-class docutils literal notranslate"><span class="pre">HorizontalLines</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">offsets</span></code>, <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code></p></td>
<td><p><a class="reference external" href="https://matplotlib.org/stable/api/collections_api.html#matplotlib.collections.LineCollection" title="(in Matplotlib v3.9.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.collections.LineCollection</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../reference/api.plot/markers.html#hyperspy.api.plot.markers.Lines" title="hyperspy.drawing._markers.lines.Lines"><code class="xref py py-class docutils literal notranslate"><span class="pre">Lines</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">segments</span></code>, <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code></p></td>
<td><p><a class="reference external" href="https://matplotlib.org/stable/api/collections_api.html#matplotlib.collections.LineCollection" title="(in Matplotlib v3.9.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.collections.LineCollection</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../reference/api.plot/markers.html#hyperspy.api.plot.markers.Markers" title="hyperspy.drawing.markers.Markers"><code class="xref py py-class docutils literal notranslate"><span class="pre">Markers</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">offsets</span></code>, <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../reference/api.plot/markers.html#hyperspy.api.plot.markers.Points" title="hyperspy.drawing._markers.points.Points"><code class="xref py py-class docutils literal notranslate"><span class="pre">Points</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">offsets</span></code>, <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code></p></td>
<td><p><a class="reference external" href="https://matplotlib.org/stable/api/collections_api.html#matplotlib.collections.CircleCollection" title="(in Matplotlib v3.9.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.collections.CircleCollection</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../reference/api.plot/markers.html#hyperspy.api.plot.markers.Polygons" title="hyperspy.drawing._markers.polygons.Polygons"><code class="xref py py-class docutils literal notranslate"><span class="pre">Polygons</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">verts</span></code>, <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code></p></td>
<td><p><a class="reference external" href="https://matplotlib.org/stable/api/collections_api.html#matplotlib.collections.PolyCollection" title="(in Matplotlib v3.9.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.collections.PolyCollection</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../reference/api.plot/markers.html#hyperspy.api.plot.markers.Rectangles" title="hyperspy.drawing._markers.rectangles.Rectangles"><code class="xref py py-class docutils literal notranslate"><span class="pre">Rectangles</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">offsets</span></code>, <code class="docutils literal notranslate"><span class="pre">widths</span></code>, <code class="docutils literal notranslate"><span class="pre">heights</span></code>, <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code></p></td>
<td><p>Custom <code class="docutils literal notranslate"><span class="pre">RectangleCollection</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../reference/api.plot/markers.html#hyperspy.api.plot.markers.Squares" title="hyperspy.drawing._markers.squares.Squares"><code class="xref py py-class docutils literal notranslate"><span class="pre">Squares</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">offsets</span></code>, <code class="docutils literal notranslate"><span class="pre">widths</span></code>, <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code></p></td>
<td><p>Custom <code class="docutils literal notranslate"><span class="pre">SquareCollection</span></code></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../reference/api.plot/markers.html#hyperspy.api.plot.markers.Texts" title="hyperspy.drawing._markers.texts.Texts"><code class="xref py py-class docutils literal notranslate"><span class="pre">Texts</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">offsets</span></code>, <code class="docutils literal notranslate"><span class="pre">texts</span></code>, <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code></p></td>
<td><p>Custom <code class="docutils literal notranslate"><span class="pre">TextCollection</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../reference/api.plot/markers.html#hyperspy.api.plot.markers.VerticalLines" title="hyperspy.drawing._markers.vertical_lines.VerticalLines"><code class="xref py py-class docutils literal notranslate"><span class="pre">VerticalLines</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">offsets</span></code>, <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code></p></td>
<td><p><a class="reference external" href="https://matplotlib.org/stable/api/collections_api.html#matplotlib.collections.LineCollection" title="(in Matplotlib v3.9.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.collections.LineCollection</span></code></a></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="marker-properties">
<h3>Marker properties<a class="headerlink" href="#marker-properties" title="Link to this heading">#</a></h3>
<p>The optional parameters (<code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>, keyword arguments) can be used for extra parameters used for
each matplotlib collection.  Any parameter which can be set using the <a class="reference external" href="https://matplotlib.org/stable/api/collections_api.html#matplotlib.collections.Collection.set" title="(in Matplotlib v3.9.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.collections.Collection.set()</span></code></a>
method can be used as an iterating parameter with respect to the navigation index by passing in a numpy array
with <code class="docutils literal notranslate"><span class="pre">dtype=object</span></code>. Otherwise to set the parameter globally the kwarg can directly be passed.</p>
<p>Additionally, if some <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> are shorter in length to some other parameter it will be cycled such that</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prop</span><span class="p">[</span><span class="n">i</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">prop</span><span class="p">)]</span> 
</pre></div>
</div>
<p>where i is the ith element of the collection.</p>
</section>
<section id="relative-markers">
<h3>Relative Markers<a class="headerlink" href="#relative-markers" title="Link to this heading">#</a></h3>
<p>Many times when annotating 1-D Plots, you want to add markers which are relative to the data.  For example,
you may want to add a line which goes from [0, y], where y is the value at x.  To do this, you can set the
<code class="docutils literal notranslate"><span class="pre">offset_transform</span></code> and/or <code class="docutils literal notranslate"><span class="pre">transform</span></code> to <code class="docutils literal notranslate"><span class="pre">&quot;relative&quot;</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">matplotlib.collections</span> <span class="kn">import</span> <span class="n">LineCollection</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">Lines</span><span class="p">(</span><span class="n">segments</span><span class="o">=</span><span class="p">[[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]]],</span> <span class="n">transform</span><span class="o">=</span><span class="s2">&quot;relative&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</pre></div>
</div>
<p>This marker will create a line at a value=2, which extends from 0 –&gt; 1 and updates as the index changes.</p>
</section>
<section id="path-markers">
<h3>Path Markers<a class="headerlink" href="#path-markers" title="Link to this heading">#</a></h3>
<p>Adding new types of markers to hyperspy is relatively simple. Currently, hyperspy supports any
<a class="reference external" href="https://matplotlib.org/stable/api/collections_api.html#matplotlib.collections.Collection" title="(in Matplotlib v3.9.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.collections.Collection</span></code></a> object. For most common cases this should be sufficient,
as matplotlib has a large number of built-in collections beyond what is available directly in hyperspy.</p>
<p>In the event that you want a specific shape that is not supported, you can define a custom
<a class="reference external" href="https://matplotlib.org/stable/api/path_api.html#matplotlib.path.Path" title="(in Matplotlib v3.9.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.path.Path</span></code></a> object and then use the <a class="reference external" href="https://matplotlib.org/stable/api/collections_api.html#matplotlib.collections.PathCollection" title="(in Matplotlib v3.9.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.collections.PathCollection</span></code></a>
to add the markers to the plot. Currently, there is no support for saving Path based markers but that can
be added if there are specific use cases.</p>
</section>
<section id="extra-information-about-markers">
<h3>Extra information about Markers<a class="headerlink" href="#extra-information-about-markers" title="Link to this heading">#</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.0: </span>Marker Collections for faster plotting of many markers</p>
</div>
<p>Hyperspy’s <cite>Markers</cite> class and its subclasses extends the capabilities of the
<a class="reference external" href="https://matplotlib.org/stable/api/collections_api.html#matplotlib.collections.Collection" title="(in Matplotlib v3.9.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.collections.Collection</span></code></a> class and subclasses.
Primarily it allows dynamic markers to be initialized by passing key word arguments with <code class="docutils literal notranslate"><span class="pre">dtype=object</span></code>. Those
attributes are then updated with the plot as you navigate through the plot.</p>
<p>In most cases the <code class="docutils literal notranslate"><span class="pre">offsets</span></code> kwarg is used to map some marker to multiple positions in the plot. For example we can
define a plot of Ellipses using:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">hyperspy.api</span> <span class="k">as</span> <span class="nn">hs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">Ellipses</span><span class="p">(</span><span class="n">heights</span><span class="o">=</span><span class="p">(</span><span class="mf">.4</span><span class="p">,),</span> <span class="n">widths</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,),</span>
<span class="gp">... </span>                         <span class="n">angles</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,),</span> <span class="n">offsets</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]]))</span>
<span class="go">&lt;Ellipses, length: 2&gt;</span>
</pre></div>
</div>
<p>Alternatively, if we want to make ellipses with different heights and widths we can pass multiple values to
heights, widths and angles.  In general these properties will be applied such that <code class="docutils literal notranslate"><span class="pre">prop[i</span> <span class="pre">%</span> <span class="pre">len(prop)]</span></code> so
passing <code class="docutils literal notranslate"><span class="pre">heights=(.1,.2,.3)</span></code> will result in the ellipse at <code class="docutils literal notranslate"><span class="pre">offsets[0]</span></code> with a height of 0.1 the ellipse at
<code class="docutils literal notranslate"><span class="pre">offsets[1]</span></code> with a height of 0.1, ellipse at <code class="docutils literal notranslate"><span class="pre">offsets[2]</span></code> has a height of 0.3 and the ellipse at <code class="docutils literal notranslate"><span class="pre">offsets[3]</span></code> has
a height of 0.1 and so on.</p>
<p>For attributes which we want to by dynamic and change with the navigation coordinates, we can pass those values as
an array with <code class="docutils literal notranslate"><span class="pre">dtype=object</span></code>.  Each of those values will be set as the index changes, similarly to signal data,
the current <code class="docutils literal notranslate"><span class="pre">index</span></code> of the axis manager is used to retrieve the current array of
markers at that <code class="docutils literal notranslate"><span class="pre">index</span></code>.  Additionally, lazy markers are treated similarly where the current
chunk for a marker is cached.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only kwargs which can be passed to <a class="reference external" href="https://matplotlib.org/stable/api/collections_api.html#matplotlib.collections.Collection.set" title="(in Matplotlib v3.9.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.collections.Collection.set()</span></code></a> can be dynamic.</p>
</div>
<p><a class="reference internal" href="../reference/api.plot/markers.html#hyperspy.api.plot.markers.Markers" title="hyperspy.api.plot.markers.Markers"><code class="xref py py-class docutils literal notranslate"><span class="pre">Markers</span></code></a> operates in a similar way to signals when the data is
retrieved. The current <code class="docutils literal notranslate"><span class="pre">index</span></code> for the signal is used to retrieve the current array of
markers at that <code class="docutils literal notranslate"><span class="pre">index</span></code>.  Additionally, lazy markers are treated similarly where the current
chunk for a marker is cached.</p>
<p>If we want to plot a series of points, we can use the following code, in this case
both the <code class="docutils literal notranslate"><span class="pre">sizes</span></code> and <code class="docutils literal notranslate"><span class="pre">offsets</span></code> kwargs are dynamic and change with each index.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">hyperspy.api</span> <span class="k">as</span> <span class="nn">hs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sizes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">ind</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ndindex</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))):</span>
<span class="gp">... </span>    <span class="n">data</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">3</span> <span class="c1"># dynamic positions</span>
<span class="gp">... </span>    <span class="n">sizes</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span><span class="p">,]</span>  <span class="c1"># dynamic sizes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">Points</span><span class="p">(</span><span class="n">sizes</span><span class="o">=</span><span class="n">sizes</span><span class="p">,</span> <span class="n">offsets</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s2">&quot;xy&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="../reference/api.plot/markers.html#hyperspy.api.plot.markers.Markers" title="hyperspy.api.plot.markers.Markers"><code class="xref py py-class docutils literal notranslate"><span class="pre">Markers</span></code></a> also has a class method <a class="reference internal" href="../reference/api.plot/markers.html#hyperspy.api.plot.markers.Markers.from_signal" title="hyperspy.api.plot.markers.Markers.from_signal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_signal()</span></code></a> which can
be used to create a set of markers from the output of some map function.  In this case <code class="docutils literal notranslate"><span class="pre">signal.data</span></code> is mapped
to some <code class="docutils literal notranslate"><span class="pre">key</span></code> and used to initialize a <a class="reference internal" href="../reference/api.plot/markers.html#hyperspy.api.plot.markers.Markers" title="hyperspy.api.plot.markers.Markers"><code class="xref py py-class docutils literal notranslate"><span class="pre">Markers</span></code></a> object. If the signal has the attribute
<code class="docutils literal notranslate"><span class="pre">signal.metadata.Peaks.signal_axes</span></code> and convert_units = True then the values will be converted to the proper units
before creating the <a class="reference internal" href="../reference/api.plot/markers.html#hyperspy.api.plot.markers.Markers" title="hyperspy.api.plot.markers.Markers"><code class="xref py py-class docutils literal notranslate"><span class="pre">Markers</span></code></a> object.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For kwargs like size, height, etc. the scale and the units of the x axis are used to plot.</p>
</div>
<p>Let’s consider how plotting a bunch of different collections might look:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">hyperspy.api</span> <span class="k">as</span> <span class="nn">hs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">collections</span> <span class="o">=</span> <span class="p">[</span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">Points</span><span class="p">,</span>
<span class="gp">... </span>               <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">Ellipses</span><span class="p">,</span>
<span class="gp">... </span>               <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">Rectangles</span><span class="p">,</span>
<span class="gp">... </span>               <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">Arrows</span><span class="p">,</span>
<span class="gp">... </span>               <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">Circles</span><span class="p">,</span>
<span class="gp">... </span>              <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_col</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">collections</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">offsets</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">num_col</span><span class="p">)</span><span class="o">*</span><span class="n">i</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">num_col</span><span class="p">)],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">collections</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;sizes&quot;</span><span class="p">:(</span><span class="mf">.4</span><span class="p">,),</span><span class="s2">&quot;facecolor&quot;</span><span class="p">:</span><span class="s2">&quot;black&quot;</span><span class="p">},</span>
<span class="gp">... </span>          <span class="p">{</span><span class="s2">&quot;widths&quot;</span><span class="p">:(</span><span class="mf">.2</span><span class="p">,),</span> <span class="s2">&quot;heights&quot;</span><span class="p">:(</span><span class="mf">.7</span><span class="p">,),</span> <span class="s2">&quot;angles&quot;</span><span class="p">:(</span><span class="mi">60</span><span class="p">,),</span> <span class="s2">&quot;facecolor&quot;</span><span class="p">:</span><span class="s2">&quot;black&quot;</span><span class="p">},</span>
<span class="gp">... </span>          <span class="p">{</span><span class="s2">&quot;widths&quot;</span><span class="p">:(</span><span class="mf">.4</span><span class="p">,),</span> <span class="s2">&quot;heights&quot;</span><span class="p">:(</span><span class="mf">.5</span><span class="p">,),</span> <span class="s2">&quot;facecolor&quot;</span><span class="p">:</span><span class="s2">&quot;none&quot;</span><span class="p">,</span> <span class="s2">&quot;edgecolor&quot;</span><span class="p">:</span><span class="s2">&quot;black&quot;</span><span class="p">},</span>
<span class="gp">... </span>          <span class="p">{</span><span class="s2">&quot;U&quot;</span><span class="p">:(</span><span class="mf">.5</span><span class="p">,),</span> <span class="s2">&quot;V&quot;</span><span class="p">:(</span><span class="mf">.2</span><span class="p">),</span> <span class="s2">&quot;facecolor&quot;</span><span class="p">:</span><span class="s2">&quot;black&quot;</span><span class="p">},</span>
<span class="gp">... </span>          <span class="p">{</span><span class="s2">&quot;sizes&quot;</span><span class="p">:(</span><span class="mf">.4</span><span class="p">,),</span> <span class="s2">&quot;facecolor&quot;</span><span class="p">:</span><span class="s2">&quot;black&quot;</span><span class="p">},]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">offsets</span><span class="p">,</span> <span class="n">collections</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">k</span><span class="p">[</span><span class="s2">&quot;offsets&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">o</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collections</span> <span class="o">=</span> <span class="p">[</span><span class="n">C</span><span class="p">(</span><span class="o">**</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">C</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">collections</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="n">num_col</span><span class="p">,</span> <span class="n">num_col</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">collections</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/plot_marker_collection.png"><img alt="../_images/plot_marker_collection.png" src="../_images/plot_marker_collection.png" style="width: 100%;" />
</a>
</figure>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="signal2d.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Signal2D Tools</p>
      </div>
    </a>
    <a class="right-next"
       href="mva/index.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Machine learning</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#multidimensional-spectral-data">Multidimensional spectral data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#multidimensional-image-data">Multidimensional image data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#customising-image-plot">Customising image plot</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#customizing-the-navigator">Customizing the “navigator”</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-mayavi-to-visualize-3d-data">Using Mayavi to visualize 3D data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plotting-multiple-signals">Plotting multiple signals</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plotting-several-images">Plotting several images</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plotting-several-spectra">Plotting several spectra</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#plotting-several-signals">Plotting several signals</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#markers">Markers</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#permanent-markers">Permanent markers</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#supported-markers">Supported markers</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#marker-properties">Marker properties</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#relative-markers">Relative Markers</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#path-markers">Path Markers</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#extra-information-about-markers">Extra information about Markers</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/user_guide/visualisation.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2011-2024, The HyperSpy development team.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.3.7.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>