<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Getting started &mdash; HyperSpy 1.7.2 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/hyperspy.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/toggleprompt.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="The Signal class" href="signal.html" />
    <link rel="prev" title="Installing HyperSpy" href="install.html" />
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25260850-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> HyperSpy
            <img src="../_static/hyperspy_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.7.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing HyperSpy</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#starting-python-in-windows">Starting Python in Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="#starting-python-in-linux-and-macos">Starting Python in Linux and MacOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#starting-hyperspy-in-the-notebook-or-terminal">Starting HyperSpy in the notebook (or terminal)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#possible-warnings-when-importing-hyperspy">Possible warnings when importing HyperSpy?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#getting-help">Getting help</a></li>
<li class="toctree-l2"><a class="reference internal" href="#autocompletion">Autocompletion</a></li>
<li class="toctree-l2"><a class="reference internal" href="#loading-data">Loading data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#loading-data-from-a-numpy-array">“Loading” data from a numpy array</a></li>
<li class="toctree-l2"><a class="reference internal" href="#loading-example-data-and-data-from-online-databases">Loading example data and data from online databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-navigation-and-signal-dimensions">The navigation and signal dimensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#saving-files">Saving Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#accessing-and-setting-the-metadata">Accessing and setting the metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuring-hyperspy">Configuring HyperSpy</a></li>
<li class="toctree-l2"><a class="reference internal" href="#messages-log">Messages log</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="signal.html">The Signal class</a></li>
<li class="toctree-l1"><a class="reference internal" href="axes.html">Axes handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive_operations_ROIs.html">Interactive Operations and Region of Interest (ROI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="signal1d.html">Signal1D Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="signal2d.html">Signal2D Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualisation.html">Data visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="mva.html">Machine learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">Model fitting</a></li>
<li class="toctree-l1"><a class="reference internal" href="eels.html">Electron Energy Loss Spectroscopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="eds.html">Energy-Dispersive X-ray Spectrometry (EDS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="dielectric_function.html">Dielectric function tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="electron_holography.html">Electron Holography</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">Loading and saving data</a></li>
<li class="toctree-l1"><a class="reference internal" href="events.html">Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="big_data.html">Working with big data</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata_structure.html">Metadata structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/git.html">Using Git and GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/testing.html">Running and writing tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/writing_docs.html">Writing documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/coding_style.html">Coding style</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/lazy_computations.html">Tips for writing methods that work on lazy signals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/speeding_up_code.html">Speeding up code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/writing_extensions.html">Writing packages that extend HyperSpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/useful_information.html">Useful information</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/modules.html">hyperspy</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Credits and citation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing HyperSpy</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HyperSpy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Getting started</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/user_guide/getting_started.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="getting-started">
<h1>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this heading"></a></h1>
<section id="starting-python-in-windows">
<span id="importing-hyperspy-label"></span><h2>Starting Python in Windows<a class="headerlink" href="#starting-python-in-windows" title="Permalink to this heading"></a></h2>
<p>If you used the bundle installation you should be able to use the context menus
to get started. Right-click on the folder containing the data you wish to
analyse and select “Jupyter notebook here” or “Jupyter qtconsole here”. We
recommend the former, since notebooks have many advantages over conventional
consoles, as will be illustrated in later sections. The examples in some later
sections assume Notebook operation. A new tab should appear in your default
browser listing the files in the selected folder. To start a python notebook
choose “Python 3” in the “New” drop-down menu at the top right of the page.
Another new tab will open which is your Notebook.</p>
</section>
<section id="starting-python-in-linux-and-macos">
<h2>Starting Python in Linux and MacOS<a class="headerlink" href="#starting-python-in-linux-and-macos" title="Permalink to this heading"></a></h2>
<p>You can start IPython by opening a system terminal and executing <code class="docutils literal notranslate"><span class="pre">ipython</span></code>,
(optionally followed by the “frontend”: “qtconsole” for example). However, in
most cases, <strong>the most agreeable way</strong> to work with HyperSpy interactively
is using the <a class="reference external" href="https://jupyter.org">Jupyter Notebook</a> (previously known as
the IPython Notebook), which can be started as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ jupyter notebook
</pre></div>
</div>
<p>Linux users may find it more convenient to start Jupyter/IPython from the
<a class="reference external" href="https://github.com/hyperspy/start_jupyter_cm">file manager context menu</a>.
In either OS you can also start by <a class="reference external" href="https://github.com/takluyver/nbopen">double-clicking a notebook file</a> if one already exists.</p>
</section>
<section id="starting-hyperspy-in-the-notebook-or-terminal">
<h2>Starting HyperSpy in the notebook (or terminal)<a class="headerlink" href="#starting-hyperspy-in-the-notebook-or-terminal" title="Permalink to this heading"></a></h2>
<p>Typically you will need to <a class="reference external" href="https://ipython.readthedocs.org/en/stable/interactive/plotting.html">set up IPython for interactive plotting with
matplotlib</a> using
<code class="docutils literal notranslate"><span class="pre">%matplotlib</span></code> (which is known as a ‘Jupyter magic’)
<em>before executing any plotting command</em>. So, typically, after starting
IPython, you can import HyperSpy and set up interactive matplotlib plotting by
executing the following two lines in the IPython terminal (In these docs we
normally use the general Python prompt symbol <code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;</span></code> but you will probably
see <code class="docutils literal notranslate"><span class="pre">In</span> <span class="pre">[1]:</span></code> etc.):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="o">%</span><span class="n">matplotlib</span> <span class="n">qt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">hyperspy.api</span> <span class="k">as</span> <span class="nn">hs</span>
</pre></div>
</div>
<p>Note that to execute lines of code in the notebook you must press
<code class="docutils literal notranslate"><span class="pre">Shift+Return</span></code>. (For details about notebooks and their functionality try
the help menu in the notebook). Next, import two useful modules: numpy and
matplotlib.pyplot, as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
<p>The rest of the documentation will assume you have done this. It also assumes
that you have installed at least one of HyperSpy’s GUI packages:
<a class="reference external" href="https://github.com/hyperspy/hyperspy_gui_ipywidgets">jupyter widgets GUI</a>
and the
<a class="reference external" href="https://github.com/hyperspy/hyperspy_gui_traitsui">traitsui GUI</a>.</p>
<section id="possible-warnings-when-importing-hyperspy">
<h3>Possible warnings when importing HyperSpy?<a class="headerlink" href="#possible-warnings-when-importing-hyperspy" title="Permalink to this heading"></a></h3>
<p>HyperSpy supports different GUIs and
<a class="reference external" href="https://matplotlib.org/stable/users/explain/backends.html">matplotlib backends</a>
which in specific cases can lead to warnings when importing HyperSpy. Most of the time
there is nothing to worry about — the warnings simply inform you of several choices you have.
There may be several causes for a warning, for example:</p>
<ul>
<li><p>not all the GUIs packages are installed. If none is installed, we reccomend you to install
at least the <code class="docutils literal notranslate"><span class="pre">hyperspy-gui-ipywidgets</span></code> package is your are planning to perform interactive
data analysis in the Jupyter Notebook. Otherwise, you can simply disable the warning in
<a class="reference internal" href="#configuring-hyperspy-label"><span class="std std-ref">preferences</span></a> as explained below.</p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">hyperspy-gui-traitsui</span></code> package is installed and you are using an incompatible matplotlib
backend (e.g. <code class="docutils literal notranslate"><span class="pre">notebook</span></code>, <code class="docutils literal notranslate"><span class="pre">nbagg</span></code> or <code class="docutils literal notranslate"><span class="pre">widget</span></code>).</p>
<blockquote>
<div><ul class="simple">
<li><p>If you want to use the traitsui GUI, use the <code class="docutils literal notranslate"><span class="pre">qt</span></code> matplotlib backend instead.</p></li>
<li><p>Alternatively, if you prefer to use the <code class="docutils literal notranslate"><span class="pre">notebook</span></code> or <code class="docutils literal notranslate"><span class="pre">widget</span></code> matplotlib backend,
and if you don’t want to see the (harmless) warning, make sure that you have the
<code class="docutils literal notranslate"><span class="pre">hyperspy-gui-ipywidgets</span></code> installed and disable the traitsui
GUI in the <a class="reference internal" href="#configuring-hyperspy-label"><span class="std std-ref">preferences</span></a>.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>By default, HyperSpy warns the user if one of the GUI packages is not installed.
These warnings can be turned off using the
<a class="reference internal" href="#configuring-hyperspy-label"><span class="std std-ref">preferences</span></a> GUI or programmatically as follows:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">hyperspy.api</span> <span class="k">as</span> <span class="nn">hs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">preferences</span><span class="o">.</span><span class="n">GUIs</span><span class="o">.</span><span class="n">warn_if_guis_are_missing</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">preferences</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version v1.3: </span>HyperSpy works with all matplotlib backends, including the <code class="docutils literal notranslate"><span class="pre">notebook</span></code>
(also called <code class="docutils literal notranslate"><span class="pre">nbAgg</span></code>) backend that enables interactive plotting embedded
in the jupyter notebook.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When running in a  headless system it is necessary to set the matplotlib
backend appropiately to avoid a <cite>cannot connect to X server</cite> error, for
example as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matplotlib</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;backend&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Agg&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">hyperspy.api</span> <span class="k">as</span> <span class="nn">hs</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="getting-help">
<h2>Getting help<a class="headerlink" href="#getting-help" title="Permalink to this heading"></a></h2>
<p>When using IPython, the documentation (docstring in Python jargon) can be
accessed by adding a question mark to the name of a function. e.g.:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; hs?
&gt;&gt;&gt; hs.load?
&gt;&gt;&gt; hs.signals?
</pre></div>
</div>
<p>This syntax is a shortcut to the standard way one of displaying the help
associated to a given functions (docstring in Python jargon) and it is one of
the many features of <a class="reference external" href="https://ipython.readthedocs.io/">IPython</a>, which is the
interactive python shell that HyperSpy uses under the hood.</p>
<p>Please note that the documentation of the code is a work in progress, so not
all the objects are documented yet.</p>
<p>Up-to-date documentation is always available in <a class="reference external" href="https://hyperspy.org/documentation.html">the HyperSpy website.</a></p>
</section>
<section id="autocompletion">
<h2>Autocompletion<a class="headerlink" href="#autocompletion" title="Permalink to this heading"></a></h2>
<p>Another useful IPython feature is the
<a class="reference external" href="https://ipython.readthedocs.io/en/stable/interactive/tutorial.html#tab-completion">autocompletion</a>
of commands and filenames using the tab and arrow keys. It is highly recommended
to read the <a class="reference external" href="https://ipython.readthedocs.io/en/stable/interactive/tutorial.html">Ipython introduction</a> for many more useful features that will
boost your efficiency when working with HyperSpy/Python interactively.</p>
</section>
<section id="loading-data">
<h2>Loading data<a class="headerlink" href="#loading-data" title="Permalink to this heading"></a></h2>
<p>Once HyperSpy is running, to load from a supported file format (see
<a class="reference internal" href="io.html#supported-formats"><span class="std std-ref">Supported formats</span></a>) simply type:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;filename.ext&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The used IO-plugin will be inferred from the file extension. If you want to force
the use of a specific IO-plugin, you can provide the <code class="docutils literal notranslate"><span class="pre">reader</span></code> attribute:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;spam.ham&quot;</span><span class="p">,</span> <span class="n">reader</span><span class="o">=</span><span class="s2">&quot;hspy&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When the file contains several datasets, the <a class="reference internal" href="../api/hyperspy.io.html#hyperspy.io.load" title="hyperspy.io.load"><code class="xref py py-func docutils literal notranslate"><span class="pre">load()</span></code></a> function
will return a list of HyperSpy signals, instead of a single HyperSpy signal.
Each signal can then be accessed using list indexation.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;spameggsandham.hspy&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">[&lt;Signal1D, title: spam, dimensions: (32,32|1024)&gt;,</span>
<span class="go"> &lt;Signal1D, title: eggs, dimensions: (32,32|1024)&gt;,</span>
<span class="go"> &lt;Signal1D, title: ham, dimensions: (32,32|1024)&gt;]</span>
</pre></div>
</div>
<p>Using indexation to access the first signal (index 0):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&lt;Signal1D, title: spam, dimensions: (32,32|1024)&gt;</span>
</pre></div>
</div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>The load function returns an object that contains data read from the file.
We assign this object to the variable <code class="docutils literal notranslate"><span class="pre">s</span></code> but you can choose any (valid)
variable name you like. for the filename, don't forget to include the
quotation marks and the file extension.</p>
</div>
<p>If no argument is passed to the load function, a window will be raised that
allows to select a single file through your OS file manager, e.g.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># This raises the load user interface</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
</pre></div>
</div>
<p>It is also possible to load multiple files at once or even stack multiple
files. For more details read <a class="reference internal" href="io.html#loading-files"><span class="std std-ref">Loading files: the load function</span></a>.</p>
</section>
<section id="loading-data-from-a-numpy-array">
<h2>“Loading” data from a numpy array<a class="headerlink" href="#loading-data-from-a-numpy-array" title="Permalink to this heading"></a></h2>
<p>HyperSpy can operate on any numpy array by assigning it to a BaseSignal class.
This is useful e.g. for loading data stored in a format that is not yet
supported by HyperSpy—supposing that they can be read with another Python
library—or to explore numpy arrays generated by other Python
libraries. Simply select the most appropriate signal from the
<a class="reference internal" href="../api/hyperspy.signals.html#module-hyperspy.signals" title="hyperspy.signals"><code class="xref py py-mod docutils literal notranslate"><span class="pre">signals</span></code></a> module and create a new instance by passing a numpy array
to the constructor e.g.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">my_np_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">my_np_array</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">&lt;Signal1D, title: , dimensions: (20, 10|100)&gt;</span>
</pre></div>
</div>
<p>The numpy array is stored in the <a class="reference internal" href="../api/hyperspy.signal.html#hyperspy.signal.BaseSignal.data" title="hyperspy.signal.BaseSignal.data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">data</span></code></a> attribute
of the signal class.</p>
</section>
<section id="loading-example-data-and-data-from-online-databases">
<span id="example-data-label"></span><h2>Loading example data and data from online databases<a class="headerlink" href="#loading-example-data-and-data-from-online-databases" title="Permalink to this heading"></a></h2>
<p>HyperSpy is distributed with some example data that can be found in
<cite>hs.datasets.example_signals</cite>. The following example plots one of the example
signals:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4: </span><a class="reference internal" href="../api/hyperspy.datasets.artificial_data.html#module-hyperspy.datasets.artificial_data" title="hyperspy.datasets.artificial_data"><code class="xref py py-mod docutils literal notranslate"><span class="pre">artificial_data</span></code></a></p>
</div>
<p>There are also artificial datasets, which are made to resemble real
experimental data.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">artificial_data</span><span class="o">.</span><span class="n">get_core_loss_eels_signal</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<p id="eelsdb-label">The <a class="reference internal" href="../api/hyperspy.misc.eels.eelsdb.html#hyperspy.misc.eels.eelsdb.eelsdb" title="hyperspy.misc.eels.eelsdb.eelsdb"><code class="xref py py-func docutils literal notranslate"><span class="pre">eelsdb()</span></code></a> function in <cite>hs.datasets</cite> can
directly load spectra from <a class="reference external" href="https://eelsdb.eu">The EELS Database</a>. For
example, the following loads all the boron trioxide spectra currently
available in the database:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">eelsdb</span><span class="p">(</span><span class="n">formula</span><span class="o">=</span><span class="s2">&quot;B2O3&quot;</span><span class="p">)</span>
<span class="go">[&lt;EELSSpectrum, title: Boron oxide, dimensions: (|520)&gt;,</span>
<span class="go"> &lt;EELSSpectrum, title: Boron oxide, dimensions: (|520)&gt;]</span>
</pre></div>
</div>
</section>
<section id="the-navigation-and-signal-dimensions">
<h2>The navigation and signal dimensions<a class="headerlink" href="#the-navigation-and-signal-dimensions" title="Permalink to this heading"></a></h2>
<p>In HyperSpy the data is interpreted as a signal array and, therefore, the data
axes are not equivalent. HyperSpy distinguishes between <em>signal</em> and
<em>navigation</em> axes and most functions operate on the <em>signal</em> axes and
iterate on the <em>navigation</em> axes. For example, an EELS spectrum image (i.e.
a 2D array of spectra) has three dimensions X, Y and energy-loss. In
HyperSpy, X and Y are the <em>navigation</em> dimensions and the energy-loss is the
<em>signal</em> dimension. To make this distinction more explicit the
representation of the object includes a separator <code class="docutils literal notranslate"><span class="pre">|</span></code> between the
navigation and signal dimensions e.g.</p>
<p>In HyperSpy a spectrum image has signal dimension 1 and navigation dimension 2
and is stored in the Signal1D subclass.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">&lt;Signal1D, title: , dimensions: (20, 10|30)&gt;</span>
</pre></div>
</div>
<p>An image stack has signal dimension 2 and navigation dimension 1 and is stored
in the Signal2D subclass.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">30</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span>
<span class="go">&lt;Signal2D, title: , dimensions: (30|20, 10)&gt;</span>
</pre></div>
</div>
<p>Note that HyperSpy rearranges the axes when compared to the array order. The
following few paragraphs explain how and why it does it.</p>
<p>Depending how the array is arranged, some axes are faster to iterate than
others. Consider an example of a book as the dataset in question. It is
trivially simple to look at letters in a line, and then lines down the page,
and finally pages in the whole book.  However if your words are written
vertically, it can be inconvenient to read top-down (the lines are still
horizontal, it’s just the meaning that’s vertical!). It’s very time-consuming
if every letter is on a different page, and for every word you have to turn 5-6
pages. Exactly the same idea applies here - in order to iterate through the
data (most often for plotting, but applies for any other operation too), you
want to keep it ordered for “fast access”.</p>
<p>In Python (more explicitly <cite>numpy</cite>) the “fast axes order” is C order (also
called row-major order). This means that the <strong>last</strong> axis of a numpy array is
fastest to iterate over (i.e. the lines in the book). An alternative ordering
convention is F order (column-major), where it is the reverse - the first axis
of an array is the fastest to iterate over. In both cases, the further an axis
is from the <cite>fast axis</cite> the slower it  is to iterate over it. In the book
analogy you could think, for example, think about reading the first lines of
all pages, then the second and so on.</p>
<p>When data is acquired sequentially it is usually stored in acquisition order.
When a dataset is loaded, HyperSpy generally stores it in memory in the same
order, which is good for the computer. However, HyperSpy will reorder and
classify the axes to make it easier for humans. Let’s imagine a single numpy
array that contains pictures of a scene acquired with different exposure times
on different days. In numpy the array dimensions are  <code class="docutils literal notranslate"><span class="pre">(D,</span> <span class="pre">E,</span> <span class="pre">Y,</span> <span class="pre">X)</span></code>. This
order makes it fast to iterate over the images in the order in which they were
acquired. From a human point of view, this dataset is just a collection of
images, so HyperSpy first classifies the image axes (<code class="docutils literal notranslate"><span class="pre">X</span></code> and <code class="docutils literal notranslate"><span class="pre">Y</span></code>) as
<cite>signal axes</cite> and the remaining axes the <cite>navigation axes</cite>. Then it reverses
the order of each sets of axes because many humans are used to get the <code class="docutils literal notranslate"><span class="pre">X</span></code>
axis first and, more generally the axes in acquisition order from left to
right. So, the same axes in HyperSpy are displayed like this: <code class="docutils literal notranslate"><span class="pre">(E,</span> <span class="pre">D</span> <span class="pre">|</span> <span class="pre">X,</span>
<span class="pre">Y)</span></code>.</p>
<p>Extending this to arbitrary dimensions, by default, we reverse the numpy axes,
chop it into two chunks (signal and navigation), and then swap those chunks, at
least when printing. As an example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>a1, a2, a3, a4, a5, a6<span class="o">)</span> <span class="c1"># original (numpy)</span>
<span class="o">(</span>a6, a5, a4, a3, a2, a1<span class="o">)</span> <span class="c1"># reverse</span>
<span class="o">(</span>a6, a5<span class="o">)</span> <span class="o">(</span>a4, a3, a2, a1<span class="o">)</span> <span class="c1"># chop</span>
<span class="o">(</span>a4, a3, a2, a1<span class="o">)</span> <span class="o">(</span>a6, a5<span class="o">)</span> <span class="c1"># swap (HyperSpy)</span>
</pre></div>
</div>
<p>In the background, HyperSpy also takes care of storing the data in memory in
a “machine-friendly” way, so that iterating over the navigation axes is always
fast.</p>
</section>
<section id="saving-files">
<span id="saving"></span><h2>Saving Files<a class="headerlink" href="#saving-files" title="Permalink to this heading"></a></h2>
<p>The data can be saved to several file formats.  The format is specified by
the extension of the filename.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># load the data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;example.tif&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># save the data as a tiff</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;example_processed.tif&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># save the data as a png</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;example_processed.png&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># save the data as an hspy file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;example_processed.hspy&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Some file formats are much better at maintaining the information about
how you processed your data.  The preferred format in HyperSpy is hspy,
which is based on the HDF5 format.  This format keeps the most information
possible.</p>
<p>There are optional flags that may be passed to the save function. See
<a class="reference internal" href="io.html#saving-files"><span class="std std-ref">Saving data to files</span></a> for more details.</p>
</section>
<section id="accessing-and-setting-the-metadata">
<h2>Accessing and setting the metadata<a class="headerlink" href="#accessing-and-setting-the-metadata" title="Permalink to this heading"></a></h2>
<p>When loading a file HyperSpy stores all metadata in the BaseSignal
<a class="reference internal" href="../api/hyperspy.signal.html#hyperspy.signal.BaseSignal.original_metadata" title="hyperspy.signal.BaseSignal.original_metadata"><code class="xref py py-attr docutils literal notranslate"><span class="pre">original_metadata</span></code></a> attribute. In addition,
some of those metadata and any new metadata generated by HyperSpy are stored in
<a class="reference internal" href="../api/hyperspy.signal.html#hyperspy.signal.BaseSignal.metadata" title="hyperspy.signal.BaseSignal.metadata"><code class="xref py py-attr docutils literal notranslate"><span class="pre">metadata</span></code></a> attribute.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;NbO2_Nb_M_David_Bach,_Wilfried_Sigle_217.msa&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span>
<span class="go">├── original_filename = NbO2_Nb_M_David_Bach,_Wilfried_Sigle_217.msa</span>
<span class="go">├── record_by = spectrum</span>
<span class="go">├── signal_type = EELS</span>
<span class="go">└── title = NbO2_Nb_M_David_Bach,_Wilfried_Sigle_217</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">original_metadata</span>
<span class="go">├── DATATYPE = XY</span>
<span class="go">├── DATE =</span>
<span class="go">├── FORMAT = EMSA/MAS Spectral Data File</span>
<span class="go">├── NCOLUMNS = 1.0</span>
<span class="go">├── NPOINTS = 1340.0</span>
<span class="go">├── OFFSET = 120.0003</span>
<span class="go">├── OWNER = eelsdatabase.net</span>
<span class="go">├── SIGNALTYPE = ELS</span>
<span class="go">├── TIME =</span>
<span class="go">├── TITLE = NbO2_Nb_M_David_Bach,_Wilfried_Sigle_217</span>
<span class="go">├── VERSION = 1.0</span>
<span class="go">├── XPERCHAN = 0.5</span>
<span class="go">├── XUNITS = eV</span>
<span class="go">└── YUNITS =</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">set_microscope_parameters</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span>
<span class="go">├── TEM</span>
<span class="go">│   ├── EELS</span>
<span class="go">│   │   └── collection_angle = 20</span>
<span class="go">│   ├── beam_energy = 100</span>
<span class="go">│   └── convergence_angle = 10</span>
<span class="go">├── original_filename = NbO2_Nb_M_David_Bach,_Wilfried_Sigle_217.msa</span>
<span class="go">├── record_by = spectrum</span>
<span class="go">├── signal_type = EELS</span>
<span class="go">└── title = NbO2_Nb_M_David_Bach,_Wilfried_Sigle_217</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">TEM</span><span class="o">.</span><span class="n">microscope</span> <span class="o">=</span> <span class="s2">&quot;STEM VG&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span>
<span class="go">├── TEM</span>
<span class="go">│   ├── EELS</span>
<span class="go">│   │   └── collection_angle = 20</span>
<span class="go">│   ├── beam_energy = 100</span>
<span class="go">│   ├── convergence_angle = 10</span>
<span class="go">│   └── microscope = STEM VG</span>
<span class="go">├── original_filename = NbO2_Nb_M_David_Bach,_Wilfried_Sigle_217.msa</span>
<span class="go">├── record_by = spectrum</span>
<span class="go">├── signal_type = EELS</span>
<span class="go">└── title = NbO2_Nb_M_David_Bach,_Wilfried_Sigle_217</span>
</pre></div>
</div>
</section>
<section id="configuring-hyperspy">
<span id="configuring-hyperspy-label"></span><h2>Configuring HyperSpy<a class="headerlink" href="#configuring-hyperspy" title="Permalink to this heading"></a></h2>
<p>The behaviour of HyperSpy can be customised using the
<a class="reference internal" href="../api/hyperspy.defaults_parser.html#hyperspy.defaults_parser.Preferences" title="hyperspy.defaults_parser.Preferences"><code class="xref py py-class docutils literal notranslate"><span class="pre">Preferences</span></code></a> class. The easiest way to do it is by
calling the <code class="xref py py-meth docutils literal notranslate"><span class="pre">gui()</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">preferences</span><span class="o">.</span><span class="n">gui</span><span class="p">()</span>
</pre></div>
</div>
<p>This command should raise the Preferences user interface if one of the
hyperspy gui packages are installed and enabled:</p>
<figure class="align-center" id="id2">
<span id="preferences-image"></span><img alt="../_images/preferences.png" src="../_images/preferences.png" />
<figcaption>
<p><span class="caption-text">Preferences user interface.</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.3: </span>Possibility to enable/disable GUIs in the preferences.</p>
</div>
<p>It is also possible to set the preferences programmatically. For example,
to disable the traitsui GUI elements and save the changes to disk:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">preferences</span><span class="o">.</span><span class="n">GUIs</span><span class="o">.</span><span class="n">enable_traitsui_gui</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">preferences</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># if not saved, this setting will be used until the next jupyter kernel shutdown</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.3: </span>The following items were removed from preferences:
<code class="docutils literal notranslate"><span class="pre">General.default_export_format</span></code>, <code class="docutils literal notranslate"><span class="pre">General.lazy</span></code>,
<code class="docutils literal notranslate"><span class="pre">Model.default_fitter</span></code>, <code class="docutils literal notranslate"><span class="pre">Machine_learning.multiple_files</span></code>,
<code class="docutils literal notranslate"><span class="pre">Machine_learning.same_window</span></code>, <code class="docutils literal notranslate"><span class="pre">Plot.default_style_to_compare_spectra</span></code>,
<code class="docutils literal notranslate"><span class="pre">Plot.plot_on_load</span></code>, <code class="docutils literal notranslate"><span class="pre">Plot.pylab_inline</span></code>, <code class="docutils literal notranslate"><span class="pre">EELS.fine_structure_width</span></code>,
<code class="docutils literal notranslate"><span class="pre">EELS.fine_structure_active</span></code>, <code class="docutils literal notranslate"><span class="pre">EELS.fine_structure_smoothing</span></code>,
<code class="docutils literal notranslate"><span class="pre">EELS.synchronize_cl_with_ll</span></code>, <code class="docutils literal notranslate"><span class="pre">EELS.preedge_safe_window_width</span></code>,
<code class="docutils literal notranslate"><span class="pre">EELS.min_distance_between_edges_for_fine_structure</span></code>.</p>
</div>
</section>
<section id="messages-log">
<span id="logger-label"></span><h2>Messages log<a class="headerlink" href="#messages-log" title="Permalink to this heading"></a></h2>
<p>HyperSpy writes messages to the <a class="reference external" href="https://docs.python.org/3/howto/logging.html#logging-basic-tutorial">Python logger</a>. The
default log level is “WARNING”, meaning that only warnings and more severe
event messages will be displayed. The default can be set in the
<a class="reference internal" href="#configuring-hyperspy-label"><span class="std std-ref">preferences</span></a>. Alternatively, it can be set
using <a class="reference internal" href="../api/hyperspy.logger.html#hyperspy.logger.set_log_level" title="hyperspy.logger.set_log_level"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_log_level()</span></code></a> e.g.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">hyperspy.api</span> <span class="k">as</span> <span class="nn">hs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">set_log_level</span><span class="p">(</span><span class="s1">&#39;INFO&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;my_file.dm3&#39;</span><span class="p">)</span>
<span class="go">INFO:hyperspy.io_plugins.digital_micrograph:DM version: 3</span>
<span class="go">INFO:hyperspy.io_plugins.digital_micrograph:size 4796607 B</span>
<span class="go">INFO:hyperspy.io_plugins.digital_micrograph:Is file Little endian? True</span>
<span class="go">INFO:hyperspy.io_plugins.digital_micrograph:Total tags in root group: 15</span>
<span class="go">&lt;Signal2D, title: My file, dimensions: (|1024, 1024)</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="install.html" class="btn btn-neutral float-left" title="Installing HyperSpy" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="signal.html" class="btn btn-neutral float-right" title="The Signal class" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2011-2022, The HyperSpy development team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>