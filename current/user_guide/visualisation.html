<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Data visualization &mdash; HyperSpy 1.7.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/hyperspy.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/toggleprompt.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Machine learning" href="mva.html" />
    <link rel="prev" title="Signal2D Tools" href="signal2d.html" />
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25260850-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> HyperSpy
            <img src="../_static/hyperspy_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.7.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing HyperSpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="signal.html">The Signal class</a></li>
<li class="toctree-l1"><a class="reference internal" href="axes.html">Axes handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive_operations_ROIs.html">Interactive Operations and Region of Interest (ROI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="signal1d.html">Signal1D Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="signal2d.html">Signal2D Tools</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data visualization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#multidimensional-spectral-data">Multidimensional spectral data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#multidimensional-image-data">Multidimensional image data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#customising-image-plot">Customising image plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="#customizing-the-navigator">Customizing the “navigator”</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-mayavi-to-visualize-3d-data">Using Mayavi to visualize 3D data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plotting-multiple-signals">Plotting multiple signals</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#plotting-several-images">Plotting several images</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plotting-several-spectra">Plotting several spectra</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plotting-profiles-interactively">Plotting profiles interactively</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#plotting-several-signals">Plotting several signals</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#markers">Markers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#permanent-markers">Permanent markers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#supported-markers">Supported markers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#marker-properties">Marker properties</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mva.html">Machine learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">Model fitting</a></li>
<li class="toctree-l1"><a class="reference internal" href="eels.html">Electron Energy Loss Spectroscopy</a></li>
<li class="toctree-l1"><a class="reference internal" href="eds.html">Energy-Dispersive X-ray Spectrometry (EDS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="dielectric_function.html">Dielectric function tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="electron_holography.html">Electron Holography</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">Loading and saving data</a></li>
<li class="toctree-l1"><a class="reference internal" href="events.html">Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="big_data.html">Working with big data</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata_structure.html">Metadata structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/git.html">Using Git and GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/testing.html">Running and writing tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/writing_docs.html">Writing documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/coding_style.html">Coding style</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/lazy_computations.html">Tips for writing methods that work on lazy signals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/speeding_up_code.html">Speeding up code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/writing_extensions.html">Writing packages that extend HyperSpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/useful_information.html">Useful information</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/modules.html">hyperspy</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Credits and citation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing HyperSpy</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HyperSpy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Data visualization</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/user_guide/visualisation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="data-visualization">
<span id="visualization-label"></span><h1>Data visualization<a class="headerlink" href="#data-visualization" title="Permalink to this headline"></a></h1>
<p>The object returned by <a class="reference internal" href="../api/hyperspy.io.html#hyperspy.io.load" title="hyperspy.io.load"><code class="xref py py-func docutils literal notranslate"><span class="pre">load()</span></code></a>, a <a class="reference internal" href="../api/hyperspy.signal.html#hyperspy.signal.BaseSignal" title="hyperspy.signal.BaseSignal"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseSignal</span></code></a>
instance, has a <a class="reference internal" href="../api/hyperspy.signal.html#hyperspy.signal.BaseSignal.plot" title="hyperspy.signal.BaseSignal.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plot()</span></code></a> method that is powerful and
flexible to visualize n-dimensional data. In this chapter, the
visualisation of multidimensional data is exemplified with two experimental
datasets: an EELS spectrum image and an EDX dataset consisting of a secondary
electron emission image stack and a 3D hyperspectral image, both simultaneously
acquired by recording two signals in parallel in a FIB/SEM.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;YourDataFilenameHere&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<p>if the object is single spectrum or an image one window will appear when
calling the plot method.</p>
<section id="multidimensional-spectral-data">
<span id="visualization-md"></span><h2>Multidimensional spectral data<a class="headerlink" href="#multidimensional-spectral-data" title="Permalink to this headline"></a></h2>
<p>If the object is a 1D or 2D spectrum-image (i.e. with 2 or 3 dimensions when
including energy) two figures will appear, one containing a plot of the
spectrum at the current coordinates and the other an image of the data summed
over its spectral dimension if 2D or an image with the spectral dimension in
the x-axis if 1D:</p>
<figure class="align-center" id="id6">
<span id="d-si"></span><a class="reference internal image-reference" href="../_images/2D_SI.png"><img alt="../_images/2D_SI.png" src="../_images/2D_SI.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Visualisation of a 2D spectrum image.</span><a class="headerlink" href="#id6" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id7">
<span id="id1"></span><a class="reference internal image-reference" href="../_images/1D_SI.png"><img alt="../_images/1D_SI.png" src="../_images/1D_SI.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Visualisation of a 1D spectrum image.</span><a class="headerlink" href="#id7" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4: </span>Customizable keyboard shortcuts to navigate multi-dimensional datasets.</p>
</div>
<p>To change the current coordinates, click on the pointer (which will be a line
or a square depending on the dimensions of the data) and drag it around. It is
also possible to move the pointer by using the numpad arrows <strong>when numlock is
on and the spectrum or navigator figure is selected</strong>. When using the numpad
arrows the PageUp and PageDown keys change the size of the step.</p>
<p>The current coordinates can be either set by navigating the
<a class="reference internal" href="../api/hyperspy.signal.html#hyperspy.signal.BaseSignal.plot" title="hyperspy.signal.BaseSignal.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plot()</span></code></a>, or specified by pixel indices
in <code class="docutils literal notranslate"><span class="pre">s.axes_manager.indices</span></code> or as calibrated coordinates in
<code class="docutils literal notranslate"><span class="pre">s.axes_manager.coordinates</span></code>.</p>
<p>An extra cursor can be added by pressing the <code class="docutils literal notranslate"><span class="pre">e</span></code> key. Pressing <code class="docutils literal notranslate"><span class="pre">e</span></code> once
more will disable the extra cursor:</p>
<p>In matplotlib, left and right arrow keys are by default set to navigate the
“zoom” history. To avoid the problem of changing zoom while navigating,
<code class="docutils literal notranslate"><span class="pre">Ctrl</span></code> + arrows can be used instead. Navigating without using the modifier keys
will be deprecated in version 2.0.</p>
<p>To navigate navigation dimensions larger than 2, modifier keys can be used.
The defaults are <code class="docutils literal notranslate"><span class="pre">Shift</span></code> + <code class="docutils literal notranslate"><span class="pre">left</span></code>/<code class="docutils literal notranslate"><span class="pre">right</span></code> and <code class="docutils literal notranslate"><span class="pre">Shift</span></code> + <code class="docutils literal notranslate"><span class="pre">up</span></code>/<code class="docutils literal notranslate"><span class="pre">down</span></code>,
(<code class="docutils literal notranslate"><span class="pre">Alt</span></code> + <code class="docutils literal notranslate"><span class="pre">left</span></code>/<code class="docutils literal notranslate"><span class="pre">right</span></code> and <code class="docutils literal notranslate"><span class="pre">Alt</span></code> + <code class="docutils literal notranslate"><span class="pre">up</span></code>/<code class="docutils literal notranslate"><span class="pre">down</span></code>)
for navigating dimensions 2 and 3 (4 and 5) respectively. Modifier keys do not work with the numpad.</p>
<p>Hotkeys and modifier keys for navigating the plot can be set in the
<a class="reference internal" href="getting_started.html#configuring-hyperspy-label"><span class="std std-ref">HyperSpy plot preferences</span></a>.
Note that some combinations will not work for all platforms, as some systems reserve them for
other purposes.</p>
<figure class="align-center" id="id8">
<a class="reference internal image-reference" href="../_images/second_pointer.png"><img alt="../_images/second_pointer.png" src="../_images/second_pointer.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Visualisation of a 2D spectrum image using two pointers.</span><a class="headerlink" href="#id8" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Sometimes the default size of the rectangular cursors used to navigate images
can be too small to be dragged or even seen. It
is possible to change the size of the cursors by pressing the <code class="docutils literal notranslate"><span class="pre">+</span></code> and <code class="docutils literal notranslate"><span class="pre">-</span></code>
keys  <strong>when the navigator window is selected</strong>.</p>
<p>The following keyboard shortcuts are available when the 1D signal figure is in focus:</p>
<table class="docutils align-default" id="id9">
<caption><span class="caption-text">Keyboard shortcuts available on the signal figure of 1D signal data</span><a class="headerlink" href="#id9" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>key</p></th>
<th class="head"><p>function</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>e</p></td>
<td><p>Switch second pointer on/off</p></td>
</tr>
<tr class="row-odd"><td><p>Ctrl + Arrows</p></td>
<td><p>Change coordinates for dimensions 0 and 1 (typically x and y)</p></td>
</tr>
<tr class="row-even"><td><p>Shift + Arrows</p></td>
<td><p>Change coordinates for dimensions 2 and 3</p></td>
</tr>
<tr class="row-odd"><td><p>Alt + Arrows</p></td>
<td><p>Change coordinates for dimensions 4 and 5</p></td>
</tr>
<tr class="row-even"><td><p>PageUp</p></td>
<td><p>Increase step size</p></td>
</tr>
<tr class="row-odd"><td><p>PageDown</p></td>
<td><p>Decrease step size</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">+</span></code></p></td>
<td><p>Increase pointer size when the navigator is an image</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Decrease pointer size when the navigator is an image</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">l</span></code></p></td>
<td><p>switch the scale of the y-axis between logarithmic and linear</p></td>
</tr>
</tbody>
</table>
<p>To close all the figures run the following command:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">plt.close('all')</span></code> is a <a class="reference external" href="http://matplotlib.sourceforge.net/">matplotlib</a> command.
Matplotlib is the library that HyperSpy uses to produce the plots. You can
learn how to pan/zoom and more  <a class="reference external" href="http://matplotlib.sourceforge.net/users/navigation_toolbar.html">in the matplotlib documentation</a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Plotting <code class="docutils literal notranslate"><span class="pre">float16</span></code> images is currently not supported by matplotlib; however, it is
possible to convert the type of the data by using the
<a class="reference internal" href="../api/hyperspy.signal.html#hyperspy.signal.BaseSignal.change_dtype" title="hyperspy.signal.BaseSignal.change_dtype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">change_dtype()</span></code></a> method, e.g. <code class="docutils literal notranslate"><span class="pre">s.change_dtype('float32')</span></code>.</p>
</div>
</section>
<section id="multidimensional-image-data">
<h2>Multidimensional image data<a class="headerlink" href="#multidimensional-image-data" title="Permalink to this headline"></a></h2>
<p>Equivalently, if the object is a 1D or 2D image stack two figures will appear,
one containing a plot of the image at the current coordinates and the other
a spectrum or an image obtained by summing over the image dimensions:</p>
<figure class="align-center" id="id10">
<span id="d-image-stack-png"></span><a class="reference internal image-reference" href="../_images/1D_image_stack.png"><img alt="../_images/1D_image_stack.png" src="../_images/1D_image_stack.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Visualisation of a 1D image stack.</span><a class="headerlink" href="#id10" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id11">
<span id="id2"></span><a class="reference internal image-reference" href="../_images/2D_image_stack.png"><img alt="../_images/2D_image_stack.png" src="../_images/2D_image_stack.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Visualisation of a 2D image stack.</span><a class="headerlink" href="#id11" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4: </span><code class="docutils literal notranslate"><span class="pre">l</span></code> keyboard shortcut</p>
</div>
<p>The following keyboard shortcuts are availalbe when the 2D signal figure is in focus:</p>
<table class="docutils align-default" id="id12">
<caption><span class="caption-text">Keyboard shortcuts available on the signal figure of 2D signal data</span><a class="headerlink" href="#id12" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>key</p></th>
<th class="head"><p>function</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Ctrl + Arrows</p></td>
<td><p>Change coordinates for dimensions 0 and 1 (typically x and y)</p></td>
</tr>
<tr class="row-odd"><td><p>Shift + Arrows</p></td>
<td><p>Change coordinates for dimensions 2 and 3</p></td>
</tr>
<tr class="row-even"><td><p>Alt + Arrows</p></td>
<td><p>Change coordinates for dimensions 4 and 5</p></td>
</tr>
<tr class="row-odd"><td><p>PageUp</p></td>
<td><p>Increase step size</p></td>
</tr>
<tr class="row-even"><td><p>PageDown</p></td>
<td><p>Decrease step size</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">+</span></code></p></td>
<td><p>Increase pointer size when the navigator is an image</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></td>
<td><p>Decrease pointer size when the navigator is an image</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">h</span></code></p></td>
<td><p>Launch the contrast adjustment tool</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">l</span></code></p></td>
<td><p>switch the norm of the intensity between logarithmic and linear</p></td>
</tr>
</tbody>
</table>
</section>
<section id="customising-image-plot">
<span id="plot-customize-images"></span><h2>Customising image plot<a class="headerlink" href="#customising-image-plot" title="Permalink to this headline"></a></h2>
<p>The image plot can be customised by passing additional arguments when plotting.
Colorbar, scalebar and contrast controls are HyperSpy-specific, however
<a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.imshow.html#matplotlib.axes.Axes.imshow" title="(in Matplotlib v3.5.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.imshow()</span></code></a> arguments are supported as well:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">ascent</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">colorbar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">scalebar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>         <span class="n">axes_ticks</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;RdYlBu_r&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id13">
<a class="reference internal image-reference" href="../_images/custom_cmap.png"><img alt="../_images/custom_cmap.png" src="../_images/custom_cmap.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Custom colormap and switched off scalebar in an image.</span><a class="headerlink" href="#id13" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4: </span><code class="docutils literal notranslate"><span class="pre">norm</span></code> keyword argument</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">norm</span></code> keyword argument can be used to select between linear, logarithmic
or custom (using a matplotlib norm) intensity scale. The default, “auto”,
automatically selects a logarithmic scale when plotting a power spectrum.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.6: </span><code class="docutils literal notranslate"><span class="pre">autoscale</span></code> keyword argument</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">autoscale</span></code> keyword argument can be used to specify which axis limits are
reset when the data or navigation indices change. It can take any combinations
of the following characters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'x'</span></code>: to reset the horizontal axes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'y'</span></code>: to reset the vertical axes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'v'</span></code>: to reset the contrast of the image  according to <code class="docutils literal notranslate"><span class="pre">vmin</span></code> and <code class="docutils literal notranslate"><span class="pre">vmax</span></code></p></li>
</ul>
<p>By default (<code class="docutils literal notranslate"><span class="pre">autoscale='v'</span></code>), only the contrast of the image will be reset
automatically. For example, to reset the extent of the image (x and y) to their
maxima but not the contrast, use <code class="docutils literal notranslate"><span class="pre">autoscale='xy'</span></code>; To reset all limits,
including the contrast of the image, use <code class="docutils literal notranslate"><span class="pre">autoscale='xyv'</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="mi">10</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">autoscale</span><span class="o">=</span><span class="s1">&#39;xyv&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p id="plot-divergent-colormaps-label">When plotting using divergent colormaps, if <code class="docutils literal notranslate"><span class="pre">centre_colormap</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>
(default) the contrast is automatically adjusted so that zero corresponds to
the center of the colormap (usually white). This can be useful e.g. when
displaying images that contain pixels with both positive and negative values.</p>
<p>The following example shows the effect of centring the color map:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xx</span><span class="p">,</span> <span class="n">yy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">xx</span> <span class="o">*</span> <span class="n">yy</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span> <span class="o">=</span> <span class="n">data1</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span><span class="p">[</span><span class="n">data2</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span> <span class="o">/=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">([</span><span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_images</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;RdBu&quot;</span><span class="p">,</span> <span class="n">tight_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id14">
<a class="reference internal image-reference" href="../_images/divergent_cmap.png"><img alt="../_images/divergent_cmap.png" src="../_images/divergent_cmap.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Divergent color map with <code class="docutils literal notranslate"><span class="pre">Centre</span> <span class="pre">colormap</span></code> enabled (default).</span><a class="headerlink" href="#id14" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The same example with the feature disabled:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xx</span><span class="p">,</span> <span class="n">yy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">xx</span> <span class="o">*</span> <span class="n">yy</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span> <span class="o">=</span> <span class="n">data1</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data2</span><span class="p">[</span><span class="n">data2</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span> <span class="o">/=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">([</span><span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_images</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="n">centre_colormap</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;RdBu&quot;</span><span class="p">,</span> <span class="n">tight_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id15">
<a class="reference internal image-reference" href="../_images/divergent_cmap_no_centre.png"><img alt="../_images/divergent_cmap_no_centre.png" src="../_images/divergent_cmap_no_centre.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Divergent color map with <code class="docutils literal notranslate"><span class="pre">centre_colormap</span></code> disabled.</span><a class="headerlink" href="#id15" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="customizing-the-navigator">
<span id="plot-customize-navigator"></span><h2>Customizing the “navigator”<a class="headerlink" href="#customizing-the-navigator" title="Permalink to this headline"></a></h2>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.2: </span>Passing keyword arguments to the navigator plot.</p>
</div>
<p>The navigator can be customised by using the <code class="docutils literal notranslate"><span class="pre">navigator_kwds</span></code> argument. For
example, in case of a image navigator, all image plot arguments mentioned in
the section <a class="reference internal" href="#plot-customize-images"><span class="std std-ref">Customising image plot</span></a> can be passed as a dictionary to the
<code class="docutils literal notranslate"><span class="pre">navigator_kwds</span></code> argument:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">ascent</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ims</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">BaseSignal</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">13</span><span class="p">))</span><span class="o">.</span><span class="n">T</span> <span class="o">*</span> <span class="n">im</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ims</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">General</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;My Images&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ims</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">colorbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>         <span class="n">scalebar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>         <span class="n">axes_ticks</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>         <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="n">navigator_kwds</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">colorbar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                             <span class="n">scalebar_color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>
<span class="gp">... </span>                             <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Blues&#39;</span><span class="p">,</span>
<span class="gp">... </span>                             <span class="n">axes_ticks</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">... </span>         <span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id16">
<a class="reference internal image-reference" href="../_images/custom_nav_opts.png"><img alt="../_images/custom_nav_opts.png" src="../_images/custom_nav_opts.png" style="height: 250px;" /></a>
<figcaption>
<p><span class="caption-text">Custom different options for both signal and navigator image plots</span><a class="headerlink" href="#id16" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Data files used in the following examples can be downloaded using</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">#Download the data (130MB)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">urlretrieve</span><span class="p">,</span> <span class="n">urlopen</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">zipfile</span> <span class="kn">import</span> <span class="n">ZipFile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">files</span> <span class="o">=</span> <span class="n">urlretrieve</span><span class="p">(</span><span class="s2">&quot;https://www.dropbox.com/s/s7cx92mfh2zvt3x/&quot;</span>
<span class="gp">... </span>                    <span class="s2">&quot;HyperSpy_demos_EDX_SEM_files.zip?raw=1&quot;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="s2">&quot;./HyperSpy_demos_EDX_SEM_files.zip&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ZipFile</span><span class="p">(</span><span class="s2">&quot;HyperSpy_demos_EDX_SEM_files.zip&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">z</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">z</span><span class="o">.</span><span class="n">extractall</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See also the
<a class="reference external" href="https://nbviewer.org/github/hyperspy/hyperspy-demos/tree/main/electron_microscopy/EDS/">SEM EDS tutorials</a> .</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The sample and the data used in this chapter are described in
P. Burdet, <cite>et al.</cite>, Acta Materialia, 61, p. 3090-3098 (2013) (see
<a class="reference external" href="https://infoscience.epfl.ch/record/185861/">abstract</a>).</p>
</div>
<p>Stack of 2D images can be imported as an 3D image and plotted with a slider
instead of the 2D navigator as in the previous example.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;Ni_superalloy_0*.tif&#39;</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">navigator</span><span class="o">=</span><span class="s1">&#39;slider&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id17">
<a class="reference internal image-reference" href="../_images/3D_image.png"><img alt="../_images/3D_image.png" src="../_images/3D_image.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Visualisation of a 3D image with a slider.</span><a class="headerlink" href="#id17" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>A stack of 2D spectrum images can be imported as a 3D spectrum image and
plotted with sliders.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;Ni_superalloy_0*.rpl&#39;</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">as_signal1D</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-center" id="id18">
<a class="reference internal image-reference" href="../_images/3D_spectrum.png"><img alt="../_images/3D_spectrum.png" src="../_images/3D_spectrum.png" style="width: 650px;" /></a>
<figcaption>
<p><span class="caption-text">Visualisation of a 3D spectrum image with sliders.</span><a class="headerlink" href="#id18" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>If the 3D images has the same spatial dimension as the 3D spectrum image, it
can be used as an external signal for the navigator.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;Ni_superalloy_0*.tif&#39;</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;Ni_superalloy_0*.rpl&#39;</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">as_signal1D</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dim</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">navigation_shape</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#Rebin the image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">rebin</span><span class="p">([</span><span class="n">dim</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">dim</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">dim</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">navigator</span><span class="o">=</span><span class="n">im</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id19">
<a class="reference internal image-reference" href="../_images/3D_spectrum_external.png"><img alt="../_images/3D_spectrum_external.png" src="../_images/3D_spectrum_external.png" style="width: 650px;" /></a>
<figcaption>
<p><span class="caption-text">Visualisation of a 3D spectrum image. The navigator is an external signal.</span><a class="headerlink" href="#id19" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The 3D spectrum image can be transformed in a stack of spectral images for an
alternative display.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">imgSpec</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;Ni_superalloy_0*.rpl&#39;</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">imgSpec</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">navigator</span><span class="o">=</span><span class="s1">&#39;spectrum&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id20">
<a class="reference internal image-reference" href="../_images/3D_image_spectrum.png"><img alt="../_images/3D_image_spectrum.png" src="../_images/3D_image_spectrum.png" style="width: 650px;" /></a>
<figcaption>
<p><span class="caption-text">Visualisation of a stack of 2D spectral images.</span><a class="headerlink" href="#id20" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>An external signal (e.g. a spectrum) can be used as a navigator, for example
the “maximum spectrum” for which each channel is the maximum of all pixels.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">imgSpec</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;Ni_superalloy_0*.rpl&#39;</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">specMax</span> <span class="o">=</span> <span class="n">imgSpec</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">as_signal1D</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">imgSpec</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">navigator</span><span class="o">=</span><span class="n">specMax</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id21">
<a class="reference internal image-reference" href="../_images/3D_image_spectrum_external.png"><img alt="../_images/3D_image_spectrum_external.png" src="../_images/3D_image_spectrum_external.png" style="width: 650px;" /></a>
<figcaption>
<p><span class="caption-text">Visualisation of a stack of 2D spectral images.
The navigator is the “maximum spectrum”.</span><a class="headerlink" href="#id21" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Lastly, if no navigator is needed, “navigator=None” can be used.</p>
</section>
<section id="using-mayavi-to-visualize-3d-data">
<span id="visualization-3d-eds-label"></span><h2>Using Mayavi to visualize 3D data<a class="headerlink" href="#using-mayavi-to-visualize-3d-data" title="Permalink to this headline"></a></h2>
<p>Data files used in the following examples can be downloaded using</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">urlretrieve</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://cook.msm.cam.ac.uk//~hyperspy//EDS_tutorial//&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span> <span class="o">+</span> <span class="s1">&#39;Ni_La_intensity.hdf5&#39;</span><span class="p">,</span> <span class="s1">&#39;Ni_La_intensity.hdf5&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See also the
<a class="reference external" href="https://nbviewer.org/github/hyperspy/hyperspy-demos/tree/main/electron_microscopy/EDS/">EDS tutorials</a> .</p>
</div>
<p>Although HyperSpy does not currently support plotting when signal_dimension is
greater than 2, <a class="reference external" href="https://docs.enthought.com/mayavi/mayavi/">Mayavi</a> can be
used for this purpose.</p>
<p>In the following example we also use <a class="reference external" href="https://scikit-image.org/">scikit-image</a>
for noise reduction. More details about
<code class="xref py py-meth docutils literal notranslate"><span class="pre">get_lines_intensity()</span></code> method can be
found in <a class="reference internal" href="eds.html#get-lines-intensity"><span class="std std-ref">EDS lines intensity</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mayavi</span> <span class="kn">import</span> <span class="n">mlab</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ni</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;Ni_La_intensity.hdf5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mlab</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mlab</span><span class="o">.</span><span class="n">contour3d</span><span class="p">(</span><span class="n">ni</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">contours</span><span class="o">=</span><span class="p">[</span><span class="mi">85</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mlab</span><span class="o">.</span><span class="n">outline</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
<figure class="align-center" id="id22">
<a class="reference internal image-reference" href="../_images/plot_3D_mayavi.png"><img alt="../_images/plot_3D_mayavi.png" src="../_images/plot_3D_mayavi.png" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-text">Visualisation of isosurfaces with mayavi.</span><a class="headerlink" href="#id22" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See also the
<a class="reference external" href="https://nbviewer.org/github/hyperspy/hyperspy-demos/tree/main/electron_microscopy/EDS/">SEM EDS tutorials</a> .</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The sample and the data used in this chapter are described in
P. Burdet, <cite>et al.</cite>, Ultramicroscopy, 148, p. 158-167 (2015).</p>
</div>
</section>
<section id="plotting-multiple-signals">
<span id="plot-spectra"></span><h2>Plotting multiple signals<a class="headerlink" href="#plotting-multiple-signals" title="Permalink to this headline"></a></h2>
<p>HyperSpy provides three functions to plot multiple signals (spectra, images or
other signals): <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_images" title="hyperspy.drawing.utils.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a>,
<a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_spectra" title="hyperspy.drawing.utils.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a>, and
<a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_signals" title="hyperspy.drawing.utils.plot_signals"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_signals()</span></code></a> in the <code class="docutils literal notranslate"><span class="pre">utils.plot</span></code> package.</p>
<section id="plotting-several-images">
<span id="plot-images"></span><h3>Plotting several images<a class="headerlink" href="#plotting-several-images" title="Permalink to this headline"></a></h3>
<p><a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_images" title="hyperspy.drawing.utils.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> is used to plot several images in the
same figure. It supports many configurations and has many options available
to customize the resulting output. The function returns a list of
<a class="reference external" href="https://matplotlib.org/stable/api/axes_api.html#matplotlib.axes.Axes" title="(in Matplotlib v3.5.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.axes.Axes</span></code></a>,
which can be used to further customize the figure. Some examples are given
below. Plots generated from another installation may look slightly different
due to <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> GUI backends and default font sizes. To change the
font size globally, use the command <code class="docutils literal notranslate"><span class="pre">matplotlib.rcParams.update({'font</span>
<span class="pre">.size':</span> <span class="pre">8})</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.5: </span>Add support for plotting <a class="reference internal" href="../api/hyperspy.signal.html#hyperspy.signal.BaseSignal" title="hyperspy.signal.BaseSignal"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseSignal</span></code></a> with navigation
dimension 2 and signal dimension 0.</p>
</div>
<p>A common usage for <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_images" title="hyperspy.drawing.utils.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> is to view the
different slices of a multidimensional image (a <em>hyperimage</em>):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">([</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">ascent</span><span class="p">()]</span><span class="o">*</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">angles</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">BaseSignal</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">ndimage</span><span class="o">.</span><span class="n">rotate</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="n">angles</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">reshape</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_images</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">tight_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id23">
<a class="reference internal image-reference" href="../_images/plot_images_defaults.png"><img alt="../_images/plot_images_defaults.png" src="../_images/plot_images_defaults.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Figure generated with <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_images" title="hyperspy.drawing.utils.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> using the
default values.</span><a class="headerlink" href="#id23" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>This example is explained in <a class="reference internal" href="signal.html#signal-iterator"><span class="std std-ref">Signal iterator</span></a>.</p>
<p>By default, <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_images" title="hyperspy.drawing.utils.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> will attempt to auto-label
the images based on the Signal titles. The labels (and title) can be
customized with the <cite>suptitle</cite> and <cite>label</cite> arguments. In this example, the
axes labels and the ticks are also disabled with <cite>axes_decor</cite>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">([</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">ascent</span><span class="p">()]</span><span class="o">*</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">angles</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">BaseSignal</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">ndimage</span><span class="o">.</span><span class="n">rotate</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="n">angles</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">reshape</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_images</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">image</span><span class="p">,</span> <span class="n">suptitle</span><span class="o">=</span><span class="s1">&#39;Turning Ascent&#39;</span><span class="p">,</span> <span class="n">axes_decor</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">label</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Rotation </span><span class="si">{}</span><span class="s1">$^\degree$&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">angles</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span>
<span class="gp">... </span>           <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">angles</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])],</span> <span class="n">colorbar</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id24">
<a class="reference internal image-reference" href="../_images/plot_images_custom-labels.png"><img alt="../_images/plot_images_custom-labels.png" src="../_images/plot_images_custom-labels.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Figure generated with <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_images" title="hyperspy.drawing.utils.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> with customised
labels.</span><a class="headerlink" href="#id24" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p><a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_images" title="hyperspy.drawing.utils.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> can also be used to easily plot a list
of <cite>Images</cite>, comparing different <cite>Signals</cite>, including RGB images. This
example also demonstrates how to wrap labels using <cite>labelwrap</cite> (for preventing
overlap) and using a single <cite>colorbar</cite> for all the Images, as opposed to
multiple individual ones:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># load red channel of raccoon as an image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image0</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">face</span><span class="p">()[:,:,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image0</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">General</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Rocky Raccoon - R&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># load ascent into a length 6 hyper-image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image1</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">([</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">ascent</span><span class="p">()]</span><span class="o">*</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">angles</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">BaseSignal</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image1</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">ndimage</span><span class="o">.</span><span class="n">rotate</span><span class="p">,</span> <span class="n">angle</span><span class="o">=</span><span class="n">angles</span><span class="p">,</span>
<span class="gp">... </span>           <span class="n">show_progressbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">reshape</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image1</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">image1</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>  <span class="c1"># clip data to int range</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># load green channel of raccoon as an image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image2</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">face</span><span class="p">()[:,:,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">image2</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">General</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Rocky Raccoon - G&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># load rgb image of the raccoon</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rgb</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">face</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rgb</span><span class="o">.</span><span class="n">change_dtype</span><span class="p">(</span><span class="s2">&quot;rgb8&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rgb</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">General</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Raccoon - RGB&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span> <span class="o">=</span> <span class="p">[</span><span class="n">image0</span><span class="p">,</span> <span class="n">image1</span><span class="p">,</span> <span class="n">image2</span><span class="p">,</span> <span class="n">rgb</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">im</span> <span class="ow">in</span> <span class="n">images</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">ax</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">signal_axes</span>
<span class="gp">... </span>    <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span>
<span class="gp">... </span>    <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">units</span><span class="p">,</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;mm&#39;</span><span class="p">,</span> <span class="s1">&#39;mm&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_images</span><span class="p">(</span><span class="n">images</span><span class="p">,</span> <span class="n">tight_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">colorbar</span><span class="o">=</span><span class="s1">&#39;single&#39;</span><span class="p">,</span> <span class="n">labelwrap</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id25">
<a class="reference internal image-reference" href="../_images/plot_images_image-list.png"><img alt="../_images/plot_images_image-list.png" src="../_images/plot_images_image-list.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Figure generated with <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_images" title="hyperspy.drawing.utils.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> from a list of
images.</span><a class="headerlink" href="#id25" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Data files used in the following example can be downloaded using (These data
are described in <a class="reference internal" href="bibliography.html#rossouw2015"><span class="std std-ref">[Rossouw2015]</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">#Download the data (1MB)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">urlretrieve</span><span class="p">,</span> <span class="n">urlopen</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">zipfile</span> <span class="kn">import</span> <span class="n">ZipFile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">files</span> <span class="o">=</span> <span class="n">urlretrieve</span><span class="p">(</span><span class="s2">&quot;https://www.dropbox.com/s/ecdlgwxjq04m5mx/&quot;</span>
<span class="gp">... </span>                    <span class="s2">&quot;HyperSpy_demos_EDS_TEM_files.zip?raw=1&quot;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="s2">&quot;./HyperSpy_demos_EDX_TEM_files.zip&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ZipFile</span><span class="p">(</span><span class="s2">&quot;HyperSpy_demos_EDX_TEM_files.zip&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">z</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">z</span><span class="o">.</span><span class="n">extractall</span><span class="p">()</span>
</pre></div>
</div>
<p>Another example for this function is plotting EDS line intensities see
<a class="reference internal" href="eds.html#get-lines-intensity"><span class="std std-ref">EDS chapter</span></a>. One can use the following commands
to get a representative figure of the X-ray line intensities of an EDS
spectrum image. This example also demonstrates changing the colormap (with
<cite>cmap</cite>), adding scalebars to the plots (with <cite>scalebar</cite>), and changing the
<cite>padding</cite> between the images. The padding is specified as a dictionary,
which is passed to <a class="reference external" href="https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.subplots_adjust" title="(in Matplotlib v3.5.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.figure.Figure.subplots_adjust()</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">si_EDS</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;core_shell.hdf5&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">si_EDS</span><span class="o">.</span><span class="n">get_lines_intensity</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_images</span><span class="p">(</span><span class="n">im</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">tight_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;RdYlBu_r&#39;</span><span class="p">,</span> <span class="n">axes_decor</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">colorbar</span><span class="o">=</span><span class="s1">&#39;single&#39;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="s1">&#39;1th&#39;</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="s1">&#39;99th&#39;</span><span class="p">,</span> <span class="n">scalebar</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">scalebar_color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">suptitle_fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">padding</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;top&#39;</span><span class="p">:</span><span class="mf">0.8</span><span class="p">,</span> <span class="s1">&#39;bottom&#39;</span><span class="p">:</span><span class="mf">0.10</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span><span class="mf">0.05</span><span class="p">,</span>
<span class="gp">... </span>             <span class="s1">&#39;right&#39;</span><span class="p">:</span><span class="mf">0.85</span><span class="p">,</span> <span class="s1">&#39;wspace&#39;</span><span class="p">:</span><span class="mf">0.20</span><span class="p">,</span> <span class="s1">&#39;hspace&#39;</span><span class="p">:</span><span class="mf">0.10</span><span class="p">})</span>
</pre></div>
</div>
<figure class="align-center" id="id26">
<a class="reference internal image-reference" href="../_images/plot_images_eds.png"><img alt="../_images/plot_images_eds.png" src="../_images/plot_images_eds.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Using <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_images" title="hyperspy.drawing.utils.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> to plot the output of
<code class="xref py py-meth docutils literal notranslate"><span class="pre">get_lines_intensity()</span></code>.</span><a class="headerlink" href="#id26" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This padding can also be changed interactively by clicking on the
<img alt="subplots_adjust" src="../_images/plot_images_subplots.png" /> button in the GUI (button may be different when using
different graphical backends).</p>
</div>
<p>Finally, the <code class="docutils literal notranslate"><span class="pre">cmap</span></code> option of <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_images" title="hyperspy.drawing.utils.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a>
supports iterable types, allowing the user to specify different colormaps
for the different images that are plotted by providing a list or other
generator:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">si_EDS</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;core_shell.hdf5&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">si_EDS</span><span class="o">.</span><span class="n">get_lines_intensity</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_images</span><span class="p">(</span><span class="n">im</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">tight_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="s1">&#39;plasma&#39;</span><span class="p">],</span> <span class="n">axes_decor</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">colorbar</span><span class="o">=</span><span class="s1">&#39;multi&#39;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="s1">&#39;1th&#39;</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="s1">&#39;99th&#39;</span><span class="p">,</span> <span class="n">scalebar</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">scalebar_color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">suptitle_fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id27">
<a class="reference internal image-reference" href="../_images/plot_images_eds_cmap_list.png"><img alt="../_images/plot_images_eds_cmap_list.png" src="../_images/plot_images_eds_cmap_list.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Using <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_images" title="hyperspy.drawing.utils.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> to plot the output of
<code class="xref py py-meth docutils literal notranslate"><span class="pre">get_lines_intensity()</span></code> using a unique
colormap for each image.</span><a class="headerlink" href="#id27" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The <code class="docutils literal notranslate"><span class="pre">cmap</span></code> argument can also be given as <code class="docutils literal notranslate"><span class="pre">'mpl_colors'</span></code>, and as a result,
the images will be plotted with colormaps generated from the default
<code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> colors, which is very helpful when plotting multiple spectral
signals and their relative intensities (such as the results of a
<code class="xref py py-func docutils literal notranslate"><span class="pre">decomposition()</span></code> analysis). This example uses
<a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_spectra" title="hyperspy.drawing.utils.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a>, which is explained in the
<a class="reference internal" href="#id5">next section</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">si_EDS</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;core_shell.hdf5&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">si_EDS</span><span class="o">.</span><span class="n">change_dtype</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">si_EDS</span><span class="o">.</span><span class="n">decomposition</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;NMF&#39;</span><span class="p">,</span> <span class="n">output_dimension</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">factors</span> <span class="o">=</span> <span class="n">si_EDS</span><span class="o">.</span><span class="n">get_decomposition_factors</span><span class="p">()</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the first factor is a very strong carbon background component, so we</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># normalize factor intensities for easier qualitative comparison</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">factors</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">f</span><span class="o">.</span><span class="n">data</span> <span class="o">/=</span> <span class="n">f</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loadings</span> <span class="o">=</span> <span class="n">si_EDS</span><span class="o">.</span><span class="n">get_decomposition_loadings</span><span class="p">()</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">factors</span><span class="o">.</span><span class="n">isig</span><span class="p">[:</span><span class="mf">14.0</span><span class="p">],</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;cascade&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                     <span class="n">padding</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># add some lines to nicely label the peak positions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mf">6.403</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;C2&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">6.503</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="s1">&#39;Fe-K$_</span><span class="se">\\</span><span class="s1">alpha$&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;C2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mf">9.441</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">9.541</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="s1">&#39;Pt-L$_</span><span class="se">\\</span><span class="s1">alpha$&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;C1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mf">2.046</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">2.146</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="s1">&#39;Pt-M&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;C1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mf">8.040</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">8.14</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.35</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="s1">&#39;Cu-K$_</span><span class="se">\\</span><span class="s1">alpha$&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_images</span><span class="p">(</span><span class="n">loadings</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;mpl_colors&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">axes_decor</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">,</span> <span class="n">per_row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">label</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Background&#39;</span><span class="p">,</span> <span class="s1">&#39;Pt core&#39;</span><span class="p">,</span> <span class="s1">&#39;Fe shell&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">scalebar</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">scalebar_color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">padding</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;top&#39;</span><span class="p">:</span> <span class="mf">0.95</span><span class="p">,</span> <span class="s1">&#39;bottom&#39;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                     <span class="s1">&#39;left&#39;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span><span class="mf">0.78</span><span class="p">})</span>
</pre></div>
</div>
<figure class="align-center" id="id28">
<a class="reference internal image-reference" href="../_images/plot_images_eds_cmap_factors_side_by_side.png"><img alt="../_images/plot_images_eds_cmap_factors_side_by_side.png" src="../_images/plot_images_eds_cmap_factors_side_by_side.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Using <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_images" title="hyperspy.drawing.utils.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> with <code class="docutils literal notranslate"><span class="pre">cmap='mpl_colors'</span></code>
together with <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_spectra" title="hyperspy.drawing.utils.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a> to visualize the
output of a non-negative matrix factorization of the EDS data.</span><a class="headerlink" href="#id28" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Because it does not make sense, it is not allowed to use a list or
other iterable type for the <code class="docutils literal notranslate"><span class="pre">cmap</span></code> argument together with <code class="docutils literal notranslate"><span class="pre">'single'</span></code>
for the <code class="docutils literal notranslate"><span class="pre">colorbar</span></code> argument. Such an input will cause a warning and
instead set the <code class="docutils literal notranslate"><span class="pre">colorbar</span></code> argument to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</div>
<p>It is also possible to plot multiple images overlayed on the same figure by
passing the argument <code class="docutils literal notranslate"><span class="pre">overlay=True</span></code> to the
<a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_images" title="hyperspy.drawing.utils.plot_images"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_images()</span></code></a> function. This should only be done when
images have the same scale (eg. for elemental maps from the same dataset).
Using the same data as above, the Fe and Pt signals can be plotted using
different colours. Any color can be input via matplotlib color characters or
hex values.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">si_EDS</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;core_shell.hdf5&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">si_EDS</span><span class="o">.</span><span class="n">get_lines_intensity</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_images</span><span class="p">(</span><span class="n">im</span><span class="p">,</span><span class="n">scalebar</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">overlay</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">suptitle</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                    <span class="n">axes_decor</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/plot_images_overlay.png"><img alt="../_images/plot_images_overlay.png" src="../_images/plot_images_overlay.png" style="width: 500px;" /></a>
</figure>
</section>
<section id="plotting-several-spectra">
<span id="id5"></span><h3>Plotting several spectra<a class="headerlink" href="#plotting-several-spectra" title="Permalink to this headline"></a></h3>
<p><a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_spectra" title="hyperspy.drawing.utils.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a> is used to plot several spectra in the
same figure. It supports different styles, the default
being “overlap”.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.5: </span>Add support for plotting <a class="reference internal" href="../api/hyperspy.signal.html#hyperspy.signal.BaseSignal" title="hyperspy.signal.BaseSignal"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseSignal</span></code></a> with navigation
dimension 1 and signal dimension 0.</p>
</div>
<p>In the following example we create a list of 9 single spectra (gaussian
functions with different sigma values) and plot them in the same figure using
<a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_spectra" title="hyperspy.drawing.utils.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a>. Note that, in this case, the legend
labels are taken from the individual spectrum titles. By clicking on the
legended line, a spectrum can be toggled on and off.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">200</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scale</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">create_model</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">components1D</span><span class="o">.</span><span class="n">Gaussian</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gaussians</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">sigma</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">g</span><span class="o">.</span><span class="n">sigma</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">sigma</span>
<span class="gp">... </span>        <span class="n">gs</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">as_signal</span><span class="p">()</span>
<span class="gp">... </span>        <span class="n">gs</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">General</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;sigma=</span><span class="si">%i</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">sigma</span>
<span class="gp">... </span>        <span class="n">gaussians</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gs</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">gaussians</span><span class="p">,</span><span class="n">legend</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">)</span>
<span class="go">&lt;matplotlib.axes.AxesSubplot object at 0x4c28c90&gt;</span>
</pre></div>
</div>
<figure class="align-center" id="id29">
<a class="reference internal image-reference" href="../_images/plot_spectra_overlap.png"><img alt="../_images/plot_spectra_overlap.png" src="../_images/plot_spectra_overlap.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Figure generated by <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_spectra" title="hyperspy.drawing.utils.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a> using the
<cite>overlap</cite> style.</span><a class="headerlink" href="#id29" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Another style, “cascade”, can be useful when “overlap” results in a plot that
is too cluttered e.g. to visualize
changes in EELS fine structure over a line scan. The following example
shows how to plot a cascade style figure from a spectrum, and save it in
a file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.misc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">100</span><span class="p">:</span><span class="mi">160</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;cascade&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;cascade_plot.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id30">
<a class="reference internal image-reference" href="../_images/plot_spectra_cascade.png"><img alt="../_images/plot_spectra_cascade.png" src="../_images/plot_spectra_cascade.png" style="width: 350px;" /></a>
<figcaption>
<p><span class="caption-text">Figure generated by <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_spectra" title="hyperspy.drawing.utils.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a> using the
<cite>cascade</cite> style.</span><a class="headerlink" href="#id30" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The “cascade” <cite>style</cite> has a <cite>padding</cite> option. The default value, 1, keeps the
individual plots from overlapping. However in most cases a lower
padding value can be used, to get tighter plots.</p>
<p>Using the color argument one can assign a color to all the spectra, or specific
colors for each spectrum. In the same way, one can also assign the line style
and provide the legend labels:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.misc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">100</span><span class="p">:</span><span class="mi">160</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">color_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linestyle_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="s1">&#39;-.&#39;</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;cascade&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color_list</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                     <span class="n">linestyle</span><span class="o">=</span><span class="n">linestyle_list</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id31">
<a class="reference internal image-reference" href="../_images/plot_spectra_color.png"><img alt="../_images/plot_spectra_color.png" src="../_images/plot_spectra_color.png" style="width: 350px;" /></a>
<figcaption>
<p><span class="caption-text">Customising the line colors in <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_spectra" title="hyperspy.drawing.utils.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a>.</span><a class="headerlink" href="#id31" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>A simple extension of this functionality is to customize the colormap that
is used to generate the list of colors. Using a list comprehension, one can
generate a list of colors that follows a certain colormap:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.misc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span> <span class="n">axarr</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">100</span><span class="p">:</span><span class="mi">160</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">200</span><span class="p">:</span><span class="mi">260</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="n">style</span><span class="o">=</span><span class="s1">&#39;cascade&#39;</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">RdBu</span><span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">... </span>                               <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">))],</span>
<span class="gp">... </span>                        <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>                        <span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s2</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="n">style</span><span class="o">=</span><span class="s1">&#39;cascade&#39;</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">summer</span><span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">... </span>                               <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s1</span><span class="p">))],</span>
<span class="gp">... </span>                        <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>                        <span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;RdBu (colormap)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">axarr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;summer (colormap)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-center" id="id32">
<a class="reference internal image-reference" href="../_images/plot_spectra_colormap.png"><img alt="../_images/plot_spectra_colormap.png" src="../_images/plot_spectra_colormap.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Customising the line colors in <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_spectra" title="hyperspy.drawing.utils.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a> using
a colormap.</span><a class="headerlink" href="#id32" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>There are also two other styles, “heatmap” and “mosaic”:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.misc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">100</span><span class="p">:</span><span class="mi">160</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;heatmap&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id33">
<a class="reference internal image-reference" href="../_images/plot_spectra_heatmap.png"><img alt="../_images/plot_spectra_heatmap.png" src="../_images/plot_spectra_heatmap.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Figure generated by <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_spectra" title="hyperspy.drawing.utils.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a> using the
<cite>heatmap</cite> style.</span><a class="headerlink" href="#id33" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.misc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">100</span><span class="p">:</span><span class="mi">120</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;mosaic&#39;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id34">
<a class="reference internal image-reference" href="../_images/plot_spectra_mosaic.png"><img alt="../_images/plot_spectra_mosaic.png" src="../_images/plot_spectra_mosaic.png" style="width: 350px;" /></a>
<figcaption>
<p><span class="caption-text">Figure generated by <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_spectra" title="hyperspy.drawing.utils.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a> using the
<cite>mosaic</cite> style.</span><a class="headerlink" href="#id34" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>For the “heatmap” style, different
<a class="reference external" href="https://matplotlib.org/stable/gallery/color/colormap_reference.html">matplotlib color schemes</a>
can be used:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.cm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.misc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">100</span><span class="p">:</span><span class="mi">120</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;heatmap&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">images</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_cmap</span><span class="p">(</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">plasma</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id35">
<a class="reference internal image-reference" href="../_images/plot_spectra_heatmap_plasma.png"><img alt="../_images/plot_spectra_heatmap_plasma.png" src="../_images/plot_spectra_heatmap_plasma.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Figure generated by <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_spectra" title="hyperspy.drawing.utils.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a> using the
<cite>heatmap</cite> style showing how to customise the color map.</span><a class="headerlink" href="#id35" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Any parameter that can be passed to matplotlib.pyplot.figure can also be used
with plot_spectra() to allow further customization  (when using the
“overlap”, “cascade”, or “mosaic” styles). In the following example, <cite>dpi</cite>,
<cite>facecolor</cite>, <cite>frameon</cite>, and <cite>num</cite> are all parameters that are passed
directly to matplotlib.pyplot.figure as keyword arguments:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.misc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">100</span><span class="p">:</span><span class="mi">160</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">legendtext</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Plot 0&#39;</span><span class="p">,</span> <span class="s1">&#39;Plot 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Plot 2&#39;</span><span class="p">,</span> <span class="s1">&#39;Plot 3&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="s1">&#39;Plot 4&#39;</span><span class="p">,</span> <span class="s1">&#39;Plot 5&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">s</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;cascade&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="n">legendtext</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;lightblue&#39;</span><span class="p">,</span> <span class="n">frameon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;X-axis&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Y-axis&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Cascade plot&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-center" id="id36">
<a class="reference internal image-reference" href="../_images/plot_spectra_kwargs.png"><img alt="../_images/plot_spectra_kwargs.png" src="../_images/plot_spectra_kwargs.png" style="width: 350px;" /></a>
<figcaption>
<p><span class="caption-text">Customising the figure with keyword arguments.</span><a class="headerlink" href="#id36" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The function returns a matplotlib ax object, which can be used to customize
the figure:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.misc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">100</span><span class="p">:</span><span class="mi">160</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;An axis&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Another axis&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cascade_plot</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;A title!&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-center" id="id37">
<a class="reference internal image-reference" href="../_images/plot_spectra_customize.png"><img alt="../_images/plot_spectra_customize.png" src="../_images/plot_spectra_customize.png" style="width: 350px;" /></a>
<figcaption>
<p><span class="caption-text">Customising the figure by setting the matplotlib axes properties.</span><a class="headerlink" href="#id37" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>A matplotlib ax and fig object can also be specified, which can be used to
put several subplots in the same figure. This will only work for “cascade”
and “overlap” styles:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.misc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span> <span class="n">axarr</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">100</span><span class="p">:</span><span class="mi">160</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">ascent</span><span class="p">()[</span><span class="mi">200</span><span class="p">:</span><span class="mi">260</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s1</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;cascade&#39;</span><span class="p">,</span>
<span class="gp">... </span>                     <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">(</span><span class="n">s2</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;cascade&#39;</span><span class="p">,</span>
<span class="gp">... </span>                     <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axarr</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-center" id="id38">
<a class="reference internal image-reference" href="../_images/plot_spectra_ax_argument.png"><img alt="../_images/plot_spectra_ax_argument.png" src="../_images/plot_spectra_ax_argument.png" style="width: 350px;" /></a>
<figcaption>
<p><span class="caption-text">Plotting on existing matplotlib axes.</span><a class="headerlink" href="#id38" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="plotting-profiles-interactively">
<span id="plot-profiles-interactive-label"></span><h3>Plotting profiles interactively<a class="headerlink" href="#plotting-profiles-interactively" title="Permalink to this headline"></a></h3>
<p>Spectra or line profile can be plotted interactively on the same figure using
the <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_spectra" title="hyperspy.drawing.utils.plot_spectra"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_spectra()</span></code></a> function. For example, profiles
obtained from different Signal2D using the <a class="reference internal" href="../api/hyperspy.roi.html#hyperspy.roi.Line2DROI" title="hyperspy.roi.Line2DROI"><code class="xref py py-class docutils literal notranslate"><span class="pre">Line2DROI</span></code></a> ROI can
be plotted interactively:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">im0</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">reference_hologram</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im1</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">object_hologram</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im0</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im1</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create the ROI</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line_profile</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">roi</span><span class="o">.</span><span class="n">Line2DROI</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">220</span><span class="p">,</span> <span class="mi">600</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Obtain the signals to plot by &quot;slicing&quot; the signals with the ROI</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line0</span> <span class="o">=</span> <span class="n">line_profile</span><span class="o">.</span><span class="n">interactive</span><span class="p">(</span><span class="n">im0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line1</span> <span class="o">=</span> <span class="n">line_profile</span><span class="o">.</span><span class="n">interactive</span><span class="p">(</span><span class="n">im1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plotting the profile on the same figure</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_spectra</span><span class="p">([</span><span class="n">line0</span><span class="p">,</span> <span class="n">line1</span><span class="p">])</span>
</pre></div>
</div>
<figure class="align-center" id="id39">
<a class="reference internal image-reference" href="../_images/interactive_profiles.gif"><img alt="../_images/interactive_profiles.gif" src="../_images/interactive_profiles.gif" style="width: 1024px;" /></a>
<figcaption>
<p><span class="caption-text">Plotting profiles from different images interactively.</span><a class="headerlink" href="#id39" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<section id="plotting-several-signals">
<span id="plot-signals"></span><h4>Plotting several signals<a class="headerlink" href="#plotting-several-signals" title="Permalink to this headline"></a></h4>
<p><a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_signals" title="hyperspy.drawing.utils.plot_signals"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_signals()</span></code></a> is used to plot several signals at the
same time. By default the navigation position of the signals will be synced,
and the signals must have the same dimensions. To plot two spectra at the
same time:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.misc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">face</span><span class="p">())</span><span class="o">.</span><span class="n">as_signal1D</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">inav</span><span class="p">[:,:</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">()</span><span class="o">*-</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_signals</span><span class="p">([</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">])</span>
</pre></div>
</div>
<figure class="align-center" id="id40">
<a class="reference internal image-reference" href="../_images/plot_signals.png"><img alt="../_images/plot_signals.png" src="../_images/plot_signals.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">The <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_signals" title="hyperspy.drawing.utils.plot_signals"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_signals()</span></code></a> plots several signals with
optional synchronized navigation.</span><a class="headerlink" href="#id40" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The navigator can be specified by using the navigator argument, where the
different options are “auto”, None, “spectrum”, “slider” or Signal.
For more details about the different navigators,
see <a class="reference internal" href="#plot-customize-navigator"><span class="std std-ref">the navigator options</span></a>.
To specify the navigator:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.misc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">face</span><span class="p">())</span><span class="o">.</span><span class="n">as_signal1D</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">inav</span><span class="p">[:,:</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">()</span><span class="o">*-</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_signals</span><span class="p">([</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="n">navigator</span><span class="o">=</span><span class="s2">&quot;slider&quot;</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id41">
<a class="reference internal image-reference" href="../_images/plot_signals_slider.png"><img alt="../_images/plot_signals_slider.png" src="../_images/plot_signals_slider.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Customising the navigator in <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_signals" title="hyperspy.drawing.utils.plot_signals"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_signals()</span></code></a>.</span><a class="headerlink" href="#id41" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Navigators can also be set differently for different plots using the
navigator_list argument. Where the navigator_list be the same length
as the number of signals plotted, and only contain valid navigator options.
For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.misc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">face</span><span class="p">())</span><span class="o">.</span><span class="n">as_signal1D</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">inav</span><span class="p">[:,:</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">()</span><span class="o">*-</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s3</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_signals</span><span class="p">([</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="n">navigator_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;slider&quot;</span><span class="p">,</span> <span class="n">s3</span><span class="p">])</span>
</pre></div>
</div>
<figure class="align-center" id="id42">
<a class="reference internal image-reference" href="../_images/plot_signals_navigator_list.png"><img alt="../_images/plot_signals_navigator_list.png" src="../_images/plot_signals_navigator_list.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Customising the navigator in <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_signals" title="hyperspy.drawing.utils.plot_signals"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_signals()</span></code></a> by
providing a navigator list.</span><a class="headerlink" href="#id42" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Several signals can also be plotted without syncing the navigation by using
sync=False. The navigator_list can still be used to specify a navigator for
each plot:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.misc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">face</span><span class="p">())</span><span class="o">.</span><span class="n">as_signal1D</span><span class="p">(</span><span class="mi">0</span><span class="p">)[:,:</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">s1</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">()</span><span class="o">*-</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">plot_signals</span><span class="p">([</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="n">sync</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>                     <span class="n">navigator_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;slider&quot;</span><span class="p">,</span> <span class="s2">&quot;slider&quot;</span><span class="p">])</span>
</pre></div>
</div>
<figure class="align-center" id="id43">
<a class="reference internal image-reference" href="../_images/plot_signals_sync.png"><img alt="../_images/plot_signals_sync.png" src="../_images/plot_signals_sync.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Disabling syncronised navigation in <a class="reference internal" href="../api/hyperspy.drawing.utils.html#hyperspy.drawing.utils.plot_signals" title="hyperspy.drawing.utils.plot_signals"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_signals()</span></code></a>.</span><a class="headerlink" href="#id43" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
</section>
<section id="markers">
<span id="plot-markers"></span><h2>Markers<a class="headerlink" href="#markers" title="Permalink to this headline"></a></h2>
<p>HyperSpy provides an easy access to the main marker of matplotlib. The markers
can be used in a static way</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.misc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">ascent</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="n">x1</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">y1</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<span class="gp">... </span>                              <span class="n">x2</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">y2</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">im</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id44">
<a class="reference internal image-reference" href="../_images/plot_markers_std.png"><img alt="../_images/plot_markers_std.png" src="../_images/plot_markers_std.png" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-text">Rectangle static marker.</span><a class="headerlink" href="#id44" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>By providing an array of positions, the marker can also change position when
navigating the signal. In the following example, the local maxima are displayed
for each R, G and B channel of a colour image.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skimage.feature</span> <span class="kn">import</span> <span class="n">peak_local_max</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.misc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ims</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">BaseSignal</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">face</span><span class="p">())</span><span class="o">.</span><span class="n">as_signal2D</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">peak_local_max</span><span class="p">(</span><span class="n">im</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">min_distance</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="n">num_peaks</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">... </span>                  <span class="k">for</span> <span class="n">im</span> <span class="ow">in</span> <span class="n">ims</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">m</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">index</span><span class="p">[:,</span> <span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>                              <span class="n">y</span><span class="o">=</span><span class="n">index</span><span class="p">[:,</span> <span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">ims</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id45">
<a class="reference internal image-reference" href="../_images/plot_markers_im.gif"><img alt="../_images/plot_markers_im.gif" src="../_images/plot_markers_im.gif" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">Point markers in image.</span><a class="headerlink" href="#id45" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The markers can be added to the navigator as well. In the following example,
each slice of a 2D spectrum is tagged with a text marker on the signal plot.
Each slice is indicated with the same text on the navigator.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">navigator</span><span class="o">=</span><span class="s1">&#39;spectrum&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
<span class="gp">... </span>    <span class="n">m</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>                             <span class="n">x</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;abcdefghij&#39;</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="gp">... </span>    <span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">plot_on_signal</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="mi">2</span> <span class="c1">#middle of signal plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">isig</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>                         <span class="n">text</span><span class="o">=</span><span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="s1">&#39;abcdefghij&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id46">
<a class="reference internal image-reference" href="../_images/plot_markers_nav.gif"><img alt="../_images/plot_markers_nav.gif" src="../_images/plot_markers_nav.gif" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">Multi-dimensional markers.</span><a class="headerlink" href="#id46" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<section id="permanent-markers">
<h3>Permanent markers<a class="headerlink" href="#permanent-markers" title="Permalink to this headline"></a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2: </span>Permanent markers.</p>
</div>
<p>These markers can also be permanently added to a signal, which is saved in
<code class="docutils literal notranslate"><span class="pre">metadata.Markers</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">marker</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">marker</span><span class="p">,</span> <span class="n">permanent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Markers</span>
<span class="go">└── point = &lt;marker.Point, point (x=5,y=9,color=black,size=20)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-center" id="id47">
<a class="reference internal image-reference" href="../_images/permanent_marker_one.png"><img alt="../_images/permanent_marker_one.png" src="../_images/permanent_marker_one.png" style="width: 400px;" /></a>
<figcaption>
<p><span class="caption-text">Plotting with permanent markers.</span><a class="headerlink" href="#id47" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Markers can be removed by deleting them from the metadata</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">marker</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">marker</span><span class="p">,</span> <span class="n">permanent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Markers</span>
<span class="go">└── point = &lt;marker.Point, point (x=5,y=9,color=black,size=20)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Markers</span><span class="o">.</span><span class="n">point</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Markers</span> <span class="c1"># Returns nothing</span>
</pre></div>
</div>
<p>To suppress plotting of permanent markers, use <cite>plot_markers=False</cite> when
calling <cite>s.plot</cite>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">marker</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">marker</span><span class="p">,</span> <span class="n">permanent</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">plot_marker</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">plot_markers</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>If the signal has a navigation dimension, the markers can be made to change
as a function of the navigation index. For a signal with 1 navigation axis:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">300</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">marker</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">point</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">marker</span><span class="p">,</span> <span class="n">permanent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id48">
<a class="reference internal image-reference" href="../_images/plot_markers_nav_index.gif"><img alt="../_images/plot_markers_nav_index.gif" src="../_images/plot_markers_nav_index.gif" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">Plotting with markers that change with the navigation index.</span><a class="headerlink" href="#id48" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Or for a signal with 2 navigation axes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">400</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">marker</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">point</span><span class="p">(((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">marker</span><span class="p">,</span> <span class="n">permanent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id49">
<a class="reference internal image-reference" href="../_images/plot_markers_2dnav_index.gif"><img alt="../_images/plot_markers_2dnav_index.gif" src="../_images/plot_markers_2dnav_index.gif" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">Plotting with markers that change with the two-dimensional navigation index.</span><a class="headerlink" href="#id49" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>This can be extended to 4 (or more) navigation dimensions:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1600</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">marker</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">marker</span><span class="p">,</span> <span class="n">permanent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2: </span><code class="docutils literal notranslate"><span class="pre">markers</span></code> keyword arguments can take an iterable in addition to single
marker.</p>
</div>
<p>If you want to add a large amount of markers at the same time we advise
to add them as an iterable (list, tuple, …), which will be much faster:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy.random</span> <span class="kn">import</span> <span class="n">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">300</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">markers</span> <span class="o">=</span> <span class="p">(</span><span class="n">hs</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">10</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)),</span>
<span class="gp">... </span>                            <span class="nb">tuple</span><span class="p">(</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">10</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)),</span>
<span class="gp">... </span>                            <span class="n">size</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">... </span>           <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">500</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">markers</span><span class="p">,</span> <span class="n">permanent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id50">
<a class="reference internal image-reference" href="../_images/plot_markers_2dnav_random_iter.gif"><img alt="../_images/plot_markers_2dnav_random_iter.gif" src="../_images/plot_markers_2dnav_random_iter.gif" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">Plotting many markers with an iterable so they change with the navigation
index.</span><a class="headerlink" href="#id50" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>This can also be done using different types of markers</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy.random</span> <span class="kn">import</span> <span class="n">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">300</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">markers</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">200</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">markers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hs</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">horizontal_line</span><span class="p">(</span>
<span class="gp">... </span>        <span class="nb">tuple</span><span class="p">(</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">10</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)),</span>
<span class="gp">... </span>        <span class="n">color</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
<span class="gp">... </span>    <span class="n">markers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hs</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">vertical_line</span><span class="p">(</span>
<span class="gp">... </span>        <span class="nb">tuple</span><span class="p">(</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">10</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)),</span>
<span class="gp">... </span>        <span class="n">color</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
<span class="gp">... </span>    <span class="n">markers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hs</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">point</span><span class="p">(</span>
<span class="gp">... </span>        <span class="nb">tuple</span><span class="p">(</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">10</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)),</span>
<span class="gp">... </span>        <span class="nb">tuple</span><span class="p">(</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">10</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)),</span>
<span class="gp">... </span>        <span class="n">color</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
<span class="gp">... </span>    <span class="n">markers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hs</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">x</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">10</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)),</span>
<span class="gp">... </span>        <span class="n">y</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">10</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)),</span>
<span class="gp">... </span>        <span class="n">text</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="s2">&quot;sometext&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">markers</span><span class="p">,</span> <span class="n">permanent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id51">
<a class="reference internal image-reference" href="../_images/plot_markers_2dnav_random_iter_many_types.gif"><img alt="../_images/plot_markers_2dnav_random_iter_many_types.gif" src="../_images/plot_markers_2dnav_random_iter_many_types.gif" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">Plotting many types of markers with an iterable so they change with the
navigation index.</span><a class="headerlink" href="#id51" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Permanent markers are stored in the HDF5 file if the signal is saved:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">marker</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_marker</span><span class="p">(</span><span class="n">marker</span><span class="p">,</span> <span class="n">plot_marker</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">permanent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Markers</span>
<span class="go">└── point = &lt;marker.Point, point (x=2,y=1,color=red,size=20)&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;storing_marker.hdf5&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;storing_marker.hdf5&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s1</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Markers</span>
<span class="go">└── point = &lt;hyperspy.drawing._markers.point.Point object at 0x7efcfadb06d8&gt;</span>
</pre></div>
</div>
</section>
<section id="supported-markers">
<h3>Supported markers<a class="headerlink" href="#supported-markers" title="Permalink to this headline"></a></h3>
<p>The markers currently supported in HyperSpy are:</p>
<table class="colwidths-given docutils align-default" id="id52">
<caption><span class="caption-text">List of supported markers, their signature and their corresponding matplotlib objects.</span><a class="headerlink" href="#id52" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 40%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>HyperSpy markers</p></th>
<th class="head"><p>Signature</p></th>
<th class="head"><p>Matplotlib objects</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="../api/hyperspy.drawing._markers.arrow.html#hyperspy.drawing._markers.arrow.Arrow" title="hyperspy.drawing._markers.arrow.Arrow"><code class="xref py py-class docutils literal notranslate"><span class="pre">Arrow</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x1,</span> <span class="pre">y1,</span> <span class="pre">x2,</span> <span class="pre">y2,</span> <span class="pre">**kwargs</span></code></p></td>
<td><p><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.patches.FancyArrowPatch.html#matplotlib.patches.FancyArrowPatch" title="(in Matplotlib v3.5.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.patches.FancyArrowPatch</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../api/hyperspy.drawing._markers.ellipse.html#hyperspy.drawing._markers.ellipse.Ellipse" title="hyperspy.drawing._markers.ellipse.Ellipse"><code class="xref py py-class docutils literal notranslate"><span class="pre">Ellipse</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x,</span> <span class="pre">y,</span> <span class="pre">width,</span> <span class="pre">height,</span> <span class="pre">**kwargs</span></code></p></td>
<td><p><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.patches.Ellipse.html#matplotlib.patches.Ellipse" title="(in Matplotlib v3.5.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.patches.Ellipse</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../api/hyperspy.drawing._markers.horizontal_line.html#hyperspy.drawing._markers.horizontal_line.HorizontalLine" title="hyperspy.drawing._markers.horizontal_line.HorizontalLine"><code class="xref py py-class docutils literal notranslate"><span class="pre">HorizontalLine</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">y,</span> <span class="pre">**kwargs</span></code></p></td>
<td><p><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.hlines.html#matplotlib.axes.Axes.hlines" title="(in Matplotlib v3.5.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.hlines()</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../api/hyperspy.drawing._markers.horizontal_line_segment.html#hyperspy.drawing._markers.horizontal_line_segment.HorizontalLineSegment" title="hyperspy.drawing._markers.horizontal_line_segment.HorizontalLineSegment"><code class="xref py py-class docutils literal notranslate"><span class="pre">HorizontalLineSegment</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x1,</span> <span class="pre">x2,</span> <span class="pre">y,</span> <span class="pre">**kwargs</span></code></p></td>
<td><p><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.hlines.html#matplotlib.axes.Axes.hlines" title="(in Matplotlib v3.5.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.hlines()</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../api/hyperspy.drawing._markers.line_segment.html#hyperspy.drawing._markers.line_segment.LineSegment" title="hyperspy.drawing._markers.line_segment.LineSegment"><code class="xref py py-class docutils literal notranslate"><span class="pre">LineSegment</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x1,</span> <span class="pre">y1,</span> <span class="pre">x2,</span> <span class="pre">y2,</span> <span class="pre">**kwargs</span></code></p></td>
<td><p><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.plot.html#matplotlib.axes.Axes.plot" title="(in Matplotlib v3.5.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.plot()</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../api/hyperspy.drawing._markers.point.html#hyperspy.drawing._markers.point.Point" title="hyperspy.drawing._markers.point.Point"><code class="xref py py-class docutils literal notranslate"><span class="pre">Point</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x1,</span> <span class="pre">y1,</span> <span class="pre">**kwargs</span></code></p></td>
<td><p><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.scatter.html#matplotlib.axes.Axes.scatter" title="(in Matplotlib v3.5.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.scatter()</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../api/hyperspy.drawing._markers.rectangle.html#hyperspy.drawing._markers.rectangle.Rectangle" title="hyperspy.drawing._markers.rectangle.Rectangle"><code class="xref py py-class docutils literal notranslate"><span class="pre">Rectangle</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x1,</span> <span class="pre">y1,</span> <span class="pre">x2,</span> <span class="pre">y2,</span> <span class="pre">**kwargs</span></code></p></td>
<td><p><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.patches.Rectangle.html#matplotlib.patches.Rectangle" title="(in Matplotlib v3.5.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.patches.Rectangle</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../api/hyperspy.drawing._markers.text.html#hyperspy.drawing._markers.text.Text" title="hyperspy.drawing._markers.text.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x,</span> <span class="pre">y,</span> <span class="pre">text,</span> <span class="pre">**kwargs</span></code></p></td>
<td><p><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.text.html#matplotlib.axes.Axes.text" title="(in Matplotlib v3.5.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.text()</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../api/hyperspy.drawing._markers.vertical_line.html#hyperspy.drawing._markers.vertical_line.VerticalLine" title="hyperspy.drawing._markers.vertical_line.VerticalLine"><code class="xref py py-class docutils literal notranslate"><span class="pre">VerticalLine</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x,</span> <span class="pre">**kwargs</span></code></p></td>
<td><p><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.axvline.html#matplotlib.axes.Axes.axvline" title="(in Matplotlib v3.5.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.axvline()</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../api/hyperspy.drawing._markers.vertical_line_segment.html#hyperspy.drawing._markers.vertical_line_segment.VerticalLineSegment" title="hyperspy.drawing._markers.vertical_line_segment.VerticalLineSegment"><code class="xref py py-class docutils literal notranslate"><span class="pre">VerticalLineSegment</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x,</span> <span class="pre">y1,</span> <span class="pre">y2,</span> <span class="pre">**kwargs</span></code></p></td>
<td><p><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.axvline.html#matplotlib.axes.Axes.axvline" title="(in Matplotlib v3.5.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.axvline()</span></code></a></p></td>
</tr>
</tbody>
</table>
</section>
<section id="marker-properties">
<h3>Marker properties<a class="headerlink" href="#marker-properties" title="Permalink to this headline"></a></h3>
<p>The optional parameters (<code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>, keyword arguments) can be used for extra parameters used in matplotlib.
(The <code class="docutils literal notranslate"><span class="pre">color</span></code> property in rectangle marker is an alias of <code class="docutils literal notranslate"><span class="pre">edgecolor</span></code> for backward compatibility)</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="signal2d.html" class="btn btn-neutral float-left" title="Signal2D Tools" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mva.html" class="btn btn-neutral float-right" title="Machine learning" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2011-2022, The HyperSpy development team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>