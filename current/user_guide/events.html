

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Events &mdash; HyperSpy 1.6.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/hyperspy.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/toggleprompt.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Working with big data" href="big_data.html" />
    <link rel="prev" title="Loading and saving data" href="io.html" />
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25260850-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> HyperSpy
          

          
            
            <img src="../_static/hyperspy_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.6.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">HyperSpy User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="what_is_new.html">What’s new</a></li>
<li class="toctree-l2"><a class="reference internal" href="what_is_new.html#changelog">Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html">Installing HyperSpy</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html">Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal.html">The Signal class</a></li>
<li class="toctree-l2"><a class="reference internal" href="interactive_operations_ROIs.html">Interactive Operations and Region of Interest (ROI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal1d.html">Signal1D Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal2d.html">Signal2D Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualisation.html">Data visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="mva.html">Machine learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html">Model fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="eels.html">Electron Energy Loss Spectroscopy</a></li>
<li class="toctree-l2"><a class="reference internal" href="eds.html">Energy-Dispersive X-ray Spectrometry (EDS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="dielectric_function.html">Dielectric function tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="electron_holography.html">Electron Holography</a></li>
<li class="toctree-l2"><a class="reference internal" href="io.html">Loading and saving data</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Events</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#connecting-to-events">Connecting to events</a></li>
<li class="toctree-l3"><a class="reference internal" href="#suppressing-events">Suppressing events</a></li>
<li class="toctree-l3"><a class="reference internal" href="#triggering-events">Triggering events</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="big_data.html">Working with big data</a></li>
<li class="toctree-l2"><a class="reference internal" href="metadata_structure.html">Metadata structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/modules.html">Full HyperSpy API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing HyperSpy</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HyperSpy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">HyperSpy User Guide</a> &raquo;</li>
        
      <li>Events</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/user_guide/events.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="events">
<span id="events-label"></span><h1>Events<a class="headerlink" href="#events" title="Permalink to this headline">¶</a></h1>
<p>Events are a mechanism to send notifications. HyperSpy events are
decentralised, meaning that there is not a central events dispatcher.
Instead, each object that can emit events has an <code class="xref py py-attr docutils literal notranslate"><span class="pre">events</span></code>
attribute that is an instance of <a class="reference internal" href="../api/hyperspy.events.html#hyperspy.events.Events" title="hyperspy.events.Events"><code class="xref py py-class docutils literal notranslate"><span class="pre">Events</span></code></a> and that contains
instances of  <a class="reference internal" href="../api/hyperspy.events.html#hyperspy.events.Event" title="hyperspy.events.Event"><code class="xref py py-class docutils literal notranslate"><span class="pre">Event</span></code></a> as attributes. When triggered the
first keyword argument, <cite>obj</cite> contains the object that the events belongs to.
Different events may be triggered by other keyword arguments too.</p>
<div class="section" id="connecting-to-events">
<h2>Connecting to events<a class="headerlink" href="#connecting-to-events" title="Permalink to this headline">¶</a></h2>
<p>The following example shows how to connect to the <cite>index_changed</cite> event of
<a class="reference internal" href="../api/hyperspy.axes.html#hyperspy.axes.DataAxis" title="hyperspy.axes.DataAxis"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataAxis</span></code></a> that is triggered with <cite>obj</cite> and <cite>index</cite> keywords:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nav_axis</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">navigation_axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nav_axis</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;x&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">on_index_changed</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;on_index_changed_called&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Axis name: &quot;</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Index: &quot;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nav_axis</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">index_changed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">on_index_changed</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">indices</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,)</span>
<span class="go">on_index_changed_called</span>
<span class="go">(&#39;Axis name: &#39;, &#39;x&#39;)</span>
<span class="go">(&#39;Index: &#39;, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">indices</span> <span class="o">=</span> <span class="p">(</span><span class="mi">9</span><span class="p">,)</span>
<span class="go">on_index_changed_called</span>
<span class="go">(&#39;Axis name: &#39;, &#39;x&#39;)</span>
<span class="go">(&#39;Index: &#39;, 9)</span>
</pre></div>
</div>
</div></blockquote>
<p>It is possible to select the keyword arguments that are passed to the
connected. For example, in the following only the <cite>index</cite> keyword argument is
passed to <cite>on_index_changed2</cite> and none to <cite>on_index_changed3</cite>:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">on_index_changed2</span><span class="p">(</span><span class="n">index</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;on_index_changed2_called&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Index: &quot;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nav_axis</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">index_changed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">on_index_changed2</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;index&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">indices</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,)</span>
<span class="go">on_index_changed_called</span>
<span class="go">(&#39;Axis name: &#39;, &#39;x&#39;)</span>
<span class="go">(&#39;Index: &#39;, 0)</span>
<span class="go">on_index_changed2_called</span>
<span class="go">(&#39;Index: &#39;, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">on_index_changed3</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;on_index_changed3_called&quot;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nav_axis</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">index_changed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">on_index_changed3</span><span class="p">,</span> <span class="p">[])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">indices</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>
<span class="go">on_index_changed_called</span>
<span class="go">(&#39;Axis name: &#39;, &#39;x&#39;)</span>
<span class="go">(&#39;Index: &#39;, 1)</span>
<span class="go">on_index_changed2_called</span>
<span class="go">(&#39;Index: &#39;, 1)</span>
<span class="go">on_index_changed3_called</span>
</pre></div>
</div>
</div></blockquote>
<p>It is also possible to map trigger keyword arguments to connected function
keyword arguments as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">on_index_changed4</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;on_index_changed4_called&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Index: &quot;</span><span class="p">,</span> <span class="n">arg</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nav_axis</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">index_changed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">on_index_changed4</span><span class="p">,</span>
<span class="gp">... </span>                                      <span class="p">{</span><span class="s2">&quot;index&quot;</span> <span class="p">:</span> <span class="s2">&quot;arg&quot;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">indices</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,)</span>
<span class="go">on_index_changed_called</span>
<span class="go">(&#39;Axis name: &#39;, &#39;x&#39;)</span>
<span class="go">(&#39;Index: &#39;, 4)</span>
<span class="go">on_index_changed2_called</span>
<span class="go">(&#39;Index: &#39;, 4)</span>
<span class="go">on_index_changed3_called</span>
<span class="go">on_index_changed4_called</span>
<span class="go">(&#39;Index: &#39;, 4)</span>
</pre></div>
</div>
</div>
<div class="section" id="suppressing-events">
<h2>Suppressing events<a class="headerlink" href="#suppressing-events" title="Permalink to this headline">¶</a></h2>
<p>The following example shows how to suppress single callbacks, all callbacks of
a given event and all callbacks of all events of an object.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">nav_axis</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">index_changed</span><span class="o">.</span><span class="n">suppress_callback</span><span class="p">(</span><span class="n">on_index_changed2</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">indices</span> <span class="o">=</span> <span class="p">(</span><span class="mi">7</span><span class="p">,)</span>
<span class="gp">...</span>
<span class="go">on_index_changed_called</span>
<span class="go">(&#39;Axis name: &#39;, &#39;x&#39;)</span>
<span class="go">(&#39;Index: &#39;, 7)</span>
<span class="go">on_index_changed3_called</span>
<span class="go">on_index_changed4_called</span>
<span class="go">(&#39;Index: &#39;, 7)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">nav_axis</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">index_changed</span><span class="o">.</span><span class="n">suppress</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">indices</span> <span class="o">=</span> <span class="p">(</span><span class="mi">6</span><span class="p">,)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">nav_axis</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">suppress</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">indices</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="p">,)</span>
<span class="gp">...</span>
</pre></div>
</div>
</div>
<div class="section" id="triggering-events">
<h2>Triggering events<a class="headerlink" href="#triggering-events" title="Permalink to this headline">¶</a></h2>
<p>Although usually there is no need to trigger events manually, there are
cases where it is required. When triggering events manually it is important
to pass the right keywords as specified in the event docstring. In the
following example we change the <code class="xref py py-attr docutils literal notranslate"><span class="pre">data</span></code> attribute of a
<a class="reference internal" href="../api/hyperspy.signal.html#hyperspy.signal.BaseSignal" title="hyperspy.signal.BaseSignal"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseSignal</span></code></a> manually and we then trigger the <cite>data_changed</cite>
event.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">Signal1D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">data</span><span class="p">[:]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">data_changed</span><span class="o">.</span><span class="n">trigger</span><span class="p">(</span><span class="n">obj</span><span class="o">=</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="big_data.html" class="btn btn-neutral float-right" title="Working with big data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="io.html" class="btn btn-neutral float-left" title="Loading and saving data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2011-2020, The HyperSpy development team

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>