

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>hyperspy.io_plugins.nexus module &mdash; HyperSpy 1.6.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/hyperspy.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/toggleprompt.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="hyperspy.io_plugins.phenom module" href="hyperspy.io_plugins.phenom.html" />
    <link rel="prev" title="hyperspy.io_plugins.netcdf module" href="hyperspy.io_plugins.netcdf.html" />
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25260850-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> HyperSpy
          

          
            
            <img src="../_static/hyperspy_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.6.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user_guide/index.html">HyperSpy User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/index.html">Developer Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Full HyperSpy API Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="hyperspy.html">hyperspy package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="hyperspy.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="hyperspy._components.html">hyperspy._components package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy._signals.html">hyperspy._signals package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.datasets.html">hyperspy.datasets package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.docstrings.html">hyperspy.docstrings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.drawing.html">hyperspy.drawing package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="hyperspy.io_plugins.html">hyperspy.io_plugins package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.learn.html">hyperspy.learn package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.misc.html">hyperspy.misc package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.models.html">hyperspy.models package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.samfire_utils.html">hyperspy.samfire_utils package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.utils.html">hyperspy.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing HyperSpy</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HyperSpy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">hyperspy</a> &raquo;</li>
        
          <li><a href="hyperspy.html">hyperspy package</a> &raquo;</li>
        
          <li><a href="hyperspy.io_plugins.html">hyperspy.io_plugins package</a> &raquo;</li>
        
      <li>hyperspy.io_plugins.nexus module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/hyperspy.io_plugins.nexus.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-hyperspy.io_plugins.nexus">
<span id="hyperspy-io-plugins-nexus-module"></span><h1>hyperspy.io_plugins.nexus module<a class="headerlink" href="#module-hyperspy.io_plugins.nexus" title="Permalink to this headline">¶</a></h1>
<p>Nexus file reading, writing and inspection.</p>
<dl class="py function">
<dt id="hyperspy.io_plugins.nexus._byte_to_string">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">_byte_to_string</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus._byte_to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Decode a byte string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<em>byte str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>decoded version of input value</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hyperspy.io_plugins.nexus._check_search_keys">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">_check_search_keys</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">search_keys</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus._check_search_keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="hyperspy.io_plugins.nexus._extract_hdf_dataset">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">_extract_hdf_dataset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">dataset</span></em>, <em class="sig-param"><span class="n">lazy</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus._extract_hdf_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Import data from hdf path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>group</strong> (<em>hdf group</em>) – group from which to load the dataset</p></li>
<li><p><strong>dataset</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – path to the dataset within the group</p></li>
<li><p><strong>lazy</strong> (<em>bool {default:True}</em>) – If true use lazy opening, if false read into memory</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dask or numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hyperspy.io_plugins.nexus._find_data">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">_find_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">search_keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">hardlinks_only</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus._find_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Read from a nexus or hdf file and return a list of the dataset entries.</p>
<p>The method iterates through group attributes and returns NXdata or
hdf datasets of size &gt;=2 if they’re not already NXdata blocks
and returns a list of the entries
This is a convenience method to inspect a file to see which datasets
are present rather than loading all the sets in the file as signals
h5py.visit or visititems does not visit soft
links or external links so an implementation of a recursive
search is required. See <a class="reference external" href="https://github.com/h5py/h5py/issues/671">https://github.com/h5py/h5py/issues/671</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>group</strong> (<em>hdf group</em><em> or </em><em>File</em>) – </p></li>
<li><p><strong>search_keys</strong> (<em>string</em><em>, </em><em>list of strings</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em>, </em><em>default: None</em>) – Only return items which contain the strings
.e.g search_list = [“instrument”,”Fe”] will return
hdf entries with instrument or Fe in their hdf path.</p></li>
<li><p><strong>hardlinks_only</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> , </em><em>default : False</em>) – Option to ignore links (soft or External) within the file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>nx_dataset_list is a list of all NXdata paths
hdf_dataset_list is a list of all hdf_datasets not linked to an
NXdata set.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>nx_dataset_list, hdf_dataset_list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hyperspy.io_plugins.nexus._find_search_keys_in_dict">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">_find_search_keys_in_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tree</span></em>, <em class="sig-param"><span class="n">search_keys</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus._find_search_keys_in_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Search through a dict for search keys.</p>
<p>This is a convenience method to inspect a file for a value
rather than loading the file as a signal</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tree</strong> (<em>h5py File object</em>) – </p></li>
<li><p><strong>search_keys</strong> (<em>string</em><em> or </em><em>list of strings</em>) – Only return items which contain the strings
.e.g search_keys = [“instrument”,”Fe”] will return
hdf entries with instrument or Fe in their hdf path.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>When search_list is specified only full paths
containing one or more search_keys will be returned</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hyperspy.io_plugins.nexus._fix_exclusion_keys">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">_fix_exclusion_keys</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus._fix_exclusion_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Exclude hyperspy specific keys.</p>
<p>Signal and DictionaryBrowser break if a
a key is a dict method - e.g. {“keys”:2.0}.</p>
<p>This method prepends the key with “<a href="#id1"><span class="problematic" id="id2">fix_</span></a>” so the information is
still present to work around this issue</p>
<p>key : str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hyperspy.io_plugins.nexus._getlink">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">_getlink</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">h5group</span></em>, <em class="sig-param"><span class="n">rootkey</span></em>, <em class="sig-param"><span class="n">key</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus._getlink" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the link target path.</p>
<p>If a hdf group is a soft link or has a target attribute
this method will return the target path. If no link is found
return None.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Soft link path if it exists, otherwise None</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hyperspy.io_plugins.nexus._is_int">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">_is_int</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus._is_int" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that s in an integer.</p>
<p>s : python object to test</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True or False</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hyperspy.io_plugins.nexus._is_linear_axis">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">_is_linear_axis</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus._is_linear_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the data is linearly incrementing.</p>
<p>data : dask or numpy array</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True or False</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hyperspy.io_plugins.nexus._is_numeric_data">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">_is_numeric_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus._is_numeric_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that data contains numeric data.</p>
<p>data : dask or numpy array</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True or False</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hyperspy.io_plugins.nexus._load_metadata">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">_load_metadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">lazy</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus._load_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Search through a hdf group and return the group structure.</p>
<p>h5py.visit or visititems does not visit soft
links or external links so an implementation of a recursive
search is required. See <a class="reference external" href="https://github.com/h5py/h5py/issues/671">https://github.com/h5py/h5py/issues/671</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>group</strong> (<em>hdf group</em>) – location to load the metadata from</p></li>
<li><p><strong>lazy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> , </em><em>default : False</em>) – Option for lazy loading</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dictionary of group contents</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hyperspy.io_plugins.nexus._nexus_dataset_to_signal">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">_nexus_dataset_to_signal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">nexus_dataset_path</span></em>, <em class="sig-param"><span class="n">lazy</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus._nexus_dataset_to_signal" title="Permalink to this definition">¶</a></dt>
<dd><p>Load an NXdata set as a hyperspy signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>group</strong> (<em>hdf group containing the NXdata</em>) – </p></li>
<li><p><strong>nexus_data_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Path to the NXdata set in the group</p></li>
<li><p><strong>lazy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>default : True</em>) – lazy loading of data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A signal dictionary which can be used to instantiate a signal.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hyperspy.io_plugins.nexus._parse_from_file">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">_parse_from_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">lazy</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus._parse_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>To convert values from the hdf file to compatible formats.</p>
<p>When reading string arrays we convert or keep string arrays as
byte_strings (some io_plugins only supports byte-strings arrays so this
ensures inter-compatibility across io_plugins)
Arrays of length 1 - return the single value stored.
Large datasets are returned as dask arrays if lazy=True.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>input read from hdf file</em><em> (</em><em>array</em><em>,</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a><em>,</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)"><em>tuple</em></a><em>,</em><em>string</em><em>,</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>,</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em>)</em>) – </p></li>
<li><p><strong>lazy</strong> (<em>bool  {default: False}</em>) – The lazy flag is only applied to values of size &gt;=2</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>parsed value.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a>,<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)">float</a>, ndarray dask Array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hyperspy.io_plugins.nexus._parse_to_file">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">_parse_to_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus._parse_to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to a suitable format for writing to HDF5.</p>
<p>For example unicode values are not compatible with hdf5 so conversion to
byte strings is required.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>- input object to write to the hdf file</strong> (<em>value</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>parsed value</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hyperspy.io_plugins.nexus._text_split">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">_text_split</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">sep</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus._text_split" title="Permalink to this definition">¶</a></dt>
<dd><p>Split a string based of list of seperators.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – </p></li>
<li><p><strong>sep</strong> (<em>str  - seperator</em><em> or </em><em>list of seperators e.g. '.'</em><em> or </em><em>[</em><em>'_'</em><em>,</em><em>'/'</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>String sections split based on the seperators</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hyperspy.io_plugins.nexus._write_nexus_attr">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">_write_nexus_attr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dictionary</span></em>, <em class="sig-param"><span class="n">group</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus._write_nexus_attr" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively iterate through dictionary and write “attrs” dictionaries.</p>
<p>This step is called after the groups and datasets have been created</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dictionary</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – Input dictionary to be written to the hdf group</p></li>
<li><p><strong>group</strong> (<em>hdf group</em>) – location to store the attrs sections of the dictionary</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hyperspy.io_plugins.nexus._write_nexus_groups">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">_write_nexus_groups</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dictionary</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus._write_nexus_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively iterate throuh dictionary and write groups to nexus.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dictionary</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – dictionary contents to store to hdf group</p></li>
<li><p><strong>group</strong> (<em>hdf group</em>) – location to store dictionary</p></li>
<li><p><strong>**kwds</strong> (<em>additional keywords</em>) – additional keywords to pass to h5py.create_dataset method</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hyperspy.io_plugins.nexus._write_signal">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">_write_signal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">signal</span></em>, <em class="sig-param"><span class="n">nxgroup</span></em>, <em class="sig-param"><span class="n">signal_name</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus._write_signal" title="Permalink to this definition">¶</a></dt>
<dd><p>Store the signal data as an NXdata dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal</strong> (<em>Hyperspy signal</em>) – </p></li>
<li><p><strong>nxgroup</strong> (<em>HDF group</em>) – Entry at which to save signal data</p></li>
<li><p><strong>signal_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name  under which to store the signal entry in the file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hyperspy.io_plugins.nexus.file_reader">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">file_reader</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">lazy</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">dataset_keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metadata_keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nxdata_only</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">hardlinks_only</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">use_default</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus.file_reader" title="Permalink to this definition">¶</a></dt>
<dd><p>Read NXdata class or hdf datasets from a file and return signal(s).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Loading all datasets can result in a large number of signals
Please review your datasets and use the dataset_keys to target
the datasets of interest.
“keys” is a special keywords and prepended with “fix” in the metadata
structure to avoid any issues.</p>
<p>Datasets are all arrays with size&gt;2 (arrays, lists)</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Input filename</p></li>
<li><p><strong>dataset_keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>list of strings</em><em>, </em><em>default : None</em>) – If None all datasets are returned.
If a string or list of strings is provided only items
whose path contain the string(s) are returned. For example
dataset_keys = [“instrument”, “Fe”] will return
data entries with instrument or Fe in their hdf path.</p></li>
<li><p><strong>metadata_keys</strong> (<em>: None</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>list of strings</em><em>, </em><em>default : None</em>) – Only return items from the original metadata whose path contain the
strings .e.g metadata_keys = [“instrument”, “Fe”] will return
all metadata entries with “instrument” or “Fe” in their hdf path.</p></li>
<li><p><strong>nxdata_only</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>default : False</em>) – If True only NXdata will be converted into a signal
if False NXdata and any hdf datasets will be loaded as signals</p></li>
<li><p><strong>hardlinks_only</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>default : False</em>) – If True any links (soft or External) will be ignored when loading.</p></li>
<li><p><strong>use_default</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>default : False</em>) – If True and a default NXdata is defined in the file load this as a
signal. This will ignore the other keyword options. If True and no
default is defined the file will be loaded according to
the keyword options.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dict</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>signal dictionary or list of signal dictionaries</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">list_datasets_in_file()</span></code></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_metadata_from_file()</span></code></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt id="hyperspy.io_plugins.nexus.file_writer">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">file_writer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">signals</span></em>, <em class="sig-param"><span class="n">save_original_metadata</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">use_default</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus.file_writer" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the signal and metadata as a nexus file.</p>
<p>This will save the signal in NXdata format in the file.
As the form of the metadata can vary and is not validated it will
be stored as an NXcollection (an unvalidated collection)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Path of the file to write</p></li>
<li><p><strong>signals</strong> (<em>signal</em><em> or </em><em>list of signals</em>) – Signal(s) to be written</p></li>
<li><p><strong>save_original_metadata</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> , </em><em>default : False</em>) – Option to save hyperspy.original_metadata with the signal.
A loaded Nexus file may have a large amount of data
when loaded which you may wish to omit on saving</p></li>
<li><p><strong>use_default</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em> , </em><em>default : False</em>) – Option to define the default dataset in the file.
If set to True the signal or first signal in the list of signals
will be defined as the default (following Nexus v3 data rules).</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">file_reader()</span></code></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">list_datasets_in_file()</span></code></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_metadata_from_file()</span></code></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt id="hyperspy.io_plugins.nexus.list_datasets_in_file">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">list_datasets_in_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">dataset_keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">hardlinks_only</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus.list_datasets_in_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read from a nexus or hdf file and return a list of the dataset paths.</p>
<p>This method is used to inspect the contents of a Nexus file.
The method iterates through group attributes and returns NXdata or
hdf datasets of size &gt;=2 if they’re not already NXdata blocks
and returns a list of the entries.
This is a convenience method to inspect a file to list datasets
present rather than loading all the datasets in the file as signals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – path of the file to read</p></li>
<li><p><strong>dataset_keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>list of strings</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em> , </em><em>default: None</em>) – If a str or list of strings is provided only return items whose
path contain the strings.
For example, dataset_keys = [“instrument”, “Fe”] will only return
hdf entries with “instrument” or “Fe” somewhere in their hdf path.</p></li>
<li><p><strong>hardlinks_only</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>default : False</em>) – If true any links (soft or External) will be ignored when loading.</p></li>
<li><p><strong>verbose</strong> (<em>boolean</em><em>, </em><em>default : True</em>) – Prints the results to screen</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of paths to datasets</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">file_reader()</span></code></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">file_writer()</span></code></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">read_metadata_from_file()</span></code></p></li>
</ul>
</div>
</dd></dl>

<dl class="py function">
<dt id="hyperspy.io_plugins.nexus.read_metadata_from_file">
<code class="sig-prename descclassname">hyperspy.io_plugins.nexus.</code><code class="sig-name descname">read_metadata_from_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">metadata_keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lazy</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy.io_plugins.nexus.read_metadata_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the metadata from a nexus or hdf file.</p>
<p>This method iterates through the file and returns a dictionary of
the entries.
This is a convenience method to inspect a file for a value
rather than loading the file as a signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – path of the file to read</p></li>
<li><p><strong>metadata_keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em>,</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em> or </em><em>list_of_strings</em><em> , </em><em>default : None</em>) – None will return all datasets found including linked data.
Providing a string or list of strings will only return items
which contain the string(s).
For example, search_keys = [“instrument”,”Fe”] will return
hdf entries with “instrument” or “Fe” in their hdf path.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>default : False</em>) – Pretty Print the results to screen</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Metadata dictionary.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">file_reader()</span></code></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">file_writer()</span></code></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">list_datasets_in_file()</span></code></p></li>
</ul>
</div>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="hyperspy.io_plugins.phenom.html" class="btn btn-neutral float-right" title="hyperspy.io_plugins.phenom module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="hyperspy.io_plugins.netcdf.html" class="btn btn-neutral float-left" title="hyperspy.io_plugins.netcdf module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2011-2020, The HyperSpy development team

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>