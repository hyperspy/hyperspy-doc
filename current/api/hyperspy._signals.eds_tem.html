

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>hyperspy._signals.eds_tem module &mdash; HyperSpy 1.6.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/hyperspy.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/toggleprompt.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="hyperspy._signals.eels module" href="hyperspy._signals.eels.html" />
    <link rel="prev" title="hyperspy._signals.eds_sem module" href="hyperspy._signals.eds_sem.html" />
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25260850-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> HyperSpy
          

          
            
            <img src="../_static/hyperspy_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.6.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user_guide/index.html">HyperSpy User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/index.html">Developer Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Full HyperSpy API Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="hyperspy.html">hyperspy package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="hyperspy.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="hyperspy._components.html">hyperspy._components package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="hyperspy._signals.html">hyperspy._signals package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.datasets.html">hyperspy.datasets package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.docstrings.html">hyperspy.docstrings package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.drawing.html">hyperspy.drawing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.io_plugins.html">hyperspy.io_plugins package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.learn.html">hyperspy.learn package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.misc.html">hyperspy.misc package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.models.html">hyperspy.models package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.samfire_utils.html">hyperspy.samfire_utils package</a></li>
<li class="toctree-l4"><a class="reference internal" href="hyperspy.utils.html">hyperspy.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="hyperspy.html#module-hyperspy">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing HyperSpy</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HyperSpy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">hyperspy</a> &raquo;</li>
        
          <li><a href="hyperspy.html">hyperspy package</a> &raquo;</li>
        
          <li><a href="hyperspy._signals.html">hyperspy._signals package</a> &raquo;</li>
        
      <li>hyperspy._signals.eds_tem module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/hyperspy._signals.eds_tem.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-hyperspy._signals.eds_tem">
<span id="hyperspy-signals-eds-tem-module"></span><h1>hyperspy._signals.eds_tem module<a class="headerlink" href="#module-hyperspy._signals.eds_tem" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="hyperspy._signals.eds_tem.EDSTEMParametersUI">
<em class="property">class </em><code class="sig-prename descclassname">hyperspy._signals.eds_tem.</code><code class="sig-name descname">EDSTEMParametersUI</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">signal</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEMParametersUI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="hyperspy.signal.html#hyperspy.signal.BaseSetMetadataItems" title="hyperspy.signal.BaseSetMetadataItems"><code class="xref py py-class docutils literal notranslate"><span class="pre">hyperspy.signal.BaseSetMetadataItems</span></code></a></p>
<dl class="py method">
<dt id="hyperspy._signals.eds_tem.EDSTEMParametersUI.gui">
<code class="sig-name descname">gui</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">display</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">toolkit</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEMParametersUI.gui" title="Permalink to this definition">¶</a></dt>
<dd><p>Display or return interactive GUI element if available.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>display</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – If True, display the user interface widgets. If False, return the
widgets container in a dictionary, usually for customisation or
testing.</p></li>
<li><p><strong>toolkit</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>iterable of strings</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a>) – If None (default), all available widgets are displayed or returned.
If string, only the widgets of the selected toolkit are displayed
if available. If an interable of toolkit strings, the widgets of
all listed toolkits are displayed or returned.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="hyperspy._signals.eds_tem.EDSTEMParametersUI.mapping">
<code class="sig-name descname">mapping</code><em class="property"> = {'Acquisition_instrument.TEM.Detector.EDS.azimuth_angle': 'azimuth_angle', 'Acquisition_instrument.TEM.Detector.EDS.elevation_angle': 'elevation_angle', 'Acquisition_instrument.TEM.Detector.EDS.energy_resolution_MnKa': 'energy_resolution_MnKa', 'Acquisition_instrument.TEM.Detector.EDS.live_time': 'live_time', 'Acquisition_instrument.TEM.Detector.EDS.real_time': 'real_time', 'Acquisition_instrument.TEM.Stage.tilt_alpha': 'tilt_stage', 'Acquisition_instrument.TEM.beam_current': 'beam_current', 'Acquisition_instrument.TEM.beam_energy': 'beam_energy', 'Acquisition_instrument.TEM.probe_area': 'probe_area'}</em><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEMParametersUI.mapping" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="hyperspy._signals.eds_tem.EDSTEMSpectrum">
<em class="property">class </em><code class="sig-prename descclassname">hyperspy._signals.eds_tem.</code><code class="sig-name descname">EDSTEMSpectrum</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwards</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEMSpectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hyperspy._signals.eds_tem.EDSTEM_mixin" title="hyperspy._signals.eds_tem.EDSTEM_mixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">hyperspy._signals.eds_tem.EDSTEM_mixin</span></code></a>, <a class="reference internal" href="hyperspy._signals.eds.html#hyperspy._signals.eds.EDSSpectrum" title="hyperspy._signals.eds.EDSSpectrum"><code class="xref py py-class docutils literal notranslate"><span class="pre">hyperspy._signals.eds.EDSSpectrum</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="hyperspy._signals.eds_tem.EDSTEM_mixin">
<em class="property">class </em><code class="sig-prename descclassname">hyperspy._signals.eds_tem.</code><code class="sig-name descname">EDSTEM_mixin</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwards</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEM_mixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt id="hyperspy._signals.eds_tem.EDSTEM_mixin.CL_get_mass_thickness">
<em class="property">static </em><code class="sig-name descname">CL_get_mass_thickness</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">weight_percent</span></em>, <em class="sig-param"><span class="n">thickness</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEM_mixin.CL_get_mass_thickness" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a array of mass_thickness based on a known material composition
and measured thickness. Required for absorption correction calcultions
using the Cliff Lorimer method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>weight_percent</strong> (<a class="reference internal" href="hyperspy.signal.html#hyperspy.signal.BaseSignal" title="hyperspy.signal.BaseSignal"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseSignal</span></code></a> (or subclass)) – Stack of compositions as determined from an initial k_factor
quantification.</p></li>
<li><p><strong>thickness</strong> (float or <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>) – Either a float value for thickness in nm or an array equal to the
size of the EDX map with thickness at each position of the sample.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>mass_thickness</strong> – Mass thickness in kg/m².</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="hyperspy._signals.eds_tem.EDSTEM_mixin._are_microscope_parameters_missing">
<code class="sig-name descname">_are_microscope_parameters_missing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEM_mixin._are_microscope_parameters_missing" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the EDS parameters necessary for quantification are
defined in metadata.</p>
</dd></dl>

<dl class="py method">
<dt id="hyperspy._signals.eds_tem.EDSTEM_mixin._get_dose">
<code class="sig-name descname">_get_dose</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">method</span></em>, <em class="sig-param"><span class="n">beam_current</span><span class="o">=</span><span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">live_time</span><span class="o">=</span><span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">probe_area</span><span class="o">=</span><span class="default_value">'auto'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEM_mixin._get_dose" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the total electron dose for the zeta-factor or cross section
methods of quantification.</p>
<p>Input given by i*t*N, i the current, t the
acquisition time, and N the number of electron by unit electric charge.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>'zeta'</em><em> or </em><em>'cross_section'</em>) – If ‘zeta’, the dose is given by i*t*N
If ‘cross section’, the dose is given by i*t*N/A
where i is the beam current, t is the acquistion time,
N is the number of electrons per unit charge (1/e) and
A is the illuminated beam area or pixel area.</p></li>
<li><p><strong>beam_current</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – Probe current in nA</p></li>
<li><p><strong>live_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – Acquisiton time in s, compensated for the dead time of the detector.</p></li>
<li><p><strong>probe_area</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em> or </em><em>'auto'</em>) – The illumination area of the electron beam in nm².
If ‘auto’ the value is extracted from the scale axes_manager.
Therefore we assume the probe is oversampling such that
the illumination area can be approximated to the pixel area of the
spectrum image.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dose in electrons (zeta factor) or electrons per nm² (cross_section)</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#hyperspy._signals.eds_tem.EDSTEM_mixin.set_microscope_parameters" title="hyperspy._signals.eds_tem.EDSTEM_mixin.set_microscope_parameters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_microscope_parameters</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="hyperspy._signals.eds_tem.EDSTEM_mixin._set_default_param">
<code class="sig-name descname">_set_default_param</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEM_mixin._set_default_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to value to default (defined in preferences)</p>
</dd></dl>

<dl class="py attribute">
<dt id="hyperspy._signals.eds_tem.EDSTEM_mixin._signal_type">
<code class="sig-name descname">_signal_type</code><em class="property"> = 'EDS_TEM'</em><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEM_mixin._signal_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="hyperspy._signals.eds_tem.EDSTEM_mixin.create_model">
<code class="sig-name descname">create_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">auto_background</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">auto_add_lines</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEM_mixin.create_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a model for the current TEM EDS data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>auto_background</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>default True</em>) – If True, adds automatically a polynomial order 6 to the model,
using the edsmodel.add_polynomial_background method.</p></li>
<li><p><strong>auto_add_lines</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>default True</em>) – If True, automatically add Gaussians for all X-rays generated in
the energy range by an element using the edsmodel.add_family_lines
method.</p></li>
<li><p><strong>dictionary</strong> (<em>{None</em><em>, </em><em>dict}</em><em>, </em><em>optional</em>) – A dictionary to be used to recreate a model. Usually generated
using <code class="xref py py-meth docutils literal notranslate"><span class="pre">hyperspy.model.as_dictionary()</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>model</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>EDSTEMModel</cite> instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="hyperspy._signals.eds_tem.EDSTEM_mixin.decomposition">
<code class="sig-name descname">decomposition</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">normalize_poissonian_noise</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">navigation_mask</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">closing</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEM_mixin.decomposition" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a decomposition to a dataset with a choice of algorithms.</p>
<p>The results are stored in <code class="docutils literal notranslate"><span class="pre">self.learning_results</span></code>.</p>
<p>Read more in the <a class="reference internal" href="../user_guide/mva.html#mva-decomposition"><span class="std std-ref">User Guide</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>normalize_poissonian_noise</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>default True</em>) – If True, scale the signal to normalize Poissonian noise using
the approach described in <a class="reference internal" href="hyperspy.learn.mva.html#keenan2004" id="id1"><span>[Keenan2004]</span></a>.</p></li>
<li><p><strong>navigation_mask</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em> or </em><em>boolean numpy array</em><em>, </em><em>default 1.0</em>) – The navigation locations marked as True are not used in the
decomposition. If float is given the vacuum_mask method is used to
generate a mask with the float value as threshold.</p></li>
<li><p><strong>closing</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>default True</em>) – If true, applied a morphologic closing to the mask obtained by
vacuum_mask.</p></li>
<li><p><strong>algorithm</strong> (<em>{&quot;SVD&quot;</em><em>, </em><em>&quot;MLPCA&quot;</em><em>, </em><em>&quot;sklearn_pca&quot;</em><em>, </em><em>&quot;NMF&quot;</em><em>, </em><em>&quot;sparse_pca&quot;</em><em>, </em><em>&quot;mini_batch_sparse_pca&quot;</em><em>, </em><em>&quot;RPCA&quot;</em><em>, </em><em>&quot;ORPCA&quot;</em><em>, </em><em>&quot;ORNMF&quot;</em><em>, </em><em>custom object}</em><em>, </em><em>default &quot;SVD&quot;</em>) – The decomposition algorithm to use. If algorithm is an object,
it must implement a <code class="docutils literal notranslate"><span class="pre">fit_transform()</span></code> method or <code class="docutils literal notranslate"><span class="pre">fit()</span></code> and
<code class="docutils literal notranslate"><span class="pre">transform()</span></code> methods, in the same manner as a scikit-learn estimator.</p></li>
<li><p><strong>output_dimension</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – Number of components to keep/calculate.
Default is None, i.e. <code class="docutils literal notranslate"><span class="pre">min(data.shape)</span></code>.</p></li>
<li><p><strong>centre</strong> (<em>{None</em><em>, </em><em>&quot;navigation&quot;</em><em>, </em><em>&quot;signal&quot;}</em><em>, </em><em>default None</em>) – <ul>
<li><p>If None, the data is not centered prior to decomposition.</p></li>
<li><p>If “navigation”, the data is centered along the navigation axis.
Only used by the “SVD” algorithm.</p></li>
<li><p>If “signal”, the data is centered along the signal axis.
Only used by the “SVD” algorithm.</p></li>
</ul>
</p></li>
<li><p><strong>auto_transpose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>default True</em>) – If True, automatically transposes the data to boost performance.
Only used by the “SVD” algorithm.</p></li>
<li><p><strong>signal_mask</strong> (<em>boolean numpy array</em>) – The signal locations marked as True are not used in the
decomposition.</p></li>
<li><p><strong>var_array</strong> (<em>numpy array</em>) – Array of variance for the maximum likelihood PCA algorithm.
Only used by the “MLPCA” algorithm.</p></li>
<li><p><strong>var_func</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em> or </em><em>function</em><em> or </em><em>numpy array</em><em>, </em><em>default None</em>) – <ul>
<li><p>If None, ignored</p></li>
<li><p>If function, applies the function to the data to obtain <code class="docutils literal notranslate"><span class="pre">var_array</span></code>.
Only used by the “MLPCA” algorithm.</p></li>
<li><p>If numpy array, creates <code class="docutils literal notranslate"><span class="pre">var_array</span></code> by applying a polynomial function
defined by the array of coefficients to the data. Only used by
the “MLPCA” algorithm.</p></li>
</ul>
</p></li>
<li><p><strong>reproject</strong> (<em>{None</em><em>, </em><em>&quot;signal&quot;</em><em>, </em><em>&quot;navigation&quot;</em><em>, </em><em>&quot;both&quot;}</em><em>, </em><em>default None</em>) – If not None, the results of the decomposition will be projected in
the selected masked area.</p></li>
<li><p><strong>return_info</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>default False</em>) – The result of the decomposition is stored internally. However,
some algorithms generate some extra information that is not
stored. If True, return any extra information if available.
In the case of sklearn.decomposition objects, this includes the
sklearn Estimator object.</p></li>
<li><p><strong>print_info</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>default True</em>) – If True, print information about the decomposition being performed.
In the case of sklearn.decomposition objects, this includes the
values of all arguments of the chosen sklearn algorithm.</p></li>
<li><p><strong>svd_solver</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>&quot;full&quot;</em><em>, </em><em>&quot;arpack&quot;</em><em>, </em><em>&quot;randomized&quot;}</em><em>, </em><em>default &quot;auto&quot;</em>) – <dl class="simple">
<dt>If auto:</dt><dd><p>The solver is selected by a default policy based on <cite>data.shape</cite> and
<cite>output_dimension</cite>: if the input data is larger than 500x500 and the
number of components to extract is lower than 80% of the smallest
dimension of the data, then the more efficient “randomized”
method is enabled. Otherwise the exact full SVD is computed and
optionally truncated afterwards.</p>
</dd>
<dt>If full:</dt><dd><p>run exact SVD, calling the standard LAPACK solver via
<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.linalg.svd.html#scipy.linalg.svd" title="(in SciPy v1.5.4)"><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.linalg.svd()</span></code></a>, and select the components by postprocessing</p>
</dd>
<dt>If arpack:</dt><dd><p>use truncated SVD, calling ARPACK solver via
<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.linalg.svds.html#scipy.sparse.linalg.svds" title="(in SciPy v1.5.4)"><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.sparse.linalg.svds()</span></code></a>. It requires strictly
<cite>0 &lt; output_dimension &lt; min(data.shape)</cite></p>
</dd>
<dt>If randomized:</dt><dd><p>use truncated SVD, calling <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.utils.extmath.randomized_svd.html#sklearn.utils.extmath.randomized_svd" title="(in scikit-learn v0.23)"><code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.utils.extmath.randomized_svd()</span></code></a>
to estimate a limited number of components</p>
</dd>
</dl>
</p></li>
<li><p><strong>copy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>default True</em>) – <ul>
<li><p>If True, stores a copy of the data before any pre-treatments
such as normalization in <code class="docutils literal notranslate"><span class="pre">s._data_before_treatments</span></code>. The original
data can then be restored by calling <code class="docutils literal notranslate"><span class="pre">s.undo_treatments()</span></code>.</p></li>
<li><p>If False, no copy is made. This can be beneficial for memory
usage, but care must be taken since data will be overwritten.</p></li>
</ul>
</p></li>
<li><p><strong>**kwargs</strong> (<em>extra keyword arguments</em>) – Any keyword arguments are passed to the decomposition algorithm.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">si</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">s</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">si</span><span class="o">.</span><span class="n">change_dtype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">si</span><span class="o">.</span><span class="n">decomposition</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#hyperspy._signals.eds_tem.EDSTEM_mixin.vacuum_mask" title="hyperspy._signals.eds_tem.EDSTEM_mixin.vacuum_mask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">vacuum_mask</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="hyperspy._signals.eds_tem.EDSTEM_mixin.get_calibration_from">
<code class="sig-name descname">get_calibration_from</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ref</span></em>, <em class="sig-param"><span class="n">nb_pix</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEM_mixin.get_calibration_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy the calibration and all metadata of a reference.</p>
<p>Primary use: To add a calibration to ripple file from INCA
software</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ref</strong> (<em>signal</em>) – The reference contains the calibration in its
metadata</p></li>
<li><p><strong>nb_pix</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The live time (real time corrected from the “dead time”)
is divided by the number of pixel (spectrums), giving an
average live time.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ref</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">EDSTEMSpectrum</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scale</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">get_calibration_from</span><span class="p">(</span><span class="n">ref</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">axes_manager</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scale</span><span class="p">)</span>
<span class="go">1.0</span>
<span class="go">0.020028</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hyperspy._signals.eds_tem.EDSTEM_mixin.get_probe_area">
<code class="sig-name descname">get_probe_area</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">navigation_axes</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEM_mixin.get_probe_area" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates a pixel area which can be approximated to probe area,
when the beam is larger than or equal to pixel size.
The probe area can be calculated only when the number of navigation
dimension are less than 2 and all the units have the dimensions of
length.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>navigation_axes</strong> (<a class="reference internal" href="hyperspy.axes.html#hyperspy.axes.DataAxis" title="hyperspy.axes.DataAxis"><em>DataAxis</em></a><em>, </em><em>string</em><em> or </em><em>integer</em><em> (or </em><em>list of</em><em>)</em>) – Navigation axes corresponding to the probe area. If string or
integer, the provided value is used to index the <code class="docutils literal notranslate"><span class="pre">axes_manager</span></code>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>probe area in nm².</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">si</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">s</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">si</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">navigation_axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scale</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">si</span><span class="o">.</span><span class="n">axes_manager</span><span class="o">.</span><span class="n">navigation_axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;μm&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">si</span><span class="o">.</span><span class="n">get_probe_area</span><span class="p">()</span>
<span class="go">100.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hyperspy._signals.eds_tem.EDSTEM_mixin.quantification">
<code class="sig-name descname">quantification</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">intensities</span></em>, <em class="sig-param"><span class="n">method</span></em>, <em class="sig-param"><span class="n">factors</span></em>, <em class="sig-param"><span class="n">composition_units</span><span class="o">=</span><span class="default_value">'atomic'</span></em>, <em class="sig-param"><span class="n">absorption_correction</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">take_off_angle</span><span class="o">=</span><span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">thickness</span><span class="o">=</span><span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">convergence_criterion</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">navigation_mask</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">closing</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">plot_result</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">probe_area</span><span class="o">=</span><span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">max_iterations</span><span class="o">=</span><span class="default_value">30</span></em>, <em class="sig-param"><span class="n">show_progressbar</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEM_mixin.quantification" title="Permalink to this definition">¶</a></dt>
<dd><p>Absorption corrected quantification using Cliff-Lorimer, the zeta-factor
method, or ionization cross sections. The function iterates through
quantification function until two successive interations don’t change
the final composition by a defined percentage critera (0.5% by default).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>intensities</strong> (<em>list of signal</em>) – the intensitiy for each X-ray lines.</p></li>
<li><p><strong>method</strong> (<em>{'CL'</em><em>, </em><em>'zeta'</em><em>, </em><em>'cross_section'}</em>) – Set the quantification method: Cliff-Lorimer, zeta-factor, or
ionization cross sections.</p></li>
<li><p><strong>factors</strong> (<em>list of float</em>) – The list of kfactors, zeta-factors or cross sections in same order
as intensities. Note that intensities provided by Hyperspy are
sorted by the alphabetical order of the X-ray lines.
eg. factors =[0.982, 1.32, 1.60] for [‘Al_Ka’, ‘Cr_Ka’, ‘Ni_Ka’].</p></li>
<li><p><strong>composition_units</strong> (<em>{'atomic'</em><em>, </em><em>'weight'}</em>) – The quantification returns the composition in ‘atomic’ percent by
default, but can also return weight percent if specified.</p></li>
<li><p><strong>absorption_correction</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Specify whether or not an absorption correction should be applied.
‘False’ by default so absorption will not be applied unless
specfied.</p></li>
<li><p><strong>take_off_angle</strong> (<em>{'auto'}</em>) – The angle between the sample surface and the vector along which
X-rays travel to reach the centre of the detector.</p></li>
<li><p><strong>thickness</strong> (<em>{'auto'}</em>) – thickness in nm (can be a single value or
have the same navigation dimension as the signal).
NB: Must be specified for ‘CL’ method. For ‘zeta’ or ‘cross_section’
methods, first quantification step provides a mass_thickness
internally during quantification.</p></li>
<li><p><strong>convergence_criterion</strong> (<em>The convergence criterium defined as the percentage</em>) – difference between 2 successive iterations. 0.5% by default.</p></li>
<li><p><strong>navigation_mask</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a><em> or </em><em>signal</em>) – The navigation locations marked as True are not used in the
quantification. If float is given the vacuum_mask method is used to
generate a mask with the float value as threhsold.
Else provides a signal with the navigation shape.</p></li>
<li><p><strong>closing</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – If true, applied a morphologic closing to the mask obtained by
vacuum_mask.</p></li>
<li><p><strong>plot_result</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – If True, plot the calculated composition. If the current
object is a single spectrum it prints the result instead.</p></li>
<li><p><strong>= {'auto'}</strong> (<em>probe_area</em>) – This allows the user to specify the probe_area for interaction with
the sample needed specifically for the cross_section method of
quantification. When left as ‘auto’ the pixel area is used,
calculated from the navigation axes information.</p></li>
<li><p><strong>max_iterations</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – An upper limit to the number of calculations for absorption correction.</p></li>
<li><p><strong>kwargs</strong> – The extra keyword arguments are passed to plot.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>A list of quantified elemental maps (signal) giving the composition of</em></p></li>
<li><p><em>the sample in weight or atomic percent with absorption correciton taken</em></p></li>
<li><p><em>into account based on the sample thickness estimate provided.</em></p></li>
<li><p><em>If the method is ‘zeta’ this function also returns the mass thickness</em></p></li>
<li><p><em>profile for the data.</em></p></li>
<li><p><em>If the method is ‘cross_section’ this function also returns the atom</em></p></li>
<li><p><em>counts for each element.</em></p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_lines</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kfactors</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.450226</span><span class="p">,</span> <span class="mf">5.075602</span><span class="p">]</span> <span class="c1">#For Fe Ka and Pt La</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bw</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">estimate_background_windows</span><span class="p">(</span><span class="n">line_width</span><span class="o">=</span><span class="p">[</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">background_windows</span><span class="o">=</span><span class="n">bw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">intensities</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">get_lines_intensity</span><span class="p">(</span><span class="n">background_windows</span><span class="o">=</span><span class="n">bw</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">quantification</span><span class="p">(</span><span class="n">intensities</span><span class="p">,</span> <span class="n">kfactors</span><span class="p">,</span> <span class="n">plot_result</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                       <span class="n">composition_units</span><span class="o">=</span><span class="s1">&#39;atomic&#39;</span><span class="p">)</span>
<span class="go">Fe (Fe_Ka): Composition = 15.41 atomic percent</span>
<span class="go">Pt (Pt_La): Composition = 84.59 atomic percent</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#hyperspy._signals.eds_tem.EDSTEM_mixin.vacuum_mask" title="hyperspy._signals.eds_tem.EDSTEM_mixin.vacuum_mask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">vacuum_mask</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="hyperspy._signals.eds_tem.EDSTEM_mixin.set_microscope_parameters">
<code class="sig-name descname">set_microscope_parameters</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">beam_energy</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">live_time</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tilt_stage</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">azimuth_angle</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">elevation_angle</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">energy_resolution_MnKa</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">beam_current</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">probe_area</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">real_time</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">display</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">toolkit</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEM_mixin.set_microscope_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the microscope parameters.</p>
<p>If no arguments are given, raises an interactive mode to fill
the values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>beam_energy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – The energy of the electron beam in keV</p></li>
<li><p><strong>live_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – In seconds</p></li>
<li><p><strong>tilt_stage</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – In degree</p></li>
<li><p><strong>azimuth_angle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – In degree</p></li>
<li><p><strong>elevation_angle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – In degree</p></li>
<li><p><strong>energy_resolution_MnKa</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – In eV</p></li>
<li><p><strong>beam_current</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – In nA</p></li>
<li><p><strong>probe_area</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – In nm²</p></li>
<li><p><strong>real_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – In seconds</p></li>
<li><p><strong>display</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – If True, display the user interface widgets. If False, return the
widgets container in a dictionary, usually for customisation or
testing.</p></li>
<li><p><strong>toolkit</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>iterable of strings</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><em>None</em></a>) – If None (default), all available widgets are displayed or returned.
If string, only the widgets of the selected toolkit are displayed
if available. If an interable of toolkit strings, the widgets of
all listed toolkits are displayed or returned.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Acquisition_instrument</span><span class="o">.</span>
<span class="gp">&gt;&gt;&gt; </span>      <span class="n">TEM</span><span class="o">.</span><span class="n">Detector</span><span class="o">.</span><span class="n">EDS</span><span class="o">.</span><span class="n">energy_resolution_MnKa</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">set_microscope_parameters</span><span class="p">(</span><span class="n">energy_resolution_MnKa</span><span class="o">=</span><span class="mf">135.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">Acquisition_instrument</span><span class="o">.</span>
<span class="gp">&gt;&gt;&gt; </span>      <span class="n">TEM</span><span class="o">.</span><span class="n">Detector</span><span class="o">.</span><span class="n">EDS</span><span class="o">.</span><span class="n">energy_resolution_MnKa</span><span class="p">)</span>
<span class="go">133.312296</span>
<span class="go">135.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="hyperspy._signals.eds_tem.EDSTEM_mixin.vacuum_mask">
<code class="sig-name descname">vacuum_mask</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">closing</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">opening</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.EDSTEM_mixin.vacuum_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate mask of the vacuum region</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.9)"><em>float</em></a>) – For a given pixel, maximum value in the energy axis below which the
pixel is considered as vacuum.</p></li>
<li><p><strong>closing</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – If true, applied a morphologic closing to the mask</p></li>
<li><p><strong>opnening</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – If true, applied a morphologic opening to the mask</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Simulate a spectrum image with vacuum region</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">example_signals</span><span class="o">.</span><span class="n">EDS_TEM_Spectrum</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s_vac</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">signals</span><span class="o">.</span><span class="n">BaseSignal</span><span class="p">(</span>
<span class="go">        np.ones_like(s.data, dtype=float))*0.005</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s_vac</span><span class="o">.</span><span class="n">add_poissonian_noise</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">si</span> <span class="o">=</span> <span class="n">hs</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">s</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span> <span class="o">+</span> <span class="p">[</span><span class="n">s_vac</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">si</span><span class="o">.</span><span class="n">vacuum_mask</span><span class="p">()</span><span class="o">.</span><span class="n">data</span>
<span class="go">array([False, False, False,  True], dtype=bool)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>mask</strong> – The mask of the region</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>signal</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="hyperspy._signals.eds_tem.LazyEDSTEMSpectrum">
<em class="property">class </em><code class="sig-prename descclassname">hyperspy._signals.eds_tem.</code><code class="sig-name descname">LazyEDSTEMSpectrum</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwards</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hyperspy._signals.eds_tem.LazyEDSTEMSpectrum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#hyperspy._signals.eds_tem.EDSTEMSpectrum" title="hyperspy._signals.eds_tem.EDSTEMSpectrum"><code class="xref py py-class docutils literal notranslate"><span class="pre">hyperspy._signals.eds_tem.EDSTEMSpectrum</span></code></a>, <a class="reference internal" href="hyperspy._signals.eds.html#hyperspy._signals.eds.LazyEDSSpectrum" title="hyperspy._signals.eds.LazyEDSSpectrum"><code class="xref py py-class docutils literal notranslate"><span class="pre">hyperspy._signals.eds.LazyEDSSpectrum</span></code></a></p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="hyperspy._signals.eels.html" class="btn btn-neutral float-right" title="hyperspy._signals.eels module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="hyperspy._signals.eds_sem.html" class="btn btn-neutral float-left" title="hyperspy._signals.eds_sem module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2011-2020, The HyperSpy development team

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>